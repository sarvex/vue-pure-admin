import{a1 as Qm,d as Li,az as Sm,r as so,o as qm,b as zt,h as ji,e as on,f as fo,g as gn,L as eb,Y as tb,J as Pm,S as rb,l as Wo,j as Ko,av as Tm,aC as nb,_ as ld,aB as ob,Z as RC,ac as IC,i as nd,a0 as sd,k as Mm,ao as _C,ap as BC}from"./index.c1aacf0f.js";import{u as LC}from"./hooks.a4f0b23d.js";import{r as zC}from"./vue.runtime.esm-bundler.b614bb03.js";const FC=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}],HC={flowElementList:FC};var Ke={exports:{}};(function(m,v){(function(c,i){m.exports=i()})(window,function(){return function(u){var c={};function i(l){if(c[l])return c[l].exports;var f=c[l]={i:l,l:!1,exports:{}};return u[l].call(f.exports,f,f.exports,i),f.l=!0,f.exports}return i.m=u,i.c=c,i.d=function(l,f,y){i.o(l,f)||Object.defineProperty(l,f,{enumerable:!0,get:y})},i.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},i.t=function(l,f){if(f&1&&(l=i(l)),f&8||f&4&&typeof l=="object"&&l&&l.__esModule)return l;var y=Object.create(null);if(i.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:l}),f&2&&typeof l!="string")for(var b in l)i.d(y,b,function(x){return l[x]}.bind(null,b));return y},i.n=function(l){var f=l&&l.__esModule?function(){return l.default}:function(){return l};return i.d(f,"a",f),f},i.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)},i.p="",i(i.s=215)}([function(u,c,i){(function(l,f){i.d(c,"a",function(){return D}),i.d(c,"b",function(){return ii}),i.d(c,"c",function(){return sn}),i.d(c,"d",function(){return sr}),i.d(c,"e",function(){return Ue}),i.d(c,"f",function(){return De}),i.d(c,"g",function(){return Fi}),i.d(c,"h",function(){return Zn}),i.d(c,"i",function(){return ot}),i.d(c,"j",function(){return Sr}),i.d(c,"k",function(){return Ur}),i.d(c,"l",function(){return Dr}),i.d(c,"m",function(){return xr}),i.d(c,"n",function(){return vs}),i.d(c,"o",function(){return se}),i.d(c,"p",function(){return Es}),i.d(c,"q",function(){return oi}),i.d(c,"r",function(){return gs}),i.d(c,"s",function(){return wr}),i.d(c,"t",function(){return Ji}),i.d(c,"u",function(){return cs}),i.d(c,"v",function(){return ms}),i.d(c,"w",function(){return bs}),i.d(c,"x",function(){return Sn}),i.d(c,"y",function(){return Cr}),i.d(c,"z",function(){return Ut}),i.d(c,"A",function(){return yr}),i.d(c,"B",function(){return Pn}),i.d(c,"C",function(){return bt}),i.d(c,"D",function(){return xs}),i.d(c,"E",function(){return ni}),i.d(c,"F",function(){return ps}),i.d(c,"G",function(){return fs}),i.d(c,"H",function(){return Yi}),i.d(c,"I",function(){return Ts}),i.d(c,"J",function(){return Pr}),i.d(c,"K",function(){return re}),i.d(c,"L",function(){return Os}),i.d(c,"M",function(){return Mn});var y="An invariant failed, however the error is obfuscated because this is a production build.",b=[];Object.freeze(b);var x={};Object.freeze(x);function S(){return++Ge.mobxGuid}function P(d){throw A(!1,d),"X"}function A(d,h){if(!d)throw new Error("[mobx] "+(h||y))}function N(d){var h=!1;return function(){if(!h)return h=!0,d.apply(this,arguments)}}var R=function(){};function I(d){var h=[];return d.forEach(function(O){h.indexOf(O)===-1&&h.push(O)}),h}function B(d){return d!==null&&typeof d=="object"}function k(d){if(d===null||typeof d!="object")return!1;var h=Object.getPrototypeOf(d);return h===Object.prototype||h===null}function W(d){if(Q(d)||Ut(d))return d;if(Array.isArray(d))return new Map(d);if(k(d)){var h=new Map;for(var O in d)h.set(O,d[O]);return h}else return P("Cannot convert to map from '"+d+"'")}function Y(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!0,configurable:!0,value:O})}function ie(d,h,O){Object.defineProperty(d,h,{enumerable:!1,writable:!1,configurable:!0,value:O})}function te(d,h){var O=Object.getOwnPropertyDescriptor(d,h);return!O||O.configurable!==!1&&O.writable!==!1}function q(d,h){var O="isMobX"+d;return h.prototype[O]=!0,function(j){return B(j)&&j[O]===!0}}function Q(d){return d instanceof Map}function le(d){return d instanceof Set}function L(d){var h=new Set;for(var O in d)h.add(O);return Object.getOwnPropertySymbols(d).forEach(function(j){Object.getOwnPropertyDescriptor(d,j).enumerable&&h.add(j)}),Array.from(h)}function U(d){return d&&d.toString?d.toString():new String(d).toString()}function T(d){return d===null?null:typeof d=="object"?""+d:d}var M=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:Object.getOwnPropertyNames,D=Symbol("mobx administration"),X=function(){function d(h){h===void 0&&(h="Atom@"+S()),this.name=h,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=rt.NOT_TRACKING}return d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.reportObserved=function(){return $i(this)},d.prototype.reportChanged=function(){Mt(),rs(this),hr()},d.prototype.toString=function(){return this.name},d}(),K=q("Atom",X);function se(d,h,O){h===void 0&&(h=R),O===void 0&&(O=R);var j=new X(d);return h!==R&&hs(j,h),O!==R&&ni(j,O),j}function be(d,h){return d===h}function me(d,h){return Eo(d,h)}function ge(d,h){return Eo(d,h,1)}function Ee(d,h){return Object.is(d,h)}var Oe={identity:be,structural:me,default:Ee,shallow:ge};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Ae=function(d,h){return Ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,j){O.__proto__=j}||function(O,j){for(var H in j)j.hasOwnProperty(H)&&(O[H]=j[H])},Ae(d,h)};function ze(d,h){Ae(d,h);function O(){this.constructor=d}d.prototype=h===null?Object.create(h):(O.prototype=h.prototype,new O)}var Ye=function(){return Ye=Object.assign||function(h){for(var O,j=1,H=arguments.length;j<H;j++){O=arguments[j];for(var Z in O)Object.prototype.hasOwnProperty.call(O,Z)&&(h[Z]=O[Z])}return h},Ye.apply(this,arguments)};function Ie(d){var h=typeof Symbol=="function"&&d[Symbol.iterator],O=0;return h?h.call(d):{next:function(){return d&&O>=d.length&&(d=void 0),{value:d&&d[O++],done:!d}}}}function Pe(d,h){var O=typeof Symbol=="function"&&d[Symbol.iterator];if(!O)return d;var j=O.call(d),H,Z=[],pe;try{for(;(h===void 0||h-- >0)&&!(H=j.next()).done;)Z.push(H.value)}catch(Me){pe={error:Me}}finally{try{H&&!H.done&&(O=j.return)&&O.call(j)}finally{if(pe)throw pe.error}}return Z}function _e(){for(var d=[],h=0;h<arguments.length;h++)d=d.concat(Pe(arguments[h]));return d}var Be=Symbol("mobx did run lazy initializers"),_=Symbol("mobx pending decorators"),F={},V={};function fe(d,h){var O=h?F:V;return O[d]||(O[d]={configurable:!0,enumerable:h,get:function(){return ve(this),this[d]},set:function(j){ve(this),this[d]=j}})}function ve(d){var h,O;if(d[Be]!==!0){var j=d[_];if(j){Y(d,Be,!0);var H=_e(Object.getOwnPropertySymbols(j),Object.keys(j));try{for(var Z=Ie(H),pe=Z.next();!pe.done;pe=Z.next()){var Me=pe.value,$e=j[Me];$e.propertyCreator(d,$e.prop,$e.descriptor,$e.decoratorTarget,$e.decoratorArguments)}}catch(ct){h={error:ct}}finally{try{pe&&!pe.done&&(O=Z.return)&&O.call(Z)}finally{if(h)throw h.error}}}}}function de(d,h){return function(){var j,H=function(pe,Me,$e,ct){if(ct===!0)return h(pe,Me,$e,pe,j),null;if(!Object.prototype.hasOwnProperty.call(pe,_)){var dt=pe[_];Y(pe,_,Ye({},dt))}return pe[_][Me]={prop:Me,propertyCreator:h,descriptor:$e,decoratorTarget:pe,decoratorArguments:j},fe(Me,d)};return Le(arguments)?(j=b,H.apply(null,arguments)):(j=Array.prototype.slice.call(arguments),H)}}function Le(d){return(d.length===2||d.length===3)&&(typeof d[1]=="string"||typeof d[1]=="symbol")||d.length===4&&d[3]===!0}function Je(d,h,O){return Sn(d)?d:Array.isArray(d)?bt.array(d,{name:O}):k(d)?bt.object(d,void 0,{name:O}):Q(d)?bt.map(d,{name:O}):le(d)?bt.set(d,{name:O}):d}function Xe(d,h,O){return d==null||yr(d)||Cr(d)||Ut(d)||fr(d)?d:Array.isArray(d)?bt.array(d,{name:O,deep:!1}):k(d)?bt.object(d,void 0,{name:O,deep:!1}):Q(d)?bt.map(d,{name:O,deep:!1}):le(d)?bt.set(d,{name:O,deep:!1}):P(!1)}function Ve(d){return d}function ye(d,h,O){return Eo(d,h)?h:d}function it(d){A(d);var h=de(!0,function(j,H,Z,pe,Me){var $e=Z?Z.initializer?Z.initializer.call(j):Z.value:void 0;ai(j).addObservableProp(H,$e,d)}),O=(typeof l<"u"&&l.env,h);return O.enhancer=d,O}var qe={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(qe);function Fe(d){return d==null?qe:typeof d=="string"?{name:d,deep:!0,proxy:!0}:d}var Qe=it(Je),xt=it(Xe),lt=it(Ve),mt=it(ye);function oe(d){return d.defaultDecorator?d.defaultDecorator.enhancer:d.deep===!1?Ve:Je}function Ct(d,h,O){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return Qe.apply(null,arguments);if(Sn(d))return d;var j=k(d)?bt.object(d,h,O):Array.isArray(d)?bt.array(d,h):Q(d)?bt.map(d,h):le(d)?bt.set(d,h):d;if(j!==d)return j;P(!1)}var Pt={box:function(d,h){arguments.length>2&&Vt("box");var O=Fe(h);return new ln(d,oe(O),O.name,!0,O.equals)},array:function(d,h){arguments.length>2&&Vt("array");var O=Fe(h);return js(d,oe(O),O.name)},map:function(d,h){arguments.length>2&&Vt("map");var O=Fe(h);return new ii(d,oe(O),O.name)},set:function(d,h){arguments.length>2&&Vt("set");var O=Fe(h);return new ua(d,oe(O),O.name)},object:function(d,h,O){typeof arguments[1]=="string"&&Vt("object");var j=Fe(O);if(j.proxy===!1)return oi({},d,h,j);var H=Ki(j),Z=oi({},void 0,void 0,j),pe=An(Z);return Zi(pe,d,h,H),pe},ref:lt,shallow:xt,deep:Qe,struct:mt},bt=Ct;Object.keys(Pt).forEach(function(d){return bt[d]=Pt[d]});function Vt(d){P("Expected one or two arguments to observable."+d+". Did you accidentally try to use observable."+d+" as decorator?")}var pr=de(!1,function(d,h,O,j,H){var Z=O.get,pe=O.set,Me=H[0]||{};ai(d).addComputedProp(d,h,Ye({get:Z,set:pe,context:d},Me))}),Zt=pr({equals:Oe.structural}),xr=function(h,O,j){if(typeof O=="string"||h!==null&&typeof h=="object"&&arguments.length===1)return pr.apply(null,arguments);var H=typeof O=="object"?O:{};return H.get=h,H.set=typeof O=="function"?O:H.set,H.name=H.name||h.name||"",new bn(H)};xr.struct=Zt;var rt;(function(d){d[d.NOT_TRACKING=-1]="NOT_TRACKING",d[d.UP_TO_DATE=0]="UP_TO_DATE",d[d.POSSIBLY_STALE=1]="POSSIBLY_STALE",d[d.STALE=2]="STALE"})(rt||(rt={}));var Tt;(function(d){d[d.NONE=0]="NONE",d[d.LOG=1]="LOG",d[d.BREAK=2]="BREAK"})(Tt||(Tt={}));var nr=function(){function d(h){this.cause=h}return d}();function je(d){return d instanceof nr}function We(d){switch(d.dependenciesState){case rt.UP_TO_DATE:return!1;case rt.NOT_TRACKING:case rt.STALE:return!0;case rt.POSSIBLY_STALE:{for(var h=De(!0),O=ne(),j=d.observing,H=j.length,Z=0;Z<H;Z++){var pe=j[Z];if(On(pe)){if(Ge.disableErrorBoundaries)pe.get();else try{pe.get()}catch{return we(O),Ue(h),!0}if(d.dependenciesState===rt.STALE)return we(O),Ue(h),!0}}return vt(d),we(O),Ue(h),!1}}}function ot(){return Ge.trackingDerivation!==null}function tt(d){var h=d.observers.size>0;Ge.computationDepth>0&&h&&P(!1),!Ge.allowStateChanges&&(h||Ge.enforceActions==="strict")&&P(!1)}function ft(d,h,O){var j=De(!0);vt(d),d.newObserving=new Array(d.observing.length+100),d.unboundDepsCount=0,d.runId=++Ge.runId;var H=Ge.trackingDerivation;Ge.trackingDerivation=d;var Z;if(Ge.disableErrorBoundaries===!0)Z=h.call(O);else try{Z=h.call(O)}catch(pe){Z=new nr(pe)}return Ge.trackingDerivation=H,G(d),Ue(j),Z}function G(d){for(var h=d.observing,O=d.observing=d.newObserving,j=rt.UP_TO_DATE,H=0,Z=d.unboundDepsCount,pe=0;pe<Z;pe++){var Me=O[pe];Me.diffValue===0&&(Me.diffValue=1,H!==pe&&(O[H]=Me),H++),Me.dependenciesState>j&&(j=Me.dependenciesState)}for(O.length=H,d.newObserving=null,Z=h.length;Z--;){var Me=h[Z];Me.diffValue===0&&$r(Me,d),Me.diffValue=0}for(;H--;){var Me=O[H];Me.diffValue===1&&(Me.diffValue=0,ts(Me,d))}j!==rt.UP_TO_DATE&&(d.dependenciesState=j,d.onBecomeStale())}function J(d){var h=d.observing;d.observing=[];for(var O=h.length;O--;)$r(h[O],d);d.dependenciesState=rt.NOT_TRACKING}function re(d){var h=ne();try{return d()}finally{we(h)}}function ne(){var d=Ge.trackingDerivation;return Ge.trackingDerivation=null,d}function we(d){Ge.trackingDerivation=d}function De(d){var h=Ge.allowStateReads;return Ge.allowStateReads=d,h}function Ue(d){Ge.allowStateReads=d}function vt(d){if(d.dependenciesState!==rt.UP_TO_DATE){d.dependenciesState=rt.UP_TO_DATE;for(var h=d.observing,O=h.length;O--;)h[O].lowestObserverState=rt.UP_TO_DATE}}var Jt=0,Qt=1,$n=Object.getOwnPropertyDescriptor(function(){},"name");$n&&$n.configurable;function Gr(d,h,O){var j=function(){return zi(d,h,O||this,arguments)};return j.isMobxAction=!0,j}function zi(d,h,O,j){var H=Sr();try{return h.apply(O,j)}catch(Z){throw H.error=Z,Z}finally{Fi(H)}}function Sr(d,h,O){var j=Rt(),H=0,Z=ne();Mt();var pe=mn(!0),Me=De(!0),$e={prevDerivation:Z,prevAllowStateChanges:pe,prevAllowStateReads:Me,notifySpy:j,startTime:H,actionId:Qt++,parentActionId:Jt};return Jt=$e.actionId,$e}function Fi(d){Jt!==d.actionId&&P("invalid action stack. did you forget to finish an action?"),Jt=d.parentActionId,d.error!==void 0&&(Ge.suppressReactionErrors=!0),Un(d.prevAllowStateChanges),Ue(d.prevAllowStateReads),hr(),we(d.prevDerivation),d.notifySpy,Ge.suppressReactionErrors=!1}function sr(d,h){var O=mn(d),j;try{j=h()}finally{Un(O)}return j}function mn(d){var h=Ge.allowStateChanges;return Ge.allowStateChanges=d,h}function Un(d){Ge.allowStateChanges=d}var ln=function(d){ze(h,d);function h(O,j,H,Z,pe){H===void 0&&(H="ObservableValue@"+S()),Z===void 0&&(Z=!0),pe===void 0&&(pe=Oe.default);var Me=d.call(this,H)||this;return Me.enhancer=j,Me.name=H,Me.equals=pe,Me.hasUnreportedChange=!1,Me.value=j(O,void 0,H),Z&&Rt(),Me}return h.prototype.dehanceValue=function(O){return this.dehancer!==void 0?this.dehancer(O):O},h.prototype.set=function(O){var j=this.value;if(O=this.prepareNewValue(O),O!==Ge.UNCHANGED){var H=Rt();this.setNewValue(O)}},h.prototype.prepareNewValue=function(O){if(tt(this),Tr(this)){var j=Mr(this,{object:this,type:"update",newValue:O});if(!j)return Ge.UNCHANGED;O=j.newValue}return O=this.enhancer(O,this.value,this.name),this.equals(this.value,O)?Ge.UNCHANGED:O},h.prototype.setNewValue=function(O){var j=this.value;this.value=O,this.reportChanged(),vr(this)&&qt(this,{type:"update",object:this,newValue:O,oldValue:j})},h.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},h.prototype.intercept=function(O){return Wn(this,O)},h.prototype.observe=function(O,j){return j&&O({object:this,type:"update",newValue:this.value,oldValue:void 0}),Kn(this,O)},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.value+"]"},h.prototype.valueOf=function(){return T(this.get())},h.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},h}(X),Xn=q("ObservableValue",ln),bn=function(){function d(h){this.dependenciesState=rt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=rt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+S(),this.value=new nr(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Tt.NONE,A(h.get,"missing option for computed: get"),this.derivation=h.get,this.name=h.name||"ComputedValue@"+S(),h.set&&(this.setter=Gr(this.name+"-setter",h.set)),this.equals=h.equals||(h.compareStructural||h.struct?Oe.structural:Oe.default),this.scope=h.context,this.requiresReaction=!!h.requiresReaction,this.keepAlive=!!h.keepAlive}return d.prototype.onBecomeStale=function(){os(this)},d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.get=function(){this.isComputing&&P("Cycle detected in computation "+this.name+": "+this.derivation),Ge.inBatch===0&&this.observers.size===0&&!this.keepAlive?We(this)&&(this.warnAboutUntrackedRead(),Mt(),this.value=this.computeValue(!1),hr()):($i(this),We(this)&&this.trackAndCompute()&&ns(this));var h=this.value;if(je(h))throw h.cause;return h},d.prototype.peek=function(){var h=this.computeValue(!1);if(je(h))throw h.cause;return h},d.prototype.set=function(h){if(this.setter){A(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,h)}finally{this.isRunningSetter=!1}}else A(!1,!1)},d.prototype.trackAndCompute=function(){var h=this.value,O=this.dependenciesState===rt.NOT_TRACKING,j=this.computeValue(!0),H=O||je(h)||je(j)||!this.equals(h,j);return H&&(this.value=j),H},d.prototype.computeValue=function(h){this.isComputing=!0,Ge.computationDepth++;var O;if(h)O=ft(this,this.derivation,this.scope);else if(Ge.disableErrorBoundaries===!0)O=this.derivation.call(this.scope);else try{O=this.derivation.call(this.scope)}catch(j){O=new nr(j)}return Ge.computationDepth--,this.isComputing=!1,O},d.prototype.suspend=function(){this.keepAlive||(J(this),this.value=void 0)},d.prototype.observe=function(h,O){var j=this,H=!0,Z=void 0;return Dr(function(){var pe=j.get();if(!H||O){var Me=ne();h({type:"update",object:j,newValue:pe,oldValue:Z}),we(Me)}H=!1,Z=pe})},d.prototype.warnAboutUntrackedRead=function(){},d.prototype.toJSON=function(){return this.get()},d.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},d.prototype.valueOf=function(){return T(this.get())},d.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},d}(),On=q("ComputedValue",bn),po=function(){function d(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return d}(),es={};function ho(){return typeof window<"u"?window:typeof f<"u"?f:typeof self<"u"?self:es}var vo=!0,Hi=!1,Ge=function(){var d=ho();return d.__mobxInstanceCount>0&&!d.__mobxGlobals&&(vo=!1),d.__mobxGlobals&&d.__mobxGlobals.version!==new po().version&&(vo=!1),vo?d.__mobxGlobals?(d.__mobxInstanceCount+=1,d.__mobxGlobals.UNCHANGED||(d.__mobxGlobals.UNCHANGED={}),d.__mobxGlobals):(d.__mobxInstanceCount=1,d.__mobxGlobals=new po):(setTimeout(function(){Hi||P("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new po)}();function ki(){(Ge.pendingReactions.length||Ge.inBatch||Ge.isRunningReactions)&&P("isolateGlobalState should be called before MobX is running any reactions"),Hi=!0,vo&&(--ho().__mobxInstanceCount===0&&(ho().__mobxGlobals=void 0),Ge=new po)}function ts(d,h){d.observers.add(h),d.lowestObserverState>h.dependenciesState&&(d.lowestObserverState=h.dependenciesState)}function $r(d,h){d.observers.delete(h),d.observers.size===0&&Gi(d)}function Gi(d){d.isPendingUnobservation===!1&&(d.isPendingUnobservation=!0,Ge.pendingUnobservations.push(d))}function Mt(){Ge.inBatch++}function hr(){if(--Ge.inBatch===0){Xi();for(var d=Ge.pendingUnobservations,h=0;h<d.length;h++){var O=d[h];O.isPendingUnobservation=!1,O.observers.size===0&&(O.isBeingObserved&&(O.isBeingObserved=!1,O.onBecomeUnobserved()),O instanceof bn&&O.suspend())}Ge.pendingUnobservations=[]}}function $i(d){var h=Ge.trackingDerivation;return h!==null?(h.runId!==d.lastAccessedBy&&(d.lastAccessedBy=h.runId,h.newObserving[h.unboundDepsCount++]=d,d.isBeingObserved||(d.isBeingObserved=!0,d.onBecomeObserved())),!0):(d.observers.size===0&&Ge.inBatch>0&&Gi(d),!1)}function rs(d){d.lowestObserverState!==rt.STALE&&(d.lowestObserverState=rt.STALE,d.observers.forEach(function(h){h.dependenciesState===rt.UP_TO_DATE&&(h.isTracing!==Tt.NONE&&yo(h,d),h.onBecomeStale()),h.dependenciesState=rt.STALE}))}function ns(d){d.lowestObserverState!==rt.STALE&&(d.lowestObserverState=rt.STALE,d.observers.forEach(function(h){h.dependenciesState===rt.POSSIBLY_STALE?h.dependenciesState=rt.STALE:h.dependenciesState===rt.UP_TO_DATE&&(d.lowestObserverState=rt.UP_TO_DATE)}))}function os(d){d.lowestObserverState===rt.UP_TO_DATE&&(d.lowestObserverState=rt.POSSIBLY_STALE,d.observers.forEach(function(h){h.dependenciesState===rt.UP_TO_DATE&&(h.dependenciesState=rt.POSSIBLY_STALE,h.isTracing!==Tt.NONE&&yo(h,d),h.onBecomeStale())}))}function yo(d,h){if(console.log("[mobx.trace] '"+d.name+"' is invalidated due to a change in: '"+h.name+"'"),d.isTracing===Tt.BREAK){var O=[];Ui(Ji(d),O,1),new Function(`debugger;
/*
Tracing '`+d.name+`'

You are entering this break point because derivation '`+d.name+"' is being traced and '"+h.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(d instanceof bn?d.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+O.join(`
`)+`
*/
    `)()}}function Ui(d,h,O){if(h.length>=1e3){h.push("(and many more)");return}h.push(""+new Array(O).join("	")+d.name),d.dependencies&&d.dependencies.forEach(function(j){return Ui(j,h,O+1)})}var sn=function(){function d(h,O,j,H){h===void 0&&(h="Reaction@"+S()),H===void 0&&(H=!1),this.name=h,this.onInvalidate=O,this.errorHandler=j,this.requiresObservable=H,this.observing=[],this.newObserving=[],this.dependenciesState=rt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+S(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Tt.NONE}return d.prototype.onBecomeStale=function(){this.schedule()},d.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ge.pendingReactions.push(this),Xi())},d.prototype.isScheduled=function(){return this._isScheduled},d.prototype.runReaction=function(){if(!this.isDisposed){if(Mt(),this._isScheduled=!1,We(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Rt()}catch(h){this.reportExceptionInDerivation(h)}}hr()}},d.prototype.track=function(h){if(!this.isDisposed){Mt(),this._isRunning=!0;var O=ft(this,h,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&J(this),je(O)&&this.reportExceptionInDerivation(O.cause),hr()}},d.prototype.reportExceptionInDerivation=function(h){var O=this;if(this.errorHandler){this.errorHandler(h,this);return}if(Ge.disableErrorBoundaries)throw h;var j="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ge.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(j,h),Ge.globalReactionErrorHandlers.forEach(function(H){return H(h,O)})},d.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Mt(),J(this),hr()))},d.prototype.getDisposer=function(){var h=this.dispose.bind(this);return h[D]=this,h},d.prototype.toString=function(){return"Reaction["+this.name+"]"},d.prototype.trace=function(h){h===void 0&&(h=!1),Ms(this,h)},d}(),ei=100,ti=function(d){return d()};function Xi(){Ge.inBatch>0||Ge.isRunningReactions||ti(is)}function is(){Ge.isRunningReactions=!0;for(var d=Ge.pendingReactions,h=0;d.length>0;){++h===ei&&(console.error("Reaction doesn't converge to a stable state after "+ei+" iterations."+(" Probably there is a cycle in the reactive function: "+d[0])),d.splice(0));for(var O=d.splice(0),j=0,H=O.length;j<H;j++)O[j].runReaction()}Ge.isRunningReactions=!1}var go=q("Reaction",sn);function as(d){var h=ti;ti=function(O){return d(function(){return h(O)})}}function Rt(){return!1}function hd(d){}function vd(d){}function yd(d){}function Yi(d){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function us(){P(!1)}function Vi(d){return function(h,O,j){if(j){if(j.value)return{value:Gr(d,j.value),enumerable:!1,configurable:!0,writable:!0};var H=j.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Gr(d,H.call(this))}}}return ls(d).apply(this,arguments)}}function ls(d){return function(h,O,j){Object.defineProperty(h,O,{configurable:!0,enumerable:!1,get:function(){},set:function(H){Y(this,O,Ur(d,H))}})}}function ss(d,h,O,j){return j===!0?(ri(d,h,O.value),null):O?{configurable:!0,enumerable:!1,get:function(){return ri(this,h,O.value||O.initializer.call(this)),this[h]},set:us}:{enumerable:!1,configurable:!0,set:function(H){ri(this,h,H)},get:function(){}}}var Ur=function(h,O,j,H){if(arguments.length===1&&typeof h=="function")return Gr(h.name||"<unnamed action>",h);if(arguments.length===2&&typeof O=="function")return Gr(h,O);if(arguments.length===1&&typeof h=="string")return Vi(h);if(H===!0)Y(h,O,Gr(h.name||O,j.value,this));else return Vi(O).apply(null,arguments)};Ur.bound=ss;function fs(d,h){var O=typeof d=="string"?d:d.name||"<unnamed action>",j=typeof d=="function"?d:h;return zi(O,j,this,void 0)}function cs(d){return typeof d=="function"&&d.isMobxAction===!0}function ri(d,h,O){Y(d,h,Gr(h,O.bind(d)))}function Dr(d,h){h===void 0&&(h=x);var O=h&&h.name||d.name||"Autorun@"+S(),j=!h.scheduler&&!h.delay,H;if(j)H=new sn(O,function(){this.track(Me)},h.onError,h.requiresObservable);else{var Z=En(h),pe=!1;H=new sn(O,function(){pe||(pe=!0,Z(function(){pe=!1,H.isDisposed||H.track(Me)}))},h.onError,h.requiresObservable)}function Me(){d(H)}return H.schedule(),H.getDisposer()}var ds=function(d){return d()};function En(d){return d.scheduler?d.scheduler:d.delay?function(h){return setTimeout(h,d.delay)}:ds}function ps(d,h,O){O===void 0&&(O=x);var j=O.name||"Reaction@"+S(),H=Ur(j,O.onError?Yn(O.onError,h):h),Z=!O.scheduler&&!O.delay,pe=En(O),Me=!0,$e=!1,ct,dt=O.compareStructural?Oe.structural:O.equals||Oe.default,Ot=new sn(j,function(){Me||Z?St():$e||($e=!0,pe(St))},O.onError,O.requiresObservable);function St(){if($e=!1,!Ot.isDisposed){var _t=!1;Ot.track(function(){var Xt=d(Ot);_t=Me||!dt(ct,Xt),ct=Xt}),Me&&O.fireImmediately&&H(ct,Ot),!Me&&_t===!0&&H(ct,Ot),Me&&(Me=!1)}}return Ot.schedule(),Ot.getDisposer()}function Yn(d,h){return function(){try{return h.apply(this,arguments)}catch(O){d.call(this,O)}}}function hs(d,h,O){return Wi("onBecomeObserved",d,h,O)}function ni(d,h,O){return Wi("onBecomeUnobserved",d,h,O)}function Wi(d,h,O,j){var H=typeof j=="function"?wr(h,O):wr(h),Z=typeof j=="function"?j:O,pe=d+"Listeners";H[pe]?H[pe].add(Z):H[pe]=new Set([Z]);var Me=H[d];return typeof Me!="function"?P(!1):function(){var $e=H[pe];$e&&($e.delete(Z),$e.size===0&&delete H[pe])}}function vs(d){var h=d.enforceActions,O=d.computedRequiresReaction,j=d.computedConfigurable,H=d.disableErrorBoundaries,Z=d.reactionScheduler,pe=d.reactionRequiresObservable,Me=d.observableRequiresReaction;if(d.isolateGlobalState===!0&&ki(),h!==void 0){var $e=void 0;switch(h){case!0:case"observed":$e=!0;break;case!1:case"never":$e=!1;break;case"strict":case"always":$e="strict";break;default:P("Invalid value for 'enforceActions': '"+h+"', expected 'never', 'always' or 'observed'")}Ge.enforceActions=$e,Ge.allowStateChanges=!($e===!0||$e==="strict")}O!==void 0&&(Ge.computedRequiresReaction=!!O),pe!==void 0&&(Ge.reactionRequiresObservable=!!pe),Me!==void 0&&(Ge.observableRequiresReaction=!!Me,Ge.allowStateReads=!Ge.observableRequiresReaction),j!==void 0&&(Ge.computedConfigurable=!!j),H!==void 0&&(H===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ge.disableErrorBoundaries=!!H),Z&&as(Z)}function oi(d,h,O,j){j=Fe(j);var H=Ki(j);return ve(d),ai(d,j.name,H.enhancer),h&&Zi(d,h,O,H),d}function Ki(d){return d.defaultDecorator||(d.deep===!1?lt:Qe)}function Zi(d,h,O,j){var H,Z,pe,Me;Mt();try{var Me=M(h);try{for(var $e=Ie(Me),ct=$e.next();!ct.done;ct=$e.next()){var pe=ct.value,dt=Object.getOwnPropertyDescriptor(h,pe),Ot=O&&pe in O?O[pe]:dt.get?pr:j,St=Ot(d,pe,dt,!0);St&&Object.defineProperty(d,pe,St)}}catch(Xt){H={error:Xt}}finally{try{ct&&!ct.done&&(Z=$e.return)&&Z.call($e)}finally{if(H)throw H.error}}}finally{hr()}}function Ji(d,h){return Qi(wr(d,h))}function Qi(d){var h={name:d.name};return d.observing&&d.observing.length>0&&(h.dependencies=I(d.observing).map(Qi)),h}var ys=0;function qi(){this.message="FLOW_CANCELLED"}qi.prototype=Object.create(Error.prototype);function gs(d){arguments.length!==1&&P("Flow expects 1 argument and cannot be used as decorator");var h=d.name||"<unnamed flow>";return function(){var O=this,j=arguments,H=++ys,Z=Ur(h+" - runid: "+H+" - init",d).apply(O,j),pe,Me=void 0,$e=new Promise(function(ct,dt){var Ot=0;pe=dt;function St(wt){Me=void 0;var gr;try{gr=Ur(h+" - runid: "+H+" - yield "+Ot++,Z.next).call(Z,wt)}catch(Nn){return dt(Nn)}Xt(gr)}function _t(wt){Me=void 0;var gr;try{gr=Ur(h+" - runid: "+H+" - yield "+Ot++,Z.throw).call(Z,wt)}catch(Nn){return dt(Nn)}Xt(gr)}function Xt(wt){if(wt&&typeof wt.then=="function"){wt.then(Xt,dt);return}return wt.done?ct(wt.value):(Me=Promise.resolve(wt.value),Me.then(St,_t))}St(void 0)});return $e.cancel=Ur(h+" - runid: "+H+" - cancel",function(){try{Me&&ea(Me);var ct=Z.return(void 0),dt=Promise.resolve(ct.value);dt.then(R,R),ea(dt),pe(new qi)}catch(Ot){pe(Ot)}}),$e}}function ea(d){typeof d.cancel=="function"&&d.cancel()}function ta(d,h){if(d==null)return!1;if(h!==void 0){if(yr(d)===!1||!d[D].values.has(h))return!1;var O=wr(d,h);return On(O)}return On(d)}function ms(d){return arguments.length>1?P(!1):ta(d)}function bs(d,h){return typeof h!="string"?P(!1):ta(d,h)}function xn(d,h){return d==null?!1:h!==void 0?yr(d)?d[D].values.has(h):!1:yr(d)||!!d[D]||K(d)||go(d)||On(d)}function Sn(d){return arguments.length!==1&&P(!1),xn(d)}function Pn(d){return yr(d)?d[D].getKeys():Ut(d)||fr(d)?Array.from(d.keys()):Cr(d)?d.map(function(h,O){return O}):P(!1)}function Os(d){return yr(d)?Pn(d).map(function(h){return d[h]}):Ut(d)?Pn(d).map(function(h){return d.get(h)}):fr(d)?Array.from(d.values()):Cr(d)?d.slice():P(!1)}function Es(d){return yr(d)?Pn(d).map(function(h){return[h,d[h]]}):Ut(d)?Pn(d).map(function(h){return[h,d.get(h)]}):fr(d)?Array.from(d.entries()):Cr(d)?d.map(function(h,O){return[O,h]}):P(!1)}function ra(d,h,O){if(arguments.length===2&&!fr(d)){Mt();var j=h;try{for(var H in j)ra(d,H,j[H])}finally{hr()}return}if(yr(d)){var Z=d[D],pe=Z.values.get(h);pe?Z.write(h,O):Z.addObservableProp(h,O,Z.defaultEnhancer)}else if(Ut(d))d.set(h,O);else if(fr(d))d.add(h);else if(Cr(d))typeof h!="number"&&(h=parseInt(h,10)),A(h>=0,"Not a valid index: '"+h+"'"),Mt(),h>=d.length&&(d.length=h+1),d[h]=O,hr();else return P(!1)}function xs(d,h,O,j){return typeof O=="function"?Ss(d,h,O,j):mo(d,h,O)}function mo(d,h,O){return Zn(d).observe(h,O)}function Ss(d,h,O,j){return Zn(d,h).observe(O,j)}var Ps={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Tn(d,h,O,j){return j.detectCycles&&d.set(h,O),O}function Xr(d,h,O){if(!h.recurseEverything&&!Sn(d)||typeof d!="object")return d;if(d===null)return null;if(d instanceof Date)return d;if(Xn(d))return Xr(d.get(),h,O);Sn(d)&&Pn(d);var j=h.detectCycles===!0;if(j&&d!==null&&O.has(d))return O.get(d);if(Cr(d)||Array.isArray(d)){var H=Tn(O,d,[],h),Z=d.map(function(_t){return Xr(_t,h,O)});H.length=Z.length;for(var pe=0,Me=Z.length;pe<Me;pe++)H[pe]=Z[pe];return H}if(fr(d)||Object.getPrototypeOf(d)===Set.prototype)if(h.exportMapsAsObjects===!1){var $e=Tn(O,d,new Set,h);return d.forEach(function(_t){$e.add(Xr(_t,h,O))}),$e}else{var ct=Tn(O,d,[],h);return d.forEach(function(_t){ct.push(Xr(_t,h,O))}),ct}if(Ut(d)||Object.getPrototypeOf(d)===Map.prototype)if(h.exportMapsAsObjects===!1){var dt=Tn(O,d,new Map,h);return d.forEach(function(_t,Xt){dt.set(Xt,Xr(_t,h,O))}),dt}else{var Ot=Tn(O,d,{},h);return d.forEach(function(_t,Xt){Ot[Xt]=Xr(_t,h,O)}),Ot}var St=Tn(O,d,{},h);return L(d).forEach(function(_t){St[_t]=Xr(d[_t],h,O)}),St}function Ts(d,h){typeof h=="boolean"&&(h={detectCycles:h}),h||(h=Ps),h.detectCycles=h.detectCycles===void 0?h.recurseEverything===!0:h.detectCycles===!0;var O;return h.detectCycles&&(O=new Map),Xr(d,h,O)}function Ms(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=!1;typeof d[d.length-1]=="boolean"&&(O=d.pop());var j=ws(d);if(!j)return P(!1);j.isTracing===Tt.NONE&&console.log("[mobx.trace] '"+j.name+"' tracing enabled"),j.isTracing=O?Tt.BREAK:Tt.LOG}function ws(d){switch(d.length){case 0:return Ge.trackingDerivation;case 1:return wr(d[0]);case 2:return wr(d[0],d[1])}}function Pr(d,h){h===void 0&&(h=void 0),Mt();try{return d.apply(h)}finally{hr()}}function Mn(d,h,O){return arguments.length===1||h&&typeof h=="object"?As(d,h):Vn(d,h,O||{})}function Vn(d,h,O){var j;typeof O.timeout=="number"&&(j=setTimeout(function(){if(!Z[D].isDisposed){Z();var pe=new Error("WHEN_TIMEOUT");if(O.onError)O.onError(pe);else throw pe}},O.timeout)),O.name=O.name||"When@"+S();var H=Gr(O.name+"-effect",h),Z=Dr(function(pe){d()&&(pe.dispose(),j&&clearTimeout(j),H())},O);return Z}function As(d,h){var O,j=new Promise(function(H,Z){var pe=Vn(d,H,Ye(Ye({},h),{onError:Z}));O=function(){pe(),Z("WHEN_CANCELLED")}});return j.cancel=O,j}function bo(d){return d[D]}function Oo(d){return typeof d=="string"||typeof d=="number"||typeof d=="symbol"}var wn={has:function(d,h){if(h===D||h==="constructor"||h===Be)return!0;var O=bo(d);return Oo(h)?O.has(h):h in d},get:function(d,h){if(h===D||h==="constructor"||h===Be)return d[h];var O=bo(d),j=O.values.get(h);if(j instanceof X){var H=j.get();return H===void 0&&O.has(h),H}return Oo(h)&&O.has(h),d[h]},set:function(d,h,O){return Oo(h)?(ra(d,h,O),!0):!1},deleteProperty:function(d,h){if(!Oo(h))return!1;var O=bo(d);return O.remove(h),!0},ownKeys:function(d){var h=bo(d);return h.keysAtom.reportObserved(),Reflect.ownKeys(d)},preventExtensions:function(d){return P("Dynamic observable objects cannot be frozen"),!1}};function An(d){var h=new Proxy(d,wn);return d[D].proxy=h,h}function Tr(d){return d.interceptors!==void 0&&d.interceptors.length>0}function Wn(d,h){var O=d.interceptors||(d.interceptors=[]);return O.push(h),N(function(){var j=O.indexOf(h);j!==-1&&O.splice(j,1)})}function Mr(d,h){var O=ne();try{for(var j=_e(d.interceptors||[]),H=0,Z=j.length;H<Z&&(h=j[H](h),A(!h||h.type,"Intercept handlers should return nothing or a change object"),!!h);H++);return h}finally{we(O)}}function vr(d){return d.changeListeners!==void 0&&d.changeListeners.length>0}function Kn(d,h){var O=d.changeListeners||(d.changeListeners=[]);return O.push(h),N(function(){var j=O.indexOf(h);j!==-1&&O.splice(j,1)})}function qt(d,h){var O=ne(),j=d.changeListeners;if(!!j){j=j.slice();for(var H=0,Z=j.length;H<Z;H++)j[H](h);we(O)}}var Ns=1e4,Ds={get:function(d,h){return h===D?d[D]:h==="length"?d[D].getArrayLength():typeof h=="number"?jr.get.call(d,h):typeof h=="string"&&!isNaN(h)?jr.get.call(d,parseInt(h)):jr.hasOwnProperty(h)?jr[h]:d[h]},set:function(d,h,O){return h==="length"&&d[D].setArrayLength(O),typeof h=="number"&&jr.set.call(d,h,O),typeof h=="symbol"||isNaN(h)?d[h]=O:jr.set.call(d,parseInt(h),O),!0},preventExtensions:function(d){return P("Observable arrays cannot be frozen"),!1}};function js(d,h,O,j){O===void 0&&(O="ObservableArray@"+S()),j===void 0&&(j=!1);var H=new na(O,h,j);ie(H.values,D,H);var Z=new Proxy(H.values,Ds);if(H.proxy=Z,d&&d.length){var pe=mn(!0);H.spliceWithArray(0,0,d),Un(pe)}return Z}var na=function(){function d(h,O,j){this.owned=j,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new X(h||"ObservableArray@"+S()),this.enhancer=function(H,Z){return O(H,Z,h+"[..]")}}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.dehanceValues=function(h){return this.dehancer!==void 0&&h.length>0?h.map(this.dehancer):h},d.prototype.intercept=function(h){return Wn(this,h)},d.prototype.observe=function(h,O){return O===void 0&&(O=!1),O&&h({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Kn(this,h)},d.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},d.prototype.setArrayLength=function(h){if(typeof h!="number"||h<0)throw new Error("[mobx.array] Out of range: "+h);var O=this.values.length;if(h!==O)if(h>O){for(var j=new Array(h-O),H=0;H<h-O;H++)j[H]=void 0;this.spliceWithArray(O,0,j)}else this.spliceWithArray(h,O-h)},d.prototype.updateArrayLength=function(h,O){if(h!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=O},d.prototype.spliceWithArray=function(h,O,j){var H=this;tt(this.atom);var Z=this.values.length;if(h===void 0?h=0:h>Z?h=Z:h<0&&(h=Math.max(0,Z+h)),arguments.length===1?O=Z-h:O==null?O=0:O=Math.max(0,Math.min(O,Z-h)),j===void 0&&(j=b),Tr(this)){var pe=Mr(this,{object:this.proxy,type:"splice",index:h,removedCount:O,added:j});if(!pe)return b;O=pe.removedCount,j=pe.added}j=j.length===0?j:j.map(function($e){return H.enhancer($e,void 0)});var Me=this.spliceItemsIntoValues(h,O,j);return(O!==0||j.length!==0)&&this.notifyArraySplice(h,j,Me),this.dehanceValues(Me)},d.prototype.spliceItemsIntoValues=function(h,O,j){var H;if(j.length<Ns)return(H=this.values).splice.apply(H,_e([h,O],j));var Z=this.values.slice(h,h+O);return this.values=this.values.slice(0,h).concat(j,this.values.slice(h+O)),Z},d.prototype.notifyArrayChildUpdate=function(h,O,j){var H=!this.owned&&Rt(),Z=vr(this),pe=Z||H?{object:this.proxy,type:"update",index:h,newValue:O,oldValue:j}:null;this.atom.reportChanged(),Z&&qt(this,pe)},d.prototype.notifyArraySplice=function(h,O,j){var H=!this.owned&&Rt(),Z=vr(this),pe=Z||H?{object:this.proxy,type:"splice",index:h,removed:j,added:O,removedCount:j.length,addedCount:O.length}:null;this.atom.reportChanged(),Z&&qt(this,pe)},d}(),jr={intercept:function(d){return this[D].intercept(d)},observe:function(d,h){h===void 0&&(h=!1);var O=this[D];return O.observe(d,h)},clear:function(){return this.splice(0)},replace:function(d){var h=this[D];return h.spliceWithArray(0,h.values.length,d)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(d,h){for(var O=[],j=2;j<arguments.length;j++)O[j-2]=arguments[j];var H=this[D];switch(arguments.length){case 0:return[];case 1:return H.spliceWithArray(d);case 2:return H.spliceWithArray(d,h)}return H.spliceWithArray(d,h,O)},spliceWithArray:function(d,h,O){var j=this[D];return j.spliceWithArray(d,h,O)},push:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[D];return O.spliceWithArray(O.values.length,0,d),O.values.length},pop:function(){return this.splice(Math.max(this[D].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var O=this[D];return O.spliceWithArray(0,0,d),O.values.length},reverse:function(){var d=this.slice();return d.reverse.apply(d,arguments)},sort:function(d){var h=this.slice();return h.sort.apply(h,arguments)},remove:function(d){var h=this[D],O=h.dehanceValues(h.values).indexOf(d);return O>-1?(this.splice(O,1),!0):!1},get:function(d){var h=this[D];if(h){if(d<h.values.length)return h.atom.reportObserved(),h.dehanceValue(h.values[d]);console.warn("[mobx.array] Attempt to read an array index ("+d+") that is out of bounds ("+h.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(d,h){var O=this[D],j=O.values;if(d<j.length){tt(O.atom);var H=j[d];if(Tr(O)){var Z=Mr(O,{type:"update",object:O.proxy,index:d,newValue:h});if(!Z)return;h=Z.newValue}h=O.enhancer(h,H);var pe=h!==H;pe&&(j[d]=h,O.notifyArrayChildUpdate(d,h,H))}else if(d===j.length)O.spliceWithArray(d,0,[h]);else throw new Error("[mobx.array] Index out of bounds, "+d+" is larger than "+j.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(d){typeof Array.prototype[d]=="function"&&(jr[d]=function(){var h=this[D];h.atom.reportObserved();var O=h.dehanceValues(h.values);return O[d].apply(O,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(d){typeof Array.prototype[d]=="function"&&(jr[d]=function(h,O){var j=this,H=this[D];H.atom.reportObserved();var Z=H.dehanceValues(H.values);return Z[d](function(pe,Me){return h.call(O,pe,Me,j)},O)})}),["reduce","reduceRight"].forEach(function(d){jr[d]=function(){var h=this,O=this[D];O.atom.reportObserved();var j=arguments[0];return arguments[0]=function(H,Z,pe){return Z=O.dehanceValue(Z),j(H,Z,pe,h)},O.values[d].apply(O.values,arguments)}});var Cs=q("ObservableArrayAdministration",na);function Cr(d){return B(d)&&Cs(d[D])}var oa,ia={},ii=function(){function d(h,O,j){if(O===void 0&&(O=Je),j===void 0&&(j="ObservableMap@"+S()),this.enhancer=O,this.name=j,this[oa]=ia,this._keysAtom=se(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(h)}return d.prototype._has=function(h){return this._data.has(h)},d.prototype.has=function(h){var O=this;if(!Ge.trackingDerivation)return this._has(h);var j=this._hasMap.get(h);if(!j){var H=j=new ln(this._has(h),Ve,this.name+"."+U(h)+"?",!1);this._hasMap.set(h,H),ni(H,function(){return O._hasMap.delete(h)})}return j.get()},d.prototype.set=function(h,O){var j=this._has(h);if(Tr(this)){var H=Mr(this,{type:j?"update":"add",object:this,newValue:O,name:h});if(!H)return this;O=H.newValue}return j?this._updateValue(h,O):this._addValue(h,O),this},d.prototype.delete=function(h){var O=this;if(tt(this._keysAtom),Tr(this)){var j=Mr(this,{type:"delete",object:this,name:h});if(!j)return!1}if(this._has(h)){var H=Rt(),Z=vr(this),j=Z||H?{type:"delete",object:this,oldValue:this._data.get(h).value,name:h}:null;return Pr(function(){O._keysAtom.reportChanged(),O._updateHasMapEntry(h,!1);var Me=O._data.get(h);Me.setNewValue(void 0),O._data.delete(h)}),Z&&qt(this,j),!0}return!1},d.prototype._updateHasMapEntry=function(h,O){var j=this._hasMap.get(h);j&&j.setNewValue(O)},d.prototype._updateValue=function(h,O){var j=this._data.get(h);if(O=j.prepareNewValue(O),O!==Ge.UNCHANGED){var H=Rt(),Z=vr(this),pe=Z||H?{type:"update",object:this,oldValue:j.value,name:h,newValue:O}:null;j.setNewValue(O),Z&&qt(this,pe)}},d.prototype._addValue=function(h,O){var j=this;tt(this._keysAtom),Pr(function(){var Me=new ln(O,j.enhancer,j.name+"."+U(h),!1);j._data.set(h,Me),O=Me.value,j._updateHasMapEntry(h,!0),j._keysAtom.reportChanged()});var H=Rt(),Z=vr(this),pe=Z||H?{type:"add",object:this,name:h,newValue:O}:null;Z&&qt(this,pe)},d.prototype.get=function(h){return this.has(h)?this.dehanceValue(this._data.get(h).get()):this.dehanceValue(void 0)},d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},d.prototype.values=function(){var h=this,O=this.keys();return xo({next:function(){var j=O.next(),H=j.done,Z=j.value;return{done:H,value:H?void 0:h.get(Z)}}})},d.prototype.entries=function(){var h=this,O=this.keys();return xo({next:function(){var j=O.next(),H=j.done,Z=j.value;return{done:H,value:H?void 0:[Z,h.get(Z)]}}})},d.prototype[oa=D,Symbol.iterator]=function(){return this.entries()},d.prototype.forEach=function(h,O){var j,H;try{for(var Z=Ie(this),pe=Z.next();!pe.done;pe=Z.next()){var Me=Pe(pe.value,2),$e=Me[0],ct=Me[1];h.call(O,ct,$e,this)}}catch(dt){j={error:dt}}finally{try{pe&&!pe.done&&(H=Z.return)&&H.call(Z)}finally{if(j)throw j.error}}},d.prototype.merge=function(h){var O=this;return Ut(h)&&(h=h.toJS()),Pr(function(){var j=mn(!0);try{k(h)?L(h).forEach(function(H){return O.set(H,h[H])}):Array.isArray(h)?h.forEach(function(H){var Z=Pe(H,2),pe=Z[0],Me=Z[1];return O.set(pe,Me)}):Q(h)?(h.constructor!==Map&&P("Cannot initialize from classes that inherit from Map: "+h.constructor.name),h.forEach(function(H,Z){return O.set(Z,H)})):h!=null&&P("Cannot initialize map from "+h)}finally{Un(j)}}),this},d.prototype.clear=function(){var h=this;Pr(function(){re(function(){var O,j;try{for(var H=Ie(h.keys()),Z=H.next();!Z.done;Z=H.next()){var pe=Z.value;h.delete(pe)}}catch(Me){O={error:Me}}finally{try{Z&&!Z.done&&(j=H.return)&&j.call(H)}finally{if(O)throw O.error}}})})},d.prototype.replace=function(h){var O=this;return Pr(function(){var j,H,Z,pe,Me=W(h),$e=new Map,ct=!1;try{for(var dt=Ie(O._data.keys()),Ot=dt.next();!Ot.done;Ot=dt.next()){var St=Ot.value;if(!Me.has(St)){var _t=O.delete(St);if(_t)ct=!0;else{var Xt=O._data.get(St);$e.set(St,Xt)}}}}catch(fn){j={error:fn}}finally{try{Ot&&!Ot.done&&(H=dt.return)&&H.call(dt)}finally{if(j)throw j.error}}try{for(var wt=Ie(Me.entries()),gr=wt.next();!gr.done;gr=wt.next()){var Nn=Pe(gr.value,2),St=Nn[0],Xt=Nn[1],va=O._data.has(St);if(O.set(St,Xt),O._data.has(St)){var ya=O._data.get(St);$e.set(St,ya),va||(ct=!0)}}}catch(fn){Z={error:fn}}finally{try{gr&&!gr.done&&(pe=wt.return)&&pe.call(wt)}finally{if(Z)throw Z.error}}if(!ct)if(O._data.size!==$e.size)O._keysAtom.reportChanged();else for(var ga=O._data.keys(),ma=$e.keys(),li=ga.next(),Dn=ma.next();!li.done;){if(li.value!==Dn.value){O._keysAtom.reportChanged();break}li=ga.next(),Dn=ma.next()}O._data=$e}),this},Object.defineProperty(d.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.toPOJO=function(){var h,O,j={};try{for(var H=Ie(this),Z=H.next();!Z.done;Z=H.next()){var pe=Pe(Z.value,2),Me=pe[0],$e=pe[1];j[typeof Me=="symbol"?Me:U(Me)]=$e}}catch(ct){h={error:ct}}finally{try{Z&&!Z.done&&(O=H.return)&&O.call(H)}finally{if(h)throw h.error}}return j},d.prototype.toJS=function(){return new Map(this)},d.prototype.toJSON=function(){return this.toPOJO()},d.prototype.toString=function(){var h=this;return this.name+"[{ "+Array.from(this.keys()).map(function(O){return U(O)+": "+(""+h.get(O))}).join(", ")+" }]"},d.prototype.observe=function(h,O){return Kn(this,h)},d.prototype.intercept=function(h){return Wn(this,h)},d}(),Ut=q("ObservableMap",ii),aa,Rs={},ua=function(){function d(h,O,j){if(O===void 0&&(O=Je),j===void 0&&(j="ObservableSet@"+S()),this.name=j,this[aa]=Rs,this._data=new Set,this._atom=se(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(H,Z){return O(H,Z,j)},h&&this.replace(h)}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.clear=function(){var h=this;Pr(function(){re(function(){var O,j;try{for(var H=Ie(h._data.values()),Z=H.next();!Z.done;Z=H.next()){var pe=Z.value;h.delete(pe)}}catch(Me){O={error:Me}}finally{try{Z&&!Z.done&&(j=H.return)&&j.call(H)}finally{if(O)throw O.error}}})})},d.prototype.forEach=function(h,O){var j,H;try{for(var Z=Ie(this),pe=Z.next();!pe.done;pe=Z.next()){var Me=pe.value;h.call(O,Me,Me,this)}}catch($e){j={error:$e}}finally{try{pe&&!pe.done&&(H=Z.return)&&H.call(Z)}finally{if(j)throw j.error}}},Object.defineProperty(d.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.add=function(h){var O=this;if(tt(this._atom),Tr(this)){var j=Mr(this,{type:"add",object:this,newValue:h});if(!j)return this}if(!this.has(h)){Pr(function(){O._data.add(O.enhancer(h,void 0)),O._atom.reportChanged()});var H=Rt(),Z=vr(this),j=Z||H?{type:"add",object:this,newValue:h}:null;Z&&qt(this,j)}return this},d.prototype.delete=function(h){var O=this;if(Tr(this)){var j=Mr(this,{type:"delete",object:this,oldValue:h});if(!j)return!1}if(this.has(h)){var H=Rt(),Z=vr(this),j=Z||H?{type:"delete",object:this,oldValue:h}:null;return Pr(function(){O._atom.reportChanged(),O._data.delete(h)}),Z&&qt(this,j),!0}return!1},d.prototype.has=function(h){return this._atom.reportObserved(),this._data.has(this.dehanceValue(h))},d.prototype.entries=function(){var h=0,O=Array.from(this.keys()),j=Array.from(this.values());return xo({next:function(){var H=h;return h+=1,H<j.length?{value:[O[H],j[H]],done:!1}:{done:!0}}})},d.prototype.keys=function(){return this.values()},d.prototype.values=function(){this._atom.reportObserved();var h=this,O=0,j=Array.from(this._data.values());return xo({next:function(){return O<j.length?{value:h.dehanceValue(j[O++]),done:!1}:{done:!0}}})},d.prototype.replace=function(h){var O=this;return fr(h)&&(h=h.toJS()),Pr(function(){var j=mn(!0);try{Array.isArray(h)?(O.clear(),h.forEach(function(H){return O.add(H)})):le(h)?(O.clear(),h.forEach(function(H){return O.add(H)})):h!=null&&P("Cannot initialize set from "+h)}finally{Un(j)}}),this},d.prototype.observe=function(h,O){return Kn(this,h)},d.prototype.intercept=function(h){return Wn(this,h)},d.prototype.toJS=function(){return new Set(this)},d.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},d.prototype[aa=D,Symbol.iterator]=function(){return this.values()},d}(),fr=q("ObservableSet",ua),la=function(){function d(h,O,j,H){O===void 0&&(O=new Map),this.target=h,this.values=O,this.name=j,this.defaultEnhancer=H,this.keysAtom=new X(j+".keys")}return d.prototype.read=function(h){return this.values.get(h).get()},d.prototype.write=function(h,O){var j=this.target,H=this.values.get(h);if(H instanceof bn){H.set(O);return}if(Tr(this)){var Z=Mr(this,{type:"update",object:this.proxy||j,name:h,newValue:O});if(!Z)return;O=Z.newValue}if(O=H.prepareNewValue(O),O!==Ge.UNCHANGED){var pe=vr(this),Me=Rt(),Z=pe||Me?{type:"update",object:this.proxy||j,oldValue:H.value,name:h,newValue:O}:null;H.setNewValue(O),pe&&qt(this,Z)}},d.prototype.has=function(h){var O=this.pendingKeys||(this.pendingKeys=new Map),j=O.get(h);if(j)return j.get();var H=!!this.values.get(h);return j=new ln(H,Ve,this.name+"."+U(h)+"?",!1),O.set(h,j),j.get()},d.prototype.addObservableProp=function(h,O,j){j===void 0&&(j=this.defaultEnhancer);var H=this.target;if(Tr(this)){var Z=Mr(this,{object:this.proxy||H,name:h,type:"add",newValue:O});if(!Z)return;O=Z.newValue}var pe=new ln(O,j,this.name+"."+U(h),!1);this.values.set(h,pe),O=pe.value,Object.defineProperty(H,h,Is(h)),this.notifyPropertyAddition(h,O)},d.prototype.addComputedProp=function(h,O,j){var H=this.target;j.name=j.name||this.name+"."+U(O),this.values.set(O,new bn(j)),(h===H||te(h,O))&&Object.defineProperty(h,O,_s(O))},d.prototype.remove=function(h){if(!!this.values.has(h)){var O=this.target;if(Tr(this)){var j=Mr(this,{object:this.proxy||O,name:h,type:"remove"});if(!j)return}try{Mt();var H=vr(this),Z=Rt(),pe=this.values.get(h),Me=pe&&pe.get();if(pe&&pe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(h),this.pendingKeys){var $e=this.pendingKeys.get(h);$e&&$e.set(!1)}delete this.target[h];var j=H||Z?{type:"remove",object:this.proxy||O,oldValue:Me,name:h}:null;H&&qt(this,j)}finally{hr()}}},d.prototype.illegalAccess=function(h,O){console.warn("Property '"+O+"' of '"+h+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},d.prototype.observe=function(h,O){return Kn(this,h)},d.prototype.intercept=function(h){return Wn(this,h)},d.prototype.notifyPropertyAddition=function(h,O){var j=vr(this),H=Rt(),Z=j||H?{type:"add",object:this.proxy||this.target,name:h,newValue:O}:null;if(j&&qt(this,Z),this.pendingKeys){var pe=this.pendingKeys.get(h);pe&&pe.set(!0)}this.keysAtom.reportChanged()},d.prototype.getKeys=function(){var h,O;this.keysAtom.reportObserved();var j=[];try{for(var H=Ie(this.values),Z=H.next();!Z.done;Z=H.next()){var pe=Pe(Z.value,2),Me=pe[0],$e=pe[1];$e instanceof ln&&j.push(Me)}}catch(ct){h={error:ct}}finally{try{Z&&!Z.done&&(O=H.return)&&O.call(H)}finally{if(h)throw h.error}}return j},d}();function ai(d,h,O){if(h===void 0&&(h=""),O===void 0&&(O=Je),Object.prototype.hasOwnProperty.call(d,D))return d[D];k(d)||(h=(d.constructor.name||"ObservableObject")+"@"+S()),h||(h="ObservableObject@"+S());var j=new la(d,new Map,U(h),O);return Y(d,D,j),j}var sa=Object.create(null),fa=Object.create(null);function Is(d){return sa[d]||(sa[d]={configurable:!0,enumerable:!0,get:function(){return this[D].read(d)},set:function(h){this[D].write(d,h)}})}function ca(d){var h=d[D];return h||(ve(d),d[D])}function _s(d){return fa[d]||(fa[d]={configurable:Ge.computedConfigurable,enumerable:!1,get:function(){return ca(this).read(d)},set:function(h){ca(this).write(d,h)}})}var Bs=q("ObservableObjectAdministration",la);function yr(d){return B(d)?(ve(d),Bs(d[D])):!1}function wr(d,h){if(typeof d=="object"&&d!==null){if(Cr(d))return h!==void 0&&P(!1),d[D].atom;if(fr(d))return d[D];if(Ut(d)){var O=d;if(h===void 0)return O._keysAtom;var j=O._data.get(h)||O._hasMap.get(h);return j||P(!1),j}if(ve(d),h&&!d[D]&&d[h],yr(d)){if(!h)return P(!1);var j=d[D].values.get(h);return j||P(!1),j}if(K(d)||On(d)||go(d))return d}else if(typeof d=="function"&&go(d[D]))return d[D];return P(!1)}function Zn(d,h){if(d||P("Expecting some object"),h!==void 0)return Zn(wr(d,h));if(K(d)||On(d)||go(d)||Ut(d)||fr(d))return d;if(ve(d),d[D])return d[D];P(!1)}function Ls(d,h){var O;return h!==void 0?O=wr(d,h):yr(d)||Ut(d)||fr(d)?O=Zn(d):O=wr(d),O.name}var da=Object.prototype.toString;function Eo(d,h,O){return O===void 0&&(O=-1),Jn(d,h,O)}function Jn(d,h,O,j,H){if(d===h)return d!==0||1/d===1/h;if(d==null||h==null)return!1;if(d!==d)return h!==h;var Z=typeof d;if(Z!=="function"&&Z!=="object"&&typeof h!="object")return!1;var pe=da.call(d);if(pe!==da.call(h))return!1;switch(pe){case"[object RegExp]":case"[object String]":return""+d==""+h;case"[object Number]":return+d!=+d?+h!=+h:+d==0?1/+d===1/h:+d==+h;case"[object Date]":case"[object Boolean]":return+d==+h;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(d)===Symbol.valueOf.call(h);case"[object Map]":case"[object Set]":O>=0&&O++;break}d=pa(d),h=pa(h);var Me=pe==="[object Array]";if(!Me){if(typeof d!="object"||typeof h!="object")return!1;var $e=d.constructor,ct=h.constructor;if($e!==ct&&!(typeof $e=="function"&&$e instanceof $e&&typeof ct=="function"&&ct instanceof ct)&&"constructor"in d&&"constructor"in h)return!1}if(O===0)return!1;O<0&&(O=-1),j=j||[],H=H||[];for(var dt=j.length;dt--;)if(j[dt]===d)return H[dt]===h;if(j.push(d),H.push(h),Me){if(dt=d.length,dt!==h.length)return!1;for(;dt--;)if(!Jn(d[dt],h[dt],O-1,j,H))return!1}else{var Ot=Object.keys(d),St=void 0;if(dt=Ot.length,Object.keys(h).length!==dt)return!1;for(;dt--;)if(St=Ot[dt],!(zs(h,St)&&Jn(d[St],h[St],O-1,j,H)))return!1}return j.pop(),H.pop(),!0}function pa(d){return Cr(d)?d.slice():Q(d)||Ut(d)||le(d)||fr(d)?Array.from(d.entries()):d}function zs(d,h){return Object.prototype.hasOwnProperty.call(d,h)}function xo(d){return d[Symbol.iterator]=ui,d}function ui(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{}catch{var ha=ho();typeof l>"u"&&(ha.process={}),ha.process.env={}}(function(){function d(){}if(d.name!=="testCodeMinification"&&!1)var h})(),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Yi,extras:{getDebugName:Ls},$mobx:D})}).call(this,i(155),i(82))},function(u,c,i){i.d(c,"a",function(){return te}),i.d(c,"b",function(){return ie}),i.d(c,"c",function(){return _e}),i.d(c,"d",function(){return Be}),i.d(c,"e",function(){return k}),i.d(c,"f",function(){return Y}),i.d(c,"g",function(){return k}),i.d(c,"h",function(){return Pe}),i.d(c,"i",function(){return f}),i.d(c,"j",function(){return Ie}),i.d(c,"k",function(){return M});var l,f,y,b,x,S,P,A={},N=[],R=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function I(_,F){for(var V in F)_[V]=F[V];return _}function B(_){var F=_.parentNode;F&&F.removeChild(_)}function k(_,F,V){var fe,ve,de,Le={};for(de in F)de=="key"?fe=F[de]:de=="ref"?ve=F[de]:Le[de]=F[de];if(arguments.length>2&&(Le.children=arguments.length>3?l.call(arguments,2):V),typeof _=="function"&&_.defaultProps!=null)for(de in _.defaultProps)Le[de]===void 0&&(Le[de]=_.defaultProps[de]);return W(_,Le,fe,ve,null)}function W(_,F,V,fe,ve){var de={type:_,props:F,key:V,ref:fe,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:ve==null?++y:ve};return ve==null&&f.vnode!=null&&f.vnode(de),de}function Y(){return{current:null}}function ie(_){return _.children}function te(_,F){this.props=_,this.context=F}function q(_,F){if(F==null)return _.__?q(_.__,_.__.__k.indexOf(_)+1):null;for(var V;F<_.__k.length;F++)if((V=_.__k[F])!=null&&V.__e!=null)return V.__e;return typeof _.type=="function"?q(_):null}function Q(_){var F,V;if((_=_.__)!=null&&_.__c!=null){for(_.__e=_.__c.base=null,F=0;F<_.__k.length;F++)if((V=_.__k[F])!=null&&V.__e!=null){_.__e=_.__c.base=V.__e;break}return Q(_)}}function le(_){(!_.__d&&(_.__d=!0)&&b.push(_)&&!L.__r++||S!==f.debounceRendering)&&((S=f.debounceRendering)||x)(L)}function L(){for(var _;L.__r=b.length;)_=b.sort(function(F,V){return F.__v.__b-V.__v.__b}),b=[],_.some(function(F){var V,fe,ve,de,Le,Je;F.__d&&(Le=(de=(V=F).__v).__e,(Je=V.__P)&&(fe=[],(ve=I({},de)).__v=de.__v+1,ge(Je,de,ve,V.__n,Je.ownerSVGElement!==void 0,de.__h!=null?[Le]:null,fe,Le==null?q(de):Le,de.__h),Ee(fe,de),de.__e!=Le&&Q(de)))})}function U(_,F,V,fe,ve,de,Le,Je,Xe,Ve){var ye,it,qe,Fe,Qe,xt,lt,mt=fe&&fe.__k||N,oe=mt.length;for(V.__k=[],ye=0;ye<F.length;ye++)if((Fe=V.__k[ye]=(Fe=F[ye])==null||typeof Fe=="boolean"?null:typeof Fe=="string"||typeof Fe=="number"||typeof Fe=="bigint"?W(null,Fe,null,null,Fe):Array.isArray(Fe)?W(ie,{children:Fe},null,null,null):Fe.__b>0?W(Fe.type,Fe.props,Fe.key,null,Fe.__v):Fe)!=null){if(Fe.__=V,Fe.__b=V.__b+1,(qe=mt[ye])===null||qe&&Fe.key==qe.key&&Fe.type===qe.type)mt[ye]=void 0;else for(it=0;it<oe;it++){if((qe=mt[it])&&Fe.key==qe.key&&Fe.type===qe.type){mt[it]=void 0;break}qe=null}ge(_,Fe,qe=qe||A,ve,de,Le,Je,Xe,Ve),Qe=Fe.__e,(it=Fe.ref)&&qe.ref!=it&&(lt||(lt=[]),qe.ref&&lt.push(qe.ref,null,Fe),lt.push(it,Fe.__c||Qe,Fe)),Qe!=null?(xt==null&&(xt=Qe),typeof Fe.type=="function"&&Fe.__k===qe.__k?Fe.__d=Xe=T(Fe,Xe,_):Xe=D(_,Fe,qe,mt,Qe,Xe),typeof V.type=="function"&&(V.__d=Xe)):Xe&&qe.__e==Xe&&Xe.parentNode!=_&&(Xe=q(qe))}for(V.__e=xt,ye=oe;ye--;)mt[ye]!=null&&(typeof V.type=="function"&&mt[ye].__e!=null&&mt[ye].__e==V.__d&&(V.__d=q(fe,ye+1)),ze(mt[ye],mt[ye]));if(lt)for(ye=0;ye<lt.length;ye++)Ae(lt[ye],lt[++ye],lt[++ye])}function T(_,F,V){for(var fe,ve=_.__k,de=0;ve&&de<ve.length;de++)(fe=ve[de])&&(fe.__=_,F=typeof fe.type=="function"?T(fe,F,V):D(V,fe,fe,ve,fe.__e,F));return F}function M(_,F){return F=F||[],_==null||typeof _=="boolean"||(Array.isArray(_)?_.some(function(V){M(V,F)}):F.push(_)),F}function D(_,F,V,fe,ve,de){var Le,Je,Xe;if(F.__d!==void 0)Le=F.__d,F.__d=void 0;else if(V==null||ve!=de||ve.parentNode==null)e:if(de==null||de.parentNode!==_)_.appendChild(ve),Le=null;else{for(Je=de,Xe=0;(Je=Je.nextSibling)&&Xe<fe.length;Xe+=2)if(Je==ve)break e;_.insertBefore(ve,de),Le=de}return Le!==void 0?Le:ve.nextSibling}function X(_,F,V,fe,ve){var de;for(de in V)de==="children"||de==="key"||de in F||se(_,de,null,V[de],fe);for(de in F)ve&&typeof F[de]!="function"||de==="children"||de==="key"||de==="value"||de==="checked"||V[de]===F[de]||se(_,de,F[de],V[de],fe)}function K(_,F,V){F[0]==="-"?_.setProperty(F,V):_[F]=V==null?"":typeof V!="number"||R.test(F)?V:V+"px"}function se(_,F,V,fe,ve){var de;e:if(F==="style")if(typeof V=="string")_.style.cssText=V;else{if(typeof fe=="string"&&(_.style.cssText=fe=""),fe)for(F in fe)V&&F in V||K(_.style,F,"");if(V)for(F in V)fe&&V[F]===fe[F]||K(_.style,F,V[F])}else if(F[0]==="o"&&F[1]==="n")de=F!==(F=F.replace(/Capture$/,"")),F=F.toLowerCase()in _?F.toLowerCase().slice(2):F.slice(2),_.l||(_.l={}),_.l[F+de]=V,V?fe||_.addEventListener(F,de?me:be,de):_.removeEventListener(F,de?me:be,de);else if(F!=="dangerouslySetInnerHTML"){if(ve)F=F.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(F!=="href"&&F!=="list"&&F!=="form"&&F!=="tabIndex"&&F!=="download"&&F in _)try{_[F]=V==null?"":V;break e}catch{}typeof V=="function"||(V!=null&&(V!==!1||F[0]==="a"&&F[1]==="r")?_.setAttribute(F,V):_.removeAttribute(F))}}function be(_){this.l[_.type+!1](f.event?f.event(_):_)}function me(_){this.l[_.type+!0](f.event?f.event(_):_)}function ge(_,F,V,fe,ve,de,Le,Je,Xe){var Ve,ye,it,qe,Fe,Qe,xt,lt,mt,oe,Ct,Pt=F.type;if(F.constructor!==void 0)return null;V.__h!=null&&(Xe=V.__h,Je=F.__e=V.__e,F.__h=null,de=[Je]),(Ve=f.__b)&&Ve(F);try{e:if(typeof Pt=="function"){if(lt=F.props,mt=(Ve=Pt.contextType)&&fe[Ve.__c],oe=Ve?mt?mt.props.value:Ve.__:fe,V.__c?xt=(ye=F.__c=V.__c).__=ye.__E:("prototype"in Pt&&Pt.prototype.render?F.__c=ye=new Pt(lt,oe):(F.__c=ye=new te(lt,oe),ye.constructor=Pt,ye.render=Ye),mt&&mt.sub(ye),ye.props=lt,ye.state||(ye.state={}),ye.context=oe,ye.__n=fe,it=ye.__d=!0,ye.__h=[]),ye.__s==null&&(ye.__s=ye.state),Pt.getDerivedStateFromProps!=null&&(ye.__s==ye.state&&(ye.__s=I({},ye.__s)),I(ye.__s,Pt.getDerivedStateFromProps(lt,ye.__s))),qe=ye.props,Fe=ye.state,it)Pt.getDerivedStateFromProps==null&&ye.componentWillMount!=null&&ye.componentWillMount(),ye.componentDidMount!=null&&ye.__h.push(ye.componentDidMount);else{if(Pt.getDerivedStateFromProps==null&&lt!==qe&&ye.componentWillReceiveProps!=null&&ye.componentWillReceiveProps(lt,oe),!ye.__e&&ye.shouldComponentUpdate!=null&&ye.shouldComponentUpdate(lt,ye.__s,oe)===!1||F.__v===V.__v){ye.props=lt,ye.state=ye.__s,F.__v!==V.__v&&(ye.__d=!1),ye.__v=F,F.__e=V.__e,F.__k=V.__k,F.__k.forEach(function(bt){bt&&(bt.__=F)}),ye.__h.length&&Le.push(ye);break e}ye.componentWillUpdate!=null&&ye.componentWillUpdate(lt,ye.__s,oe),ye.componentDidUpdate!=null&&ye.__h.push(function(){ye.componentDidUpdate(qe,Fe,Qe)})}ye.context=oe,ye.props=lt,ye.state=ye.__s,(Ve=f.__r)&&Ve(F),ye.__d=!1,ye.__v=F,ye.__P=_,Ve=ye.render(ye.props,ye.state,ye.context),ye.state=ye.__s,ye.getChildContext!=null&&(fe=I(I({},fe),ye.getChildContext())),it||ye.getSnapshotBeforeUpdate==null||(Qe=ye.getSnapshotBeforeUpdate(qe,Fe)),Ct=Ve!=null&&Ve.type===ie&&Ve.key==null?Ve.props.children:Ve,U(_,Array.isArray(Ct)?Ct:[Ct],F,V,fe,ve,de,Le,Je,Xe),ye.base=F.__e,F.__h=null,ye.__h.length&&Le.push(ye),xt&&(ye.__E=ye.__=null),ye.__e=!1}else de==null&&F.__v===V.__v?(F.__k=V.__k,F.__e=V.__e):F.__e=Oe(V.__e,F,V,fe,ve,de,Le,Xe);(Ve=f.diffed)&&Ve(F)}catch(bt){F.__v=null,(Xe||de!=null)&&(F.__e=Je,F.__h=!!Xe,de[de.indexOf(Je)]=null),f.__e(bt,F,V)}}function Ee(_,F){f.__c&&f.__c(F,_),_.some(function(V){try{_=V.__h,V.__h=[],_.some(function(fe){fe.call(V)})}catch(fe){f.__e(fe,V.__v)}})}function Oe(_,F,V,fe,ve,de,Le,Je){var Xe,Ve,ye,it=V.props,qe=F.props,Fe=F.type,Qe=0;if(Fe==="svg"&&(ve=!0),de!=null){for(;Qe<de.length;Qe++)if((Xe=de[Qe])&&"setAttribute"in Xe==!!Fe&&(Fe?Xe.localName===Fe:Xe.nodeType===3)){_=Xe,de[Qe]=null;break}}if(_==null){if(Fe===null)return document.createTextNode(qe);_=ve?document.createElementNS("http://www.w3.org/2000/svg",Fe):document.createElement(Fe,qe.is&&qe),de=null,Je=!1}if(Fe===null)it===qe||Je&&_.data===qe||(_.data=qe);else{if(de=de&&l.call(_.childNodes),Ve=(it=V.props||A).dangerouslySetInnerHTML,ye=qe.dangerouslySetInnerHTML,!Je){if(de!=null)for(it={},Qe=0;Qe<_.attributes.length;Qe++)it[_.attributes[Qe].name]=_.attributes[Qe].value;(ye||Ve)&&(ye&&(Ve&&ye.__html==Ve.__html||ye.__html===_.innerHTML)||(_.innerHTML=ye&&ye.__html||""))}if(X(_,qe,it,ve,Je),ye)F.__k=[];else if(Qe=F.props.children,U(_,Array.isArray(Qe)?Qe:[Qe],F,V,fe,ve&&Fe!=="foreignObject",de,Le,de?de[0]:V.__k&&q(V,0),Je),de!=null)for(Qe=de.length;Qe--;)de[Qe]!=null&&B(de[Qe]);Je||("value"in qe&&(Qe=qe.value)!==void 0&&(Qe!==it.value||Qe!==_.value||Fe==="progress"&&!Qe)&&se(_,"value",Qe,it.value,!1),"checked"in qe&&(Qe=qe.checked)!==void 0&&Qe!==_.checked&&se(_,"checked",Qe,it.checked,!1))}return _}function Ae(_,F,V){try{typeof _=="function"?_(F):_.current=F}catch(fe){f.__e(fe,V)}}function ze(_,F,V){var fe,ve;if(f.unmount&&f.unmount(_),(fe=_.ref)&&(fe.current&&fe.current!==_.__e||Ae(fe,null,F)),(fe=_.__c)!=null){if(fe.componentWillUnmount)try{fe.componentWillUnmount()}catch(de){f.__e(de,F)}fe.base=fe.__P=null}if(fe=_.__k)for(ve=0;ve<fe.length;ve++)fe[ve]&&ze(fe[ve],F,typeof _.type!="function");V||_.__e==null||B(_.__e),_.__e=_.__d=void 0}function Ye(_,F,V){return this.constructor(_,V)}function Ie(_,F,V){var fe,ve,de;f.__&&f.__(_,F),ve=(fe=typeof V=="function")?null:V&&V.__k||F.__k,de=[],ge(F,_=(!fe&&V||F).__k=k(ie,null,[_]),ve||A,A,F.ownerSVGElement!==void 0,!fe&&V?[V]:ve?null:F.firstChild?l.call(F.childNodes):null,de,!fe&&V?V:ve?ve.__e:F.firstChild,fe),Ee(de,_)}function Pe(_,F){Ie(_,F,Pe)}function _e(_,F,V){var fe,ve,de,Le=I({},_.props);for(de in F)de=="key"?fe=F[de]:de=="ref"?ve=F[de]:Le[de]=F[de];return arguments.length>2&&(Le.children=arguments.length>3?l.call(arguments,2):V),W(_.type,Le,fe||_.key,ve||_.ref,null)}function Be(_,F){var V={__c:F="__cC"+P++,__:_,Consumer:function(fe,ve){return fe.children(ve)},Provider:function(fe){var ve,de;return this.getChildContext||(ve=[],(de={})[F]=this,this.getChildContext=function(){return de},this.shouldComponentUpdate=function(Le){this.props.value!==Le.value&&ve.some(le)},this.sub=function(Le){ve.push(Le);var Je=Le.componentWillUnmount;Le.componentWillUnmount=function(){ve.splice(ve.indexOf(Le),1),Je&&Je.call(Le)}}),fe.children}};return V.Provider.__=V.Consumer.contextType=V}l=N.slice,f={__e:function(_,F){for(var V,fe,ve;F=F.__;)if((V=F.__c)&&!V.__)try{if((fe=V.constructor)&&fe.getDerivedStateFromError!=null&&(V.setState(fe.getDerivedStateFromError(_)),ve=V.__d),V.componentDidCatch!=null&&(V.componentDidCatch(_),ve=V.__d),ve)return V.__E=V}catch(de){_=de}throw _}},y=0,te.prototype.setState=function(_,F){var V;V=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=I({},this.state),typeof _=="function"&&(_=_(I({},V),this.props)),_&&I(V,_),_!=null&&this.__v&&(F&&this.__h.push(F),le(this))},te.prototype.forceUpdate=function(_){this.__v&&(this.__e=!0,_&&this.__h.push(_),le(this))},te.prototype.render=ie,b=[],x=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L.__r=0,P=0},function(u,c,i){var l=i(116),f=i(44),y=i(178);l||f(Object.prototype,"toString",y,{unsafe:!0})},function(u,c,i){var l=i(39),f=i(83),y=i(70),b=i(56),x=i(111),S="Array Iterator",P=b.set,A=b.getterFor(S);u.exports=x(Array,"Array",function(N,R){P(this,{type:S,target:l(N),index:0,kind:R})},function(){var N=A(this),R=N.target,I=N.kind,B=N.index++;return!R||B>=R.length?(N.target=void 0,{value:void 0,done:!0}):I=="keys"?{value:B,done:!1}:I=="values"?{value:R[B],done:!1}:{value:[B,R[B]],done:!1}},"values"),y.Arguments=y.Array,f("keys"),f("values"),f("entries")},function(u,c,i){var l=i(7),f=i(147),y=i(148),b=i(3),x=i(57),S=i(27),P=S("iterator"),A=S("toStringTag"),N=b.values,R=function(B,k){if(B){if(B[P]!==N)try{x(B,P,N)}catch{B[P]=N}if(B[A]||x(B,A,k),f[k]){for(var W in b)if(B[W]!==b[W])try{x(B,W,b[W])}catch{B[W]=b[W]}}}};for(var I in f)R(l[I]&&l[I].prototype,I);R(y,"DOMTokenList")},function(u,c,i){var l=i(16),f=i(7),y=i(46),b=i(76),x=i(35),S=i(15),P=i(64),A=i(36),N=i(109),R=i(18),I=i(34),B=i(99),k=i(28),W=i(33),Y=i(58),ie=i(88),te=i(32),q=i(38),Q=i(39),le=i(87),L=i(40),U=i(71),T=i(54),M=i(66),D=i(72),X=i(139),K=i(112),se=i(51),be=i(37),me=i(93),ge=i(101),Ee=i(44),Oe=i(84),Ae=i(91),ze=i(69),Ye=i(85),Ie=i(27),Pe=i(149),_e=i(150),Be=i(73),_=i(56),F=i(74).forEach,V=Ae("hidden"),fe="Symbol",ve="prototype",de=Ie("toPrimitive"),Le=_.set,Je=_.getterFor(fe),Xe=Object[ve],Ve=f.Symbol,ye=Ve&&Ve[ve],it=f.TypeError,qe=f.QObject,Fe=y("JSON","stringify"),Qe=se.f,xt=be.f,lt=X.f,mt=me.f,oe=S([].push),Ct=Oe("symbols"),Pt=Oe("op-symbols"),bt=Oe("string-to-symbol-registry"),Vt=Oe("symbol-to-string-registry"),pr=Oe("wks"),Zt=!qe||!qe[ve]||!qe[ve].findChild,xr=A&&R(function(){return T(xt({},"a",{get:function(){return xt(this,"a",{value:7}).a}})).a!=7})?function(re,ne,we){var De=Qe(Xe,ne);De&&delete Xe[ne],xt(re,ne,we),De&&re!==Xe&&xt(Xe,ne,De)}:xt,rt=function(re,ne){var we=Ct[re]=T(ye);return Le(we,{type:fe,tag:re,description:ne}),A||(we.description=ne),we},Tt=function(ne,we,De){ne===Xe&&Tt(Pt,we,De),te(ne);var Ue=le(we);return te(De),I(Ct,Ue)?(De.enumerable?(I(ne,V)&&ne[V][Ue]&&(ne[V][Ue]=!1),De=T(De,{enumerable:U(0,!1)})):(I(ne,V)||xt(ne,V,U(1,{})),ne[V][Ue]=!0),xr(ne,Ue,De)):xt(ne,Ue,De)},nr=function(ne,we){te(ne);var De=Q(we),Ue=M(De).concat(ft(De));return F(Ue,function(vt){(!A||x(We,De,vt))&&Tt(ne,vt,De[vt])}),ne},je=function(ne,we){return we===void 0?T(ne):nr(T(ne),we)},We=function(ne){var we=le(ne),De=x(mt,this,we);return this===Xe&&I(Ct,we)&&!I(Pt,we)?!1:De||!I(this,we)||!I(Ct,we)||I(this,V)&&this[V][we]?De:!0},ot=function(ne,we){var De=Q(ne),Ue=le(we);if(!(De===Xe&&I(Ct,Ue)&&!I(Pt,Ue))){var vt=Qe(De,Ue);return vt&&I(Ct,Ue)&&!(I(De,V)&&De[V][Ue])&&(vt.enumerable=!0),vt}},tt=function(ne){var we=lt(Q(ne)),De=[];return F(we,function(Ue){!I(Ct,Ue)&&!I(ze,Ue)&&oe(De,Ue)}),De},ft=function(ne){var we=ne===Xe,De=lt(we?Pt:Q(ne)),Ue=[];return F(De,function(vt){I(Ct,vt)&&(!we||I(Xe,vt))&&oe(Ue,Ct[vt])}),Ue};if(N||(Ve=function(){if(Y(ye,this))throw it("Symbol is not a constructor");var ne=!arguments.length||arguments[0]===void 0?void 0:L(arguments[0]),we=Ye(ne),De=function(Ue){this===Xe&&x(De,Pt,Ue),I(this,V)&&I(this[V],we)&&(this[V][we]=!1),xr(this,we,U(1,Ue))};return A&&Zt&&xr(Xe,we,{configurable:!0,set:De}),rt(we,ne)},ye=Ve[ve],Ee(ye,"toString",function(){return Je(this).tag}),Ee(Ve,"withoutSetter",function(re){return rt(Ye(re),re)}),me.f=We,be.f=Tt,se.f=ot,D.f=X.f=tt,K.f=ft,Pe.f=function(re){return rt(Ie(re),re)},A&&(xt(ye,"description",{configurable:!0,get:function(){return Je(this).description}}),P||Ee(Xe,"propertyIsEnumerable",We,{unsafe:!0}))),l({global:!0,wrap:!0,forced:!N,sham:!N},{Symbol:Ve}),F(M(pr),function(re){_e(re)}),l({target:fe,stat:!0,forced:!N},{for:function(re){var ne=L(re);if(I(bt,ne))return bt[ne];var we=Ve(ne);return bt[ne]=we,Vt[we]=ne,we},keyFor:function(ne){if(!ie(ne))throw it(ne+" is not a symbol");if(I(Vt,ne))return Vt[ne]},useSetter:function(){Zt=!0},useSimple:function(){Zt=!1}}),l({target:"Object",stat:!0,forced:!N,sham:!A},{create:je,defineProperty:Tt,defineProperties:nr,getOwnPropertyDescriptor:ot}),l({target:"Object",stat:!0,forced:!N},{getOwnPropertyNames:tt,getOwnPropertySymbols:ft}),l({target:"Object",stat:!0,forced:R(function(){K.f(1)})},{getOwnPropertySymbols:function(ne){return K.f(q(ne))}}),Fe){var G=!N||R(function(){var re=Ve();return Fe([re])!="[null]"||Fe({a:re})!="{}"||Fe(Object(re))!="{}"});l({target:"JSON",stat:!0,forced:G},{stringify:function(ne,we,De){var Ue=ge(arguments),vt=we;if(!(!W(we)&&ne===void 0||ie(ne)))return B(we)||(we=function(Jt,Qt){if(k(vt)&&(Qt=x(vt,this,Jt,Qt)),!ie(Qt))return Qt}),Ue[1]=we,b(Fe,null,Ue)}})}if(!ye[de]){var J=ye.valueOf;Ee(ye,de,function(re){return x(J,this)})}Be(Ve,fe),ze[V]=!0},function(u,c,i){var l=i(146).charAt,f=i(40),y=i(56),b=i(111),x="String Iterator",S=y.set,P=y.getterFor(x);b(String,"String",function(A){S(this,{type:x,string:f(A),index:0})},function(){var N=P(this),R=N.string,I=N.index,B;return I>=R.length?{value:void 0,done:!0}:(B=l(R,I),N.index+=B.length,{value:B,done:!1})})},function(u,c,i){(function(l){var f=function(y){return y&&y.Math==Math&&y};u.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof l=="object"&&l)||function(){return this}()||Function("return this")()}).call(this,i(82))},function(u,c,i){var l=i(16),f=i(36),y=i(7),b=i(15),x=i(34),S=i(28),P=i(58),A=i(40),N=i(37).f,R=i(134),I=y.Symbol,B=I&&I.prototype;if(f&&S(I)&&(!("description"in B)||I().description!==void 0)){var k={},W=function(){var U=arguments.length<1||arguments[0]===void 0?void 0:A(arguments[0]),T=P(B,this)?new I(U):U===void 0?I():I(U);return U===""&&(k[T]=!0),T};R(W,I),W.prototype=B,B.constructor=W;var Y=String(I("test"))=="Symbol(test)",ie=b(B.toString),te=b(B.valueOf),q=/^Symbol\((.*)\)[^)]+$/,Q=b("".replace),le=b("".slice);N(B,"description",{configurable:!0,get:function(){var U=te(this),T=ie(U);if(x(k,U))return"";var M=Y?le(T,7,-1):Q(T,q,"$1");return M===""?void 0:M}}),l({global:!0,forced:!0},{Symbol:W})}},function(u,c,i){var l=i(150);l("iterator")},function(u,c,i){i.d(c,"a",function(){return l.a}),i.d(c,"c",function(){return l.e}),i.d(c,"h",function(){return le}),i.d(c,"i",function(){return Y}),i.d(c,"j",function(){return k}),i.d(c,"b",function(){return Ee}),i.d(c,"e",function(){return Ye}),i.d(c,"f",function(){return Oe}),i.d(c,"g",function(){return We});var l=i(1),f,y,b,x=0,S=[],P=l.i.__b,A=l.i.__r,N=l.i.diffed,R=l.i.__c,I=l.i.unmount;function B(G,J){l.i.__h&&l.i.__h(y,G,x||J),x=0;var re=y.__H||(y.__H={__:[],__h:[]});return G>=re.__.length&&re.__.push({}),re.__[G]}function k(G){return x=1,W(be,G)}function W(G,J,re){var ne=B(f++,2);return ne.t=G,ne.__c||(ne.__=[re?re(J):be(void 0,J),function(we){var De=ne.t(ne.__[0],we);ne.__[0]!==De&&(ne.__=[De,ne.__[1]],ne.__c.setState({}))}],ne.__c=y),ne.__}function Y(G,J){var re=B(f++,3);!l.i.__s&&se(re.__H,J)&&(re.__=G,re.__H=J,y.__H.__h.push(re))}function ie(G,J){var re=B(f++,4);!l.i.__s&&se(re.__H,J)&&(re.__=G,re.__H=J,y.__h.push(re))}function te(G){return x=5,Q(function(){return{current:G}},[])}function q(G,J,re){x=6,ie(function(){typeof G=="function"?G(J()):G&&(G.current=J())},re==null?re:re.concat(G))}function Q(G,J){var re=B(f++,7);return se(re.__H,J)&&(re.__=G(),re.__H=J,re.__h=G),re.__}function le(G,J){return x=8,Q(function(){return G},J)}function L(G){var J=y.context[G.__c],re=B(f++,9);return re.c=G,J?(re.__==null&&(re.__=!0,J.sub(y)),J.props.value):G.__}function U(G,J){l.i.useDebugValue&&l.i.useDebugValue(J?J(G):G)}function T(){var G;for(S.sort(function(J,re){return J.__v.__b-re.__v.__b});G=S.pop();)if(G.__P)try{G.__H.__h.forEach(X),G.__H.__h.forEach(K),G.__H.__h=[]}catch(J){G.__H.__h=[],l.i.__e(J,G.__v)}}l.i.__b=function(G){y=null,P&&P(G)},l.i.__r=function(G){A&&A(G),f=0;var J=(y=G.__c).__H;J&&(J.__h.forEach(X),J.__h.forEach(K),J.__h=[])},l.i.diffed=function(G){N&&N(G);var J=G.__c;J&&J.__H&&J.__H.__h.length&&(S.push(J)!==1&&b===l.i.requestAnimationFrame||((b=l.i.requestAnimationFrame)||D)(T)),y=null},l.i.__c=function(G,J){J.some(function(re){try{re.__h.forEach(X),re.__h=re.__h.filter(function(ne){return!ne.__||K(ne)})}catch(ne){J.some(function(we){we.__h&&(we.__h=[])}),J=[],l.i.__e(ne,re.__v)}}),R&&R(G,J)},l.i.unmount=function(G){I&&I(G);var J,re=G.__c;re&&re.__H&&(re.__H.__.forEach(function(ne){try{X(ne)}catch(we){J=we}}),J&&l.i.__e(J,re.__v))};var M=typeof requestAnimationFrame=="function";function D(G){var J,re=function(){clearTimeout(ne),M&&cancelAnimationFrame(J),setTimeout(G)},ne=setTimeout(re,100);M&&(J=requestAnimationFrame(re))}function X(G){var J=y,re=G.__c;typeof re=="function"&&(G.__c=void 0,re()),y=J}function K(G){var J=y;G.__c=G.__(),y=J}function se(G,J){return!G||G.length!==J.length||J.some(function(re,ne){return re!==G[ne]})}function be(G,J){return typeof J=="function"?J(G):J}function me(G,J){for(var re in J)G[re]=J[re];return G}function ge(G,J){for(var re in G)if(re!=="__source"&&!(re in J))return!0;for(var ne in J)if(ne!=="__source"&&G[ne]!==J[ne])return!0;return!1}function Ee(G){this.props=G}function Oe(G,J){function re(we){var De=this.props.ref,Ue=De==we.ref;return!Ue&&De&&(De.call?De(null):De.current=null),J?!J(this.props,we)||!Ue:ge(this.props,we)}function ne(we){return this.shouldComponentUpdate=re,Object(l.e)(G,we)}return ne.displayName="Memo("+(G.displayName||G.name)+")",ne.prototype.isReactComponent=!0,ne.__f=!0,ne}(Ee.prototype=new l.a).isPureReactComponent=!0,Ee.prototype.shouldComponentUpdate=function(G,J){return ge(this.props,G)||ge(this.state,J)};var Ae=l.i.__b;l.i.__b=function(G){G.type&&G.type.__f&&G.ref&&(G.props.ref=G.ref,G.ref=null),Ae&&Ae(G)};var ze=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ye(G){function J(re,ne){var we=me({},re);return delete we.ref,G(we,!(ne=re.ref||ne)||typeof ne=="object"&&!("current"in ne)?null:ne)}return J.$$typeof=ze,J.render=J,J.prototype.isReactComponent=J.__f=!0,J.displayName="ForwardRef("+(G.displayName||G.name)+")",J}var Ie=function(G,J){return G==null?null:Object(l.k)(Object(l.k)(G).map(J))},Pe={map:Ie,forEach:Ie,count:function(G){return G?Object(l.k)(G).length:0},only:function(G){var J=Object(l.k)(G);if(J.length!==1)throw"Children.only";return J[0]},toArray:l.k},_e=l.i.__e;l.i.__e=function(G,J,re){if(G.then){for(var ne,we=J;we=we.__;)if((ne=we.__c)&&ne.__c)return J.__e==null&&(J.__e=re.__e,J.__k=re.__k),ne.__c(G,J)}_e(G,J,re)};var Be=l.i.unmount;function _(G,J,re){return G&&(G.__c&&G.__c.__H&&(G.__c.__H.__.forEach(function(ne){typeof ne.__c=="function"&&ne.__c()}),G.__c.__H=null),(G=me({},G)).__c!=null&&(G.__c.__P===re&&(G.__c.__P=J),G.__c=null),G.__k=G.__k&&G.__k.map(function(ne){return _(ne,J,re)})),G}function F(G,J,re){return G&&(G.__v=null,G.__k=G.__k&&G.__k.map(function(ne){return F(ne,J,re)}),G.__c&&G.__c.__P===J&&(G.__e&&re.insertBefore(G.__e,G.__d),G.__c.__e=!0,G.__c.__P=re)),G}function V(){this.__u=0,this.t=null,this.__b=null}function fe(G){var J=G.__.__c;return J&&J.__e&&J.__e(G)}function ve(G){var J,re,ne;function we(De){if(J||(J=G()).then(function(Ue){re=Ue.default||Ue},function(Ue){ne=Ue}),ne)throw ne;if(!re)throw J;return Object(l.e)(re,De)}return we.displayName="Lazy",we.__f=!0,we}function de(){this.u=null,this.o=null}l.i.unmount=function(G){var J=G.__c;J&&J.__R&&J.__R(),J&&G.__h===!0&&(G.type=null),Be&&Be(G)},(V.prototype=new l.a).__c=function(G,J){var re=J.__c,ne=this;ne.t==null&&(ne.t=[]),ne.t.push(re);var we=fe(ne.__v),De=!1,Ue=function(){De||(De=!0,re.__R=null,we?we(vt):vt())};re.__R=Ue;var vt=function(){if(!--ne.__u){if(ne.state.__e){var Qt=ne.state.__e;ne.__v.__k[0]=F(Qt,Qt.__c.__P,Qt.__c.__O)}var $n;for(ne.setState({__e:ne.__b=null});$n=ne.t.pop();)$n.forceUpdate()}},Jt=J.__h===!0;ne.__u++||Jt||ne.setState({__e:ne.__b=ne.__v.__k[0]}),G.then(Ue,Ue)},V.prototype.componentWillUnmount=function(){this.t=[]},V.prototype.render=function(G,J){if(this.__b){if(this.__v.__k){var re=document.createElement("div"),ne=this.__v.__k[0].__c;this.__v.__k[0]=_(this.__b,re,ne.__O=ne.__P)}this.__b=null}var we=J.__e&&Object(l.e)(l.b,null,G.fallback);return we&&(we.__h=null),[Object(l.e)(l.b,null,J.__e?null:G.children),we]};var Le=function(G,J,re){if(++re[1]===re[0]&&G.o.delete(J),G.props.revealOrder&&(G.props.revealOrder[0]!=="t"||!G.o.size))for(re=G.u;re;){for(;re.length>3;)re.pop()();if(re[1]<re[0])break;G.u=re=re[2]}};function Je(G){return this.getChildContext=function(){return G.context},G.children}function Xe(G){var J=this,re=G.i;J.componentWillUnmount=function(){Object(l.j)(null,J.l),J.l=null,J.i=null},J.i&&J.i!==re&&J.componentWillUnmount(),G.__v?(J.l||(J.i=re,J.l={nodeType:1,parentNode:re,childNodes:[],appendChild:function(ne){this.childNodes.push(ne),J.i.appendChild(ne)},insertBefore:function(ne,we){this.childNodes.push(ne),J.i.appendChild(ne)},removeChild:function(ne){this.childNodes.splice(this.childNodes.indexOf(ne)>>>1,1),J.i.removeChild(ne)}}),Object(l.j)(Object(l.e)(Je,{context:J.context},G.__v),J.l)):J.l&&J.componentWillUnmount()}function Ve(G,J){return Object(l.e)(Xe,{__v:G,i:J})}(de.prototype=new l.a).__e=function(G){var J=this,re=fe(J.__v),ne=J.o.get(G);return ne[0]++,function(we){var De=function(){J.props.revealOrder?(ne.push(we),Le(J,G,ne)):we()};re?re(De):De()}},de.prototype.render=function(G){this.u=null,this.o=new Map;var J=Object(l.k)(G.children);G.revealOrder&&G.revealOrder[0]==="b"&&J.reverse();for(var re=J.length;re--;)this.o.set(J[re],this.u=[1,0,this.u]);return G.children},de.prototype.componentDidUpdate=de.prototype.componentDidMount=function(){var G=this;this.o.forEach(function(J,re){Le(G,re,J)})};var ye=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,it=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,qe=typeof document<"u",Fe=function(G){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(G)};function Qe(G,J,re){return J.__k==null&&(J.textContent=""),Object(l.j)(G,J),typeof re=="function"&&re(),G?G.__c:null}function xt(G,J,re){return Object(l.h)(G,J),typeof re=="function"&&re(),G?G.__c:null}l.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(G){Object.defineProperty(l.a.prototype,G,{configurable:!0,get:function(){return this["UNSAFE_"+G]},set:function(J){Object.defineProperty(this,G,{configurable:!0,writable:!0,value:J})}})});var lt=l.i.event;function mt(){}function oe(){return this.cancelBubble}function Ct(){return this.defaultPrevented}l.i.event=function(G){return lt&&(G=lt(G)),G.persist=mt,G.isPropagationStopped=oe,G.isDefaultPrevented=Ct,G.nativeEvent=G};var Pt,bt={configurable:!0,get:function(){return this.class}},Vt=l.i.vnode;l.i.vnode=function(G){var J=G.type,re=G.props,ne=re;if(typeof J=="string"){var we=J.indexOf("-")===-1;for(var De in ne={},re){var Ue=re[De];qe&&De==="children"&&J==="noscript"||De==="value"&&"defaultValue"in re&&Ue==null||(De==="defaultValue"&&"value"in re&&re.value==null?De="value":De==="download"&&Ue===!0?Ue="":/ondoubleclick/i.test(De)?De="ondblclick":/^onchange(textarea|input)/i.test(De+J)&&!Fe(re.type)?De="oninput":/^onfocus$/i.test(De)?De="onfocusin":/^onblur$/i.test(De)?De="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(De)?De=De.toLowerCase():we&&it.test(De)?De=De.replace(/[A-Z0-9]/,"-$&").toLowerCase():Ue===null&&(Ue=void 0),ne[De]=Ue)}J=="select"&&ne.multiple&&Array.isArray(ne.value)&&(ne.value=Object(l.k)(re.children).forEach(function(vt){vt.props.selected=ne.value.indexOf(vt.props.value)!=-1})),J=="select"&&ne.defaultValue!=null&&(ne.value=Object(l.k)(re.children).forEach(function(vt){vt.props.selected=ne.multiple?ne.defaultValue.indexOf(vt.props.value)!=-1:ne.defaultValue==vt.props.value})),G.props=ne,re.class!=re.className&&(bt.enumerable="className"in re,re.className!=null&&(ne.class=re.className),Object.defineProperty(ne,"className",bt))}G.$$typeof=ye,Vt&&Vt(G)};var pr=l.i.__r;l.i.__r=function(G){pr&&pr(G),Pt=G.__c};var Zt={ReactCurrentDispatcher:{current:{readContext:function(G){return Pt.__n[G.__c].props.value}}}};function xr(G){return l.e.bind(null,G)}function rt(G){return!!G&&G.$$typeof===ye}function Tt(G){return rt(G)?l.c.apply(null,arguments):G}function nr(G){return!!G.__k&&(Object(l.j)(null,G),!0)}function je(G){return G&&(G.base||G.nodeType===1&&G)||null}var We=function(G,J){return G(J)},ot=function(G,J){return G(J)},tt=l.b,ft={useState:k,useReducer:W,useEffect:Y,useLayoutEffect:ie,useRef:te,useImperativeHandle:q,useMemo:Q,useCallback:le,useContext:L,useDebugValue:U,version:"17.0.2",Children:Pe,render:Qe,hydrate:xt,unmountComponentAtNode:nr,createPortal:Ve,createElement:l.e,createContext:l.d,createFactory:xr,cloneElement:Tt,createRef:l.f,Fragment:l.b,isValidElement:rt,findDOMNode:je,Component:l.a,PureComponent:Ee,memo:Oe,forwardRef:Ye,flushSync:ot,unstable_batchedUpdates:We,StrictMode:tt,Suspense:V,SuspenseList:de,lazy:ve,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Zt};c.d=ft},function(u,c,i){var l=i(7),f=i(147),y=i(148),b=i(179),x=i(57),S=function(A){if(A&&A.forEach!==b)try{x(A,"forEach",b)}catch{A.forEach=b}};for(var P in f)f[P]&&S(l[P]&&l[P].prototype);S(y)},function(u,c,i){var l=i(16),f=i(97);l({target:"Object",stat:!0},{setPrototypeOf:f})},function(u,c,i){var l=i(16),f=i(18),y=i(38),b=i(96),x=i(137),S=f(function(){b(1)});l({target:"Object",stat:!0,forced:S,sham:!x},{getPrototypeOf:function(A){return b(y(A))}})},function(u,c,i){var l=i(16),f=i(46),y=i(76),b=i(199),x=i(157),S=i(32),P=i(33),A=i(54),N=i(18),R=f("Reflect","construct"),I=Object.prototype,B=[].push,k=N(function(){function ie(){}return!(R(function(){},[],ie)instanceof ie)}),W=!N(function(){R(function(){})}),Y=k||W;l({target:"Reflect",stat:!0,forced:Y,sham:Y},{construct:function(te,q){x(te),S(q);var Q=arguments.length<3?te:x(arguments[2]);if(W&&!k)return R(te,q,Q);if(te==Q){switch(q.length){case 0:return new te;case 1:return new te(q[0]);case 2:return new te(q[0],q[1]);case 3:return new te(q[0],q[1],q[2]);case 4:return new te(q[0],q[1],q[2],q[3])}var le=[null];return y(B,le,q),new(y(b,te,le))}var L=Q.prototype,U=A(P(L)?L:I),T=y(te,U,q);return P(T)?T:U}})},function(u,c){var i=Function.prototype,l=i.bind,f=i.call,y=l&&l.bind(f);u.exports=l?function(b){return b&&y(f,b)}:function(b){return b&&function(){return f.apply(b,arguments)}}},function(u,c,i){var l=i(7),f=i(51).f,y=i(57),b=i(44),x=i(108),S=i(134),P=i(95);u.exports=function(A,N){var R=A.target,I=A.global,B=A.stat,k,W,Y,ie,te,q;if(I?W=l:B?W=l[R]||x(R,{}):W=(l[R]||{}).prototype,W)for(Y in N){if(te=N[Y],A.noTargetGet?(q=f(W,Y),ie=q&&q.value):ie=W[Y],k=P(I?Y:R+(B?".":"#")+Y,A.forced),!k&&ie!==void 0){if(typeof te==typeof ie)continue;S(te,ie)}(A.sham||ie&&ie.sham)&&y(te,"sham",!0),b(W,Y,te,A)}}},function(u,c,i){var l=i(16),f=i(7),y=i(99),b=i(100),x=i(33),S=i(67),P=i(43),A=i(39),N=i(61),R=i(27),I=i(75),B=i(101),k=I("slice"),W=R("species"),Y=f.Array,ie=Math.max;l({target:"Array",proto:!0,forced:!k},{slice:function(q,Q){var le=A(this),L=P(le),U=S(q,L),T=S(Q===void 0?L:Q,L),M,D,X;if(y(le)&&(M=le.constructor,b(M)&&(M===Y||y(M.prototype))?M=void 0:x(M)&&(M=M[W],M===null&&(M=void 0)),M===Y||M===void 0))return B(le,U,T);for(D=new(M===void 0?Y:M)(ie(T-U,0)),X=0;U<T;U++,X++)U in le&&N(D,X,le[U]);return D.length=X,D}})},function(u,c){u.exports=function(i){try{return!!i()}catch{return!0}}},function(u,c,i){var l=i(16),f=i(102);l({target:"RegExp",proto:!0,forced:/./.exec!==f},{exec:f})},function(u,c,i){var l=i(16),f=i(38),y=i(66),b=i(18),x=b(function(){y(1)});l({target:"Object",stat:!0,forced:x},{keys:function(P){return y(f(P))}})},function(u,c,i){var l=i(16),f=i(18),y=i(39),b=i(51).f,x=i(36),S=f(function(){b(1)}),P=!x||S;l({target:"Object",stat:!0,forced:P,sham:!x},{getOwnPropertyDescriptor:function(N,R){return b(y(N),R)}})},function(u,c,i){var l=i(16),f=i(74).filter,y=i(75),b=y("filter");l({target:"Array",proto:!0,forced:!b},{filter:function(S){return f(this,S,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var l=i(16),f=i(36),y=i(135),b=i(39),x=i(51),S=i(61);l({target:"Object",stat:!0,sham:!f},{getOwnPropertyDescriptors:function(A){for(var N=b(A),R=x.f,I=y(N),B={},k=0,W,Y;I.length>k;)Y=R(N,W=I[k++]),Y!==void 0&&S(B,W,Y);return B}})},function(u,c,i){var l=i(36),f=i(94).EXISTS,y=i(15),b=i(37).f,x=Function.prototype,S=y(x.toString),P=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,A=y(P.exec),N="name";l&&!f&&b(x,N,{configurable:!0,get:function(){try{return A(P,S(this))[1]}catch{return""}}})},function(u,c,i){var l=i(16),f=i(182),y=i(118),b=!y(function(x){Array.from(x)});l({target:"Array",stat:!0,forced:b},{from:f})},,function(u,c,i){var l=i(7),f=i(84),y=i(34),b=i(85),x=i(109),S=i(128),P=f("wks"),A=l.Symbol,N=A&&A.for,R=S?A:A&&A.withoutSetter||b;u.exports=function(I){if(!y(P,I)||!(x||typeof P[I]=="string")){var B="Symbol."+I;x&&y(A,I)?P[I]=A[I]:S&&N?P[I]=N(B):P[I]=R(B)}return P[I]}},function(u,c){u.exports=function(i){return typeof i=="function"}},function(u,c,i){var l=i(16),f=i(7),y=i(18),b=i(99),x=i(33),S=i(38),P=i(43),A=i(61),N=i(119),R=i(75),I=i(27),B=i(65),k=I("isConcatSpreadable"),W=9007199254740991,Y="Maximum allowed index exceeded",ie=f.TypeError,te=B>=51||!y(function(){var L=[];return L[k]=!1,L.concat()[0]!==L}),q=R("concat"),Q=function(L){if(!x(L))return!1;var U=L[k];return U!==void 0?!!U:b(L)},le=!te||!q;l({target:"Array",proto:!0,forced:le},{concat:function(U){var T=S(this),M=N(T,0),D=0,X,K,se,be,me;for(X=-1,se=arguments.length;X<se;X++)if(me=X===-1?T:arguments[X],Q(me)){if(be=P(me),D+be>W)throw ie(Y);for(K=0;K<be;K++,D++)K in me&&A(M,D,me[K])}else{if(D>=W)throw ie(Y);A(M,D++,me)}return M.length=D,M}})},function(u,c,i){var l=i(16),f=i(198);l({target:"Object",stat:!0,forced:Object.assign!==f},{assign:f})},function(u,c,i){var l=i(105),f=typeof self=="object"&&self&&self.Object===Object&&self,y=l.a||f||Function("return this")();c.a=y},function(u,c,i){var l=i(7),f=i(33),y=l.String,b=l.TypeError;u.exports=function(x){if(f(x))return x;throw b(y(x)+" is not an object")}},function(u,c,i){var l=i(28);u.exports=function(f){return typeof f=="object"?f!==null:l(f)}},function(u,c,i){var l=i(15),f=i(38),y=l({}.hasOwnProperty);u.exports=Object.hasOwn||function(x,S){return y(f(x),S)}},function(u,c){var i=Function.prototype.call;u.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(u,c,i){var l=i(18);u.exports=!l(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,c,i){var l=i(7),f=i(36),y=i(129),b=i(32),x=i(87),S=l.TypeError,P=Object.defineProperty;c.f=f?P:function(N,R,I){if(b(N),R=x(R),b(I),y)try{return P(N,R,I)}catch{}if("get"in I||"set"in I)throw S("Accessors not supported");return"value"in I&&(N[R]=I.value),N}},function(u,c,i){var l=i(7),f=i(45),y=l.Object;u.exports=function(b){return y(f(b))}},function(u,c,i){var l=i(81),f=i(45);u.exports=function(y){return l(f(y))}},function(u,c,i){var l=i(7),f=i(98),y=l.String;u.exports=function(b){if(f(b)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return y(b)}},function(u,c,i){var l=i(16),f=i(74).map,y=i(75),b=y("map");l({target:"Array",proto:!0,forced:!b},{map:function(S){return f(this,S,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){(function(l){i.d(c,"d",function(){return b}),i.d(c,"c",function(){return x}),i.d(c,"b",function(){return S}),i.d(c,"a",function(){return A});var f=i(10),y=function(N,R){var I=typeof Symbol=="function"&&N[Symbol.iterator];if(!I)return N;var B=I.call(N),k,W=[],Y;try{for(;(R===void 0||R-- >0)&&!(k=B.next()).done;)W.push(k.value)}catch(ie){Y={error:ie}}finally{try{k&&!k.done&&(I=B.return)&&I.call(B)}finally{if(Y)throw Y.error}}return W};function b(){var N=y(Object(f.j)(0),2),R=N[1],I=Object(f.h)(function(){R(function(B){return B+1})},[]);return I}function x(N){if(!N||typeof N!="object")return!1;var R=Object.getPrototypeOf(N);return!R||R===Object.prototype}function S(N){return typeof Symbol=="function"?Symbol.for(N):"__$mobx-react "+N+"__"}var P={};function A(){return typeof window<"u"?window:typeof l<"u"?l:typeof self<"u"?self:P}}).call(this,i(82))},function(u,c,i){var l=i(90);u.exports=function(f){return l(f.length)}},function(u,c,i){var l=i(7),f=i(28),y=i(34),b=i(57),x=i(108),S=i(92),P=i(56),A=i(94).CONFIGURABLE,N=P.get,R=P.enforce,I=String(String).split("String");(u.exports=function(B,k,W,Y){var ie=Y?!!Y.unsafe:!1,te=Y?!!Y.enumerable:!1,q=Y?!!Y.noTargetGet:!1,Q=Y&&Y.name!==void 0?Y.name:k,le;if(f(W)&&(String(Q).slice(0,7)==="Symbol("&&(Q="["+String(Q).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!y(W,"name")||A&&W.name!==Q)&&b(W,"name",Q),le=R(W),le.source||(le.source=I.join(typeof Q=="string"?Q:""))),B===l){te?B[k]=W:x(k,W);return}else ie?!q&&B[k]&&(te=!0):delete B[k];te?B[k]=W:b(B,k,W)})(Function.prototype,"toString",function(){return f(this)&&N(this).source||S(this)})},function(u,c,i){var l=i(7),f=l.TypeError;u.exports=function(y){if(y==null)throw f("Can't call method on "+y);return y}},function(u,c,i){var l=i(7),f=i(28),y=function(b){return f(b)?b:void 0};u.exports=function(b,x){return arguments.length<2?y(l[b]):l[b]&&l[b][x]}},function(u,c,i){var l=i(16),f=i(35),y=i(33),b=i(32),x=i(200),S=i(51),P=i(96);function A(N,R){var I=arguments.length<3?N:arguments[2],B,k;if(b(N)===I)return N[R];if(B=S.f(N,R),B)return x(B)?B.value:B.get===void 0?void 0:f(B.get,I);if(y(k=P(N)))return A(k,R,I)}l({target:"Reflect",stat:!0},{get:A})},function(u,c,i){(function(l){var f=i(31),y=i(165),b=v&&!v.nodeType&&v,x=b&&typeof l=="object"&&l&&!l.nodeType&&l,S=x&&x.exports===b,P=S?f.a.Buffer:void 0,A=P?P.isBuffer:void 0,N=A||y.a;c.a=N}).call(this,i(121)(u))},function(u,c,i){(function(l){var f=i(105),y=v&&!v.nodeType&&v,b=y&&typeof l=="object"&&l&&!l.nodeType&&l,x=b&&b.exports===y,S=x&&f.a.process,P=function(){try{var A=b&&b.require&&b.require("util").types;return A||S&&S.binding&&S.binding("util")}catch{}}();c.a=P}).call(this,i(121)(u))},function(u,c,i){var l=i(15),f=l({}.toString),y=l("".slice);u.exports=function(b){return y(f(b),8,-1)}},function(u,c,i){var l=i(36),f=i(35),y=i(93),b=i(71),x=i(39),S=i(87),P=i(34),A=i(129),N=Object.getOwnPropertyDescriptor;c.f=l?N:function(I,B){if(I=x(I),B=S(B),A)try{return N(I,B)}catch{}if(P(I,B))return b(!f(y.f,I,B),I[B])}},function(u,c,i){var l=i(16),f=i(213).entries;l({target:"Object",stat:!0},{entries:function(b){return f(b)}})},function(u,c,i){var l=i(46);u.exports=l("navigator","userAgent")||""},function(u,c,i){var l=i(32),f=i(168),y=i(110),b=i(69),x=i(133),S=i(86),P=i(91),A=">",N="<",R="prototype",I="script",B=P("IE_PROTO"),k=function(){},W=function(Q){return N+I+A+Q+N+"/"+I+A},Y=function(Q){Q.write(W("")),Q.close();var le=Q.parentWindow.Object;return Q=null,le},ie=function(){var Q=S("iframe"),le="java"+I+":",L;return Q.style.display="none",x.appendChild(Q),Q.src=String(le),L=Q.contentWindow.document,L.open(),L.write(W("document.F=Object")),L.close(),L.F},te,q=function(){try{te=new ActiveXObject("htmlfile")}catch{}q=typeof document<"u"?document.domain&&te?Y(te):ie():Y(te);for(var Q=y.length;Q--;)delete q[R][y[Q]];return q()};b[B]=!0,u.exports=Object.create||function(le,L){var U;return le!==null?(k[R]=l(le),U=new k,k[R]=null,U[B]=le):U=q(),L===void 0?U:f(U,L)}},function(u,c,i){var l=i(7),f=i(28),y=i(89),b=l.TypeError;u.exports=function(x){if(f(x))return x;throw b(y(x)+" is not a function")}},function(u,c,i){var l=i(170),f=i(7),y=i(15),b=i(33),x=i(57),S=i(34),P=i(107),A=i(91),N=i(69),R="Object already initialized",I=f.TypeError,B=f.WeakMap,k,W,Y,ie=function(T){return Y(T)?W(T):k(T,{})},te=function(T){return function(M){var D;if(!b(M)||(D=W(M)).type!==T)throw I("Incompatible receiver, "+T+" required");return D}};if(l||P.state){var q=P.state||(P.state=new B),Q=y(q.get),le=y(q.has),L=y(q.set);k=function(T,M){if(le(q,T))throw new I(R);return M.facade=T,L(q,T,M),M},W=function(T){return Q(q,T)||{}},Y=function(T){return le(q,T)}}else{var U=A("state");N[U]=!0,k=function(T,M){if(S(T,U))throw new I(R);return M.facade=T,x(T,U,M),M},W=function(T){return S(T,U)?T[U]:{}},Y=function(T){return S(T,U)}}u.exports={set:k,get:W,has:Y,enforce:ie,getterFor:te}},function(u,c,i){var l=i(36),f=i(37),y=i(71);u.exports=l?function(b,x,S){return f.f(b,x,y(1,S))}:function(b,x,S){return b[x]=S,b}},function(u,c,i){var l=i(15);u.exports=l({}.isPrototypeOf)},function(u,c,i){var l=i(55);u.exports=function(f,y){var b=f[y];return b==null?void 0:l(b)}},function(u,c,i){var l=i(173),f=i(177);l("Map",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},f)},function(u,c,i){var l=i(87),f=i(37),y=i(71);u.exports=function(b,x,S){var P=l(x);P in b?f.f(b,P,y(0,S)):b[P]=S}},function(u,c,i){var l=i(15),f=i(55),y=l(l.bind);u.exports=function(b,x){return f(b),x===void 0?b:y?y(b,x):function(){return b.apply(x,arguments)}}},function(u,c,i){var l=i(16),f=i(214),y=i(83);l({target:"Array",proto:!0},{fill:f}),y("fill")},function(u,c){u.exports=!1},function(u,c,i){var l=i(7),f=i(53),y=l.process,b=l.Deno,x=y&&y.versions||b&&b.version,S=x&&x.v8,P,A;S&&(P=S.split("."),A=P[0]>0&&P[0]<4?1:+(P[0]+P[1])),!A&&f&&(P=f.match(/Edge\/(\d+)/),(!P||P[1]>=74)&&(P=f.match(/Chrome\/(\d+)/),P&&(A=+P[1]))),u.exports=A},function(u,c,i){var l=i(131),f=i(110);u.exports=Object.keys||function(b){return l(b,f)}},function(u,c,i){var l=i(68),f=Math.max,y=Math.min;u.exports=function(b,x){var S=l(b);return S<0?f(S+x,0):y(S,x)}},function(u,c){var i=Math.ceil,l=Math.floor;u.exports=function(f){var y=+f;return y!==y||y===0?0:(y>0?l:i)(y)}},function(u,c){u.exports={}},function(u,c){u.exports={}},function(u,c){u.exports=function(i,l){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:l}}},function(u,c,i){var l=i(131),f=i(110),y=f.concat("length","prototype");c.f=Object.getOwnPropertyNames||function(x){return l(x,y)}},function(u,c,i){var l=i(37).f,f=i(34),y=i(27),b=y("toStringTag");u.exports=function(x,S,P){x&&!f(x=P?x:x.prototype,b)&&l(x,b,{configurable:!0,value:S})}},function(u,c,i){var l=i(62),f=i(15),y=i(81),b=i(38),x=i(43),S=i(119),P=f([].push),A=function(N){var R=N==1,I=N==2,B=N==3,k=N==4,W=N==6,Y=N==7,ie=N==5||W;return function(te,q,Q,le){for(var L=b(te),U=y(L),T=l(q,Q),M=x(U),D=0,X=le||S,K=R?X(te,M):I||Y?X(te,0):void 0,se,be;M>D;D++)if((ie||D in U)&&(se=U[D],be=T(se,D,L),N))if(R)K[D]=be;else if(be)switch(N){case 3:return!0;case 5:return se;case 6:return D;case 2:P(K,se)}else switch(N){case 4:return!1;case 7:P(K,se)}return W?-1:B||k?k:K}};u.exports={forEach:A(0),map:A(1),filter:A(2),some:A(3),every:A(4),find:A(5),findIndex:A(6),filterReject:A(7)}},function(u,c,i){var l=i(18),f=i(27),y=i(65),b=f("species");u.exports=function(x){return y>=51||!l(function(){var S=[],P=S.constructor={};return P[b]=function(){return{foo:1}},S[x](Boolean).foo!==1})}},function(u,c){var i=Function.prototype,l=i.apply,f=i.bind,y=i.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(f?y.bind(l):function(){return y.apply(l,arguments)})},function(u,c,i){var l=i(16),f=i(15),y=i(81),b=i(39),x=i(120),S=f([].join),P=y!=Object,A=x("join",",");l({target:"Array",proto:!0,forced:P||!A},{join:function(R){return S(b(this),R===void 0?",":R)}})},function(u,c,i){var l=i(76),f=i(35),y=i(15),b=i(122),x=i(154),S=i(32),P=i(45),A=i(156),N=i(123),R=i(90),I=i(40),B=i(59),k=i(113),W=i(124),Y=i(102),ie=i(151),te=i(18),q=ie.UNSUPPORTED_Y,Q=4294967295,le=Math.min,L=[].push,U=y(/./.exec),T=y(L),M=y("".slice),D=!te(function(){var X=/(?:)/,K=X.exec;X.exec=function(){return K.apply(this,arguments)};var se="ab".split(X);return se.length!==2||se[0]!=="a"||se[1]!=="b"});b("split",function(X,K,se){var be;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?be=function(me,ge){var Ee=I(P(this)),Oe=ge===void 0?Q:ge>>>0;if(Oe===0)return[];if(me===void 0)return[Ee];if(!x(me))return f(K,Ee,me,Oe);for(var Ae=[],ze=(me.ignoreCase?"i":"")+(me.multiline?"m":"")+(me.unicode?"u":"")+(me.sticky?"y":""),Ye=0,Ie=new RegExp(me.source,ze+"g"),Pe,_e,Be;(Pe=f(Y,Ie,Ee))&&(_e=Ie.lastIndex,!(_e>Ye&&(T(Ae,M(Ee,Ye,Pe.index)),Pe.length>1&&Pe.index<Ee.length&&l(L,Ae,k(Pe,1)),Be=Pe[0].length,Ye=_e,Ae.length>=Oe)));)Ie.lastIndex===Pe.index&&Ie.lastIndex++;return Ye===Ee.length?(Be||!U(Ie,""))&&T(Ae,""):T(Ae,M(Ee,Ye)),Ae.length>Oe?k(Ae,0,Oe):Ae}:"0".split(void 0,0).length?be=function(me,ge){return me===void 0&&ge===0?[]:f(K,this,me,ge)}:be=K,[function(ge,Ee){var Oe=P(this),Ae=ge==null?void 0:B(ge,X);return Ae?f(Ae,ge,Oe,Ee):f(be,I(Oe),ge,Ee)},function(me,ge){var Ee=S(this),Oe=I(me),Ae=se(be,Ee,Oe,ge,be!==K);if(Ae.done)return Ae.value;var ze=A(Ee,RegExp),Ye=Ee.unicode,Ie=(Ee.ignoreCase?"i":"")+(Ee.multiline?"m":"")+(Ee.unicode?"u":"")+(q?"g":"y"),Pe=new ze(q?"^(?:"+Ee.source+")":Ee,Ie),_e=ge===void 0?Q:ge>>>0;if(_e===0)return[];if(Oe.length===0)return W(Pe,Oe)===null?[Oe]:[];for(var Be=0,_=0,F=[];_<Oe.length;){Pe.lastIndex=q?0:_;var V=W(Pe,q?M(Oe,_):Oe),fe;if(V===null||(fe=le(R(Pe.lastIndex+(q?_:0)),Oe.length))===Be)_=N(Oe,_,Ye);else{if(T(F,M(Oe,Be,_)),F.length===_e)return F;for(var ve=1;ve<=V.length-1;ve++)if(T(F,V[ve]),F.length===_e)return F;_=Be=fe}}return T(F,M(Oe,Be)),F}]},!D,q)},function(u,c,i){var l=i(36),f=i(7),y=i(15),b=i(95),x=i(44),S=i(34),P=i(143),A=i(58),N=i(88),R=i(130),I=i(18),B=i(72).f,k=i(51).f,W=i(37).f,Y=i(196),ie=i(159).trim,te="Number",q=f[te],Q=q.prototype,le=f.TypeError,L=y("".slice),U=y("".charCodeAt),T=function(be){var me=R(be,"number");return typeof me=="bigint"?me:M(me)},M=function(be){var me=R(be,"number"),ge,Ee,Oe,Ae,ze,Ye,Ie,Pe;if(N(me))throw le("Cannot convert a Symbol value to a number");if(typeof me=="string"&&me.length>2){if(me=ie(me),ge=U(me,0),ge===43||ge===45){if(Ee=U(me,2),Ee===88||Ee===120)return NaN}else if(ge===48){switch(U(me,1)){case 66:case 98:Oe=2,Ae=49;break;case 79:case 111:Oe=8,Ae=55;break;default:return+me}for(ze=L(me,2),Ye=ze.length,Ie=0;Ie<Ye;Ie++)if(Pe=U(ze,Ie),Pe<48||Pe>Ae)return NaN;return parseInt(ze,Oe)}}return+me};if(b(te,!q(" 0o1")||!q("0b1")||q("+0x1"))){for(var D=function(me){var ge=arguments.length<1?0:q(T(me)),Ee=this;return A(Q,Ee)&&I(function(){Y(Ee)})?P(Object(ge),Ee,D):ge},X=l?B(q):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),K=0,se;X.length>K;K++)S(q,se=X[K])&&!S(D,se)&&W(D,se,k(q,se));D.prototype=Q,Q.constructor=D,x(f,te,D)}},function(u,c,i){var l=i(16);l({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,c,i){var l=i(7),f=i(15),y=i(18),b=i(50),x=l.Object,S=f("".split);u.exports=y(function(){return!x("z").propertyIsEnumerable(0)})?function(P){return b(P)=="String"?S(P,""):x(P)}:x},function(u,c){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}u.exports=i},function(u,c,i){var l=i(27),f=i(54),y=i(37),b=l("unscopables"),x=Array.prototype;x[b]==null&&y.f(x,b,{configurable:!0,value:f(null)}),u.exports=function(S){x[b][S]=!0}},function(u,c,i){var l=i(64),f=i(107);(u.exports=function(y,b){return f[y]||(f[y]=b!==void 0?b:{})})("versions",[]).push({version:"3.19.3",mode:l?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(u,c,i){var l=i(15),f=0,y=Math.random(),b=l(1 .toString);u.exports=function(x){return"Symbol("+(x===void 0?"":x)+")_"+b(++f+y,36)}},function(u,c,i){var l=i(7),f=i(33),y=l.document,b=f(y)&&f(y.createElement);u.exports=function(x){return b?y.createElement(x):{}}},function(u,c,i){var l=i(130),f=i(88);u.exports=function(y){var b=l(y,"string");return f(b)?b:b+""}},function(u,c,i){var l=i(7),f=i(46),y=i(28),b=i(58),x=i(128),S=l.Object;u.exports=x?function(P){return typeof P=="symbol"}:function(P){var A=f("Symbol");return y(A)&&b(A.prototype,S(P))}},function(u,c,i){var l=i(7),f=l.String;u.exports=function(y){try{return f(y)}catch{return"Object"}}},function(u,c,i){var l=i(68),f=Math.min;u.exports=function(y){return y>0?f(l(y),9007199254740991):0}},function(u,c,i){var l=i(84),f=i(85),y=l("keys");u.exports=function(b){return y[b]||(y[b]=f(b))}},function(u,c,i){var l=i(15),f=i(28),y=i(107),b=l(Function.toString);f(y.inspectSource)||(y.inspectSource=function(x){return b(x)}),u.exports=y.inspectSource},function(u,c,i){var l={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,y=f&&!l.call({1:2},1);c.f=y?function(x){var S=f(this,x);return!!S&&S.enumerable}:l},function(u,c,i){var l=i(36),f=i(34),y=Function.prototype,b=l&&Object.getOwnPropertyDescriptor,x=f(y,"name"),S=x&&function(){}.name==="something",P=x&&(!l||l&&b(y,"name").configurable);u.exports={EXISTS:x,PROPER:S,CONFIGURABLE:P}},function(u,c,i){var l=i(18),f=i(28),y=/#|\.prototype\./,b=function(N,R){var I=S[x(N)];return I==A?!0:I==P?!1:f(R)?l(R):!!R},x=b.normalize=function(N){return String(N).replace(y,".").toLowerCase()},S=b.data={},P=b.NATIVE="N",A=b.POLYFILL="P";u.exports=b},function(u,c,i){var l=i(7),f=i(34),y=i(28),b=i(38),x=i(91),S=i(137),P=x("IE_PROTO"),A=l.Object,N=A.prototype;u.exports=S?A.getPrototypeOf:function(R){var I=b(R);if(f(I,P))return I[P];var B=I.constructor;return y(B)&&I instanceof B?B.prototype:I instanceof A?N:null}},function(u,c,i){var l=i(15),f=i(32),y=i(172);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b=!1,x={},S;try{S=l(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),S(x,[]),b=x instanceof Array}catch{}return function(A,N){return f(A),y(N),b?S(A,N):A.__proto__=N,A}}():void 0)},function(u,c,i){var l=i(7),f=i(116),y=i(28),b=i(50),x=i(27),S=x("toStringTag"),P=l.Object,A=b(function(){return arguments}())=="Arguments",N=function(R,I){try{return R[I]}catch{}};u.exports=f?b:function(R){var I,B,k;return R===void 0?"Undefined":R===null?"Null":typeof(B=N(I=P(R),S))=="string"?B:A?b(I):(k=b(I))=="Object"&&y(I.callee)?"Arguments":k}},function(u,c,i){var l=i(50);u.exports=Array.isArray||function(y){return l(y)=="Array"}},function(u,c,i){var l=i(15),f=i(18),y=i(28),b=i(98),x=i(46),S=i(92),P=function(){},A=[],N=x("Reflect","construct"),R=/^\s*(?:class|function)\b/,I=l(R.exec),B=!R.exec(P),k=function(Y){if(!y(Y))return!1;try{return N(P,A,Y),!0}catch{return!1}},W=function(Y){if(!y(Y))return!1;switch(b(Y)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return B||!!I(R,S(Y))};u.exports=!N||f(function(){var Y;return k(k.call)||!k(Object)||!k(function(){Y=!0})||Y})?W:k},function(u,c,i){var l=i(15);u.exports=l([].slice)},function(u,c,i){var l=i(35),f=i(15),y=i(40),b=i(184),x=i(151),S=i(84),P=i(54),A=i(56).get,N=i(185),R=i(186),I=S("native-string-replace",String.prototype.replace),B=RegExp.prototype.exec,k=B,W=f("".charAt),Y=f("".indexOf),ie=f("".replace),te=f("".slice),q=function(){var U=/a/,T=/b*/g;return l(B,U,"a"),l(B,T,"a"),U.lastIndex!==0||T.lastIndex!==0}(),Q=x.BROKEN_CARET,le=/()??/.exec("")[1]!==void 0,L=q||le||Q||N||R;L&&(k=function(T){var M=this,D=A(M),X=y(T),K=D.raw,se,be,me,ge,Ee,Oe,Ae;if(K)return K.lastIndex=M.lastIndex,se=l(k,K,X),M.lastIndex=K.lastIndex,se;var ze=D.groups,Ye=Q&&M.sticky,Ie=l(b,M),Pe=M.source,_e=0,Be=X;if(Ye&&(Ie=ie(Ie,"y",""),Y(Ie,"g")===-1&&(Ie+="g"),Be=te(X,M.lastIndex),M.lastIndex>0&&(!M.multiline||M.multiline&&W(X,M.lastIndex-1)!==`
`)&&(Pe="(?: "+Pe+")",Be=" "+Be,_e++),be=new RegExp("^(?:"+Pe+")",Ie)),le&&(be=new RegExp("^"+Pe+"$(?!\\s)",Ie)),q&&(me=M.lastIndex),ge=l(B,Ye?be:M,Be),Ye?ge?(ge.input=te(ge.input,_e),ge[0]=te(ge[0],_e),ge.index=M.lastIndex,M.lastIndex+=ge[0].length):M.lastIndex=0:q&&ge&&(M.lastIndex=M.global?ge.index+ge[0].length:me),le&&ge&&ge.length>1&&l(I,ge[0],be,function(){for(Ee=1;Ee<arguments.length-2;Ee++)arguments[Ee]===void 0&&(ge[Ee]=void 0)}),ge&&ze)for(ge.groups=Oe=P(null),Ee=0;Ee<ze.length;Ee++)Ae=ze[Ee],Oe[Ae[0]]=ge[Ae[1]];return ge}),u.exports=k},function(u,c,i){var l=i(16),f=i(7),y=i(67),b=i(68),x=i(43),S=i(38),P=i(119),A=i(61),N=i(75),R=N("splice"),I=f.TypeError,B=Math.max,k=Math.min,W=9007199254740991,Y="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!R},{splice:function(te,q){var Q=S(this),le=x(Q),L=y(te,le),U=arguments.length,T,M,D,X,K,se;if(U===0?T=M=0:U===1?(T=0,M=le-L):(T=U-2,M=k(B(b(q),0),le-L)),le+T-M>W)throw I(Y);for(D=P(Q,M),X=0;X<M;X++)K=L+X,K in Q&&A(D,X,Q[K]);if(D.length=M,T<M){for(X=L;X<le-M;X++)K=X+M,se=X+T,K in Q?Q[se]=Q[K]:delete Q[se];for(X=le;X>le-M+T;X--)delete Q[X-1]}else if(T>M)for(X=le-M;X>L;X--)K=X+M-1,se=X+T-1,K in Q?Q[se]=Q[K]:delete Q[se];for(X=0;X<T;X++)Q[X+L]=arguments[X+2];return Q.length=le-M+T,D}})},function(u,c,i){var l=i(16),f=i(201),y=i(202);l({target:"String",proto:!0,forced:y("anchor")},{anchor:function(x){return f(this,"a","name",x)}})},function(u,c,i){(function(l){var f=typeof l=="object"&&l&&l.Object===Object&&l;c.a=f}).call(this,i(82))},function(u,c,i){(function(l){var f=i(31),y=v&&!v.nodeType&&v,b=y&&typeof l=="object"&&l&&!l.nodeType&&l,x=b&&b.exports===y,S=x?f.a.Buffer:void 0,P=S?S.allocUnsafe:void 0;function A(N,R){if(R)return N.slice();var I=N.length,B=P?P(I):new N.constructor(I);return N.copy(B),B}c.a=A}).call(this,i(121)(u))},function(u,c,i){var l=i(7),f=i(108),y="__core-js_shared__",b=l[y]||f(y,{});u.exports=b},function(u,c,i){var l=i(7),f=Object.defineProperty;u.exports=function(y,b){try{f(l,y,{value:b,configurable:!0,writable:!0})}catch{l[y]=b}return b}},function(u,c,i){var l=i(65),f=i(18);u.exports=!!Object.getOwnPropertySymbols&&!f(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&l&&l<41})},function(u,c){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,c,i){var l=i(16),f=i(35),y=i(64),b=i(94),x=i(28),S=i(171),P=i(96),A=i(97),N=i(73),R=i(57),I=i(44),B=i(27),k=i(70),W=i(136),Y=b.PROPER,ie=b.CONFIGURABLE,te=W.IteratorPrototype,q=W.BUGGY_SAFARI_ITERATORS,Q=B("iterator"),le="keys",L="values",U="entries",T=function(){return this};u.exports=function(M,D,X,K,se,be,me){S(X,D,K);var ge=function(_){if(_===se&&Ye)return Ye;if(!q&&_ in Ae)return Ae[_];switch(_){case le:return function(){return new X(this,_)};case L:return function(){return new X(this,_)};case U:return function(){return new X(this,_)}}return function(){return new X(this)}},Ee=D+" Iterator",Oe=!1,Ae=M.prototype,ze=Ae[Q]||Ae["@@iterator"]||se&&Ae[se],Ye=!q&&ze||ge(se),Ie=D=="Array"&&Ae.entries||ze,Pe,_e,Be;if(Ie&&(Pe=P(Ie.call(new M)),Pe!==Object.prototype&&Pe.next&&(!y&&P(Pe)!==te&&(A?A(Pe,te):x(Pe[Q])||I(Pe,Q,T)),N(Pe,Ee,!0,!0),y&&(k[Ee]=T))),Y&&se==L&&ze&&ze.name!==L&&(!y&&ie?R(Ae,"name",L):(Oe=!0,Ye=function(){return f(ze,this)})),se)if(_e={values:ge(L),keys:be?Ye:ge(le),entries:ge(U)},me)for(Be in _e)(q||Oe||!(Be in Ae))&&I(Ae,Be,_e[Be]);else l({target:D,proto:!0,forced:q||Oe},_e);return(!y||me)&&Ae[Q]!==Ye&&I(Ae,Q,Ye,{name:se}),k[D]=Ye,_e}},function(u,c){c.f=Object.getOwnPropertySymbols},function(u,c,i){var l=i(7),f=i(67),y=i(43),b=i(61),x=l.Array,S=Math.max;u.exports=function(P,A,N){for(var R=y(P),I=f(A,R),B=f(N===void 0?R:N,R),k=x(S(B-I,0)),W=0;I<B;I++,W++)b(k,W,P[I]);return k.length=W,k}},function(u,c,i){var l=i(7),f=i(62),y=i(35),b=i(32),x=i(89),S=i(140),P=i(43),A=i(58),N=i(141),R=i(115),I=i(142),B=l.TypeError,k=function(Y,ie){this.stopped=Y,this.result=ie},W=k.prototype;u.exports=function(Y,ie,te){var q=te&&te.that,Q=!!(te&&te.AS_ENTRIES),le=!!(te&&te.IS_ITERATOR),L=!!(te&&te.INTERRUPTED),U=f(ie,q),T,M,D,X,K,se,be,me=function(Ee){return T&&I(T,"normal",Ee),new k(!0,Ee)},ge=function(Ee){return Q?(b(Ee),L?U(Ee[0],Ee[1],me):U(Ee[0],Ee[1])):L?U(Ee,me):U(Ee)};if(le)T=Y;else{if(M=R(Y),!M)throw B(x(Y)+" is not iterable");if(S(M)){for(D=0,X=P(Y);X>D;D++)if(K=ge(Y[D]),K&&A(W,K))return K;return new k(!1)}T=N(Y,M)}for(se=T.next;!(be=y(se,T)).done;){try{K=ge(be.value)}catch(Ee){I(T,"throw",Ee)}if(typeof K=="object"&&K&&A(W,K))return K}return new k(!1)}},function(u,c,i){var l=i(98),f=i(59),y=i(70),b=i(27),x=b("iterator");u.exports=function(S){if(S!=null)return f(S,x)||f(S,"@@iterator")||y[l(S)]}},function(u,c,i){var l=i(27),f=l("toStringTag"),y={};y[f]="z",u.exports=String(y)==="[object z]"},function(u,c,i){var l=i(7),f=i(58),y=l.TypeError;u.exports=function(b,x){if(f(x,b))return b;throw y("Incorrect invocation")}},function(u,c,i){var l=i(27),f=l("iterator"),y=!1;try{var b=0,x={next:function(){return{done:!!b++}},return:function(){y=!0}};x[f]=function(){return this},Array.from(x,function(){throw 2})}catch{}u.exports=function(S,P){if(!P&&!y)return!1;var A=!1;try{var N={};N[f]=function(){return{next:function(){return{done:A=!0}}}},S(N)}catch{}return A}},function(u,c,i){var l=i(180);u.exports=function(f,y){return new(l(f))(y===0?0:y)}},function(u,c,i){var l=i(18);u.exports=function(f,y){var b=[][f];return!!b&&l(function(){b.call(null,y||function(){throw 1},1)})}},function(u,c){u.exports=function(i){if(!i.webpackPolyfill){var l=Object.create(i);l.children||(l.children=[]),Object.defineProperty(l,"loaded",{enumerable:!0,get:function(){return l.l}}),Object.defineProperty(l,"id",{enumerable:!0,get:function(){return l.i}}),Object.defineProperty(l,"exports",{enumerable:!0}),l.webpackPolyfill=1}return l}},function(u,c,i){i(19);var l=i(15),f=i(44),y=i(102),b=i(18),x=i(27),S=i(57),P=x("species"),A=RegExp.prototype;u.exports=function(N,R,I,B){var k=x(N),W=!b(function(){var q={};return q[k]=function(){return 7},""[N](q)!=7}),Y=W&&!b(function(){var q=!1,Q=/a/;return N==="split"&&(Q={},Q.constructor={},Q.constructor[P]=function(){return Q},Q.flags="",Q[k]=/./[k]),Q.exec=function(){return q=!0,null},Q[k](""),!q});if(!W||!Y||I){var ie=l(/./[k]),te=R(k,""[N],function(q,Q,le,L,U){var T=l(q),M=Q.exec;return M===y||M===A.exec?W&&!U?{done:!0,value:ie(Q,le,L)}:{done:!0,value:T(le,Q,L)}:{done:!1}});f(String.prototype,N,te[0]),f(A,k,te[1])}B&&S(A[k],"sham",!0)}},function(u,c,i){var l=i(146).charAt;u.exports=function(f,y,b){return y+(b?l(f,y).length:1)}},function(u,c,i){var l=i(7),f=i(35),y=i(32),b=i(28),x=i(50),S=i(102),P=l.TypeError;u.exports=function(A,N){var R=A.exec;if(b(R)){var I=f(R,A,N);return I!==null&&y(I),I}if(x(A)==="RegExp")return f(S,A,N);throw P("RegExp#exec called on incompatible receiver")}},function(u,c,i){var l=i(76),f=i(35),y=i(15),b=i(122),x=i(18),S=i(32),P=i(28),A=i(68),N=i(90),R=i(40),I=i(45),B=i(123),k=i(59),W=i(197),Y=i(124),ie=i(27),te=ie("replace"),q=Math.max,Q=Math.min,le=y([].concat),L=y([].push),U=y("".indexOf),T=y("".slice),M=function(se){return se===void 0?se:String(se)},D=function(){return"a".replace(/./,"$0")==="$0"}(),X=function(){return/./[te]?/./[te]("a","$0")==="":!1}(),K=!x(function(){var se=/./;return se.exec=function(){var be=[];return be.groups={a:"7"},be},"".replace(se,"$<a>")!=="7"});b("replace",function(se,be,me){var ge=X?"$":"$0";return[function(Oe,Ae){var ze=I(this),Ye=Oe==null?void 0:k(Oe,te);return Ye?f(Ye,Oe,ze,Ae):f(be,R(ze),Oe,Ae)},function(Ee,Oe){var Ae=S(this),ze=R(Ee);if(typeof Oe=="string"&&U(Oe,ge)===-1&&U(Oe,"$<")===-1){var Ye=me(be,Ae,ze,Oe);if(Ye.done)return Ye.value}var Ie=P(Oe);Ie||(Oe=R(Oe));var Pe=Ae.global;if(Pe){var _e=Ae.unicode;Ae.lastIndex=0}for(var Be=[];;){var _=Y(Ae,ze);if(_===null||(L(Be,_),!Pe))break;var F=R(_[0]);F===""&&(Ae.lastIndex=B(ze,N(Ae.lastIndex),_e))}for(var V="",fe=0,ve=0;ve<Be.length;ve++){_=Be[ve];for(var de=R(_[0]),Le=q(Q(A(_.index),ze.length),0),Je=[],Xe=1;Xe<_.length;Xe++)L(Je,M(_[Xe]));var Ve=_.groups;if(Ie){var ye=le([de],Je,Le,ze);Ve!==void 0&&L(ye,Ve);var it=R(l(Oe,void 0,ye))}else it=W(de,ze,Le,Je,Ve,Oe);Le>=fe&&(V+=T(ze,fe,Le)+it,fe=Le+de.length)}return V+T(ze,fe)}]},!K||!D||X)},function(u,c,i){var l=i(50),f=i(7);u.exports=l(f.process)=="process"},function(u,c,i){var l=i(16);l({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,c,i){var l=i(109);u.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,c,i){var l=i(36),f=i(18),y=i(86);u.exports=!l&&!f(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},function(u,c,i){var l=i(7),f=i(35),y=i(33),b=i(88),x=i(59),S=i(169),P=i(27),A=l.TypeError,N=P("toPrimitive");u.exports=function(R,I){if(!y(R)||b(R))return R;var B=x(R,N),k;if(B){if(I===void 0&&(I="default"),k=f(B,R,I),!y(k)||b(k))return k;throw A("Can't convert object to primitive value")}return I===void 0&&(I="number"),S(R,I)}},function(u,c,i){var l=i(15),f=i(34),y=i(39),b=i(132).indexOf,x=i(69),S=l([].push);u.exports=function(P,A){var N=y(P),R=0,I=[],B;for(B in N)!f(x,B)&&f(N,B)&&S(I,B);for(;A.length>R;)f(N,B=A[R++])&&(~b(I,B)||S(I,B));return I}},function(u,c,i){var l=i(39),f=i(67),y=i(43),b=function(x){return function(S,P,A){var N=l(S),R=y(N),I=f(A,R),B;if(x&&P!=P){for(;R>I;)if(B=N[I++],B!=B)return!0}else for(;R>I;I++)if((x||I in N)&&N[I]===P)return x||I||0;return!x&&-1}};u.exports={includes:b(!0),indexOf:b(!1)}},function(u,c,i){var l=i(46);u.exports=l("document","documentElement")},function(u,c,i){var l=i(34),f=i(135),y=i(51),b=i(37);u.exports=function(x,S){for(var P=f(S),A=b.f,N=y.f,R=0;R<P.length;R++){var I=P[R];l(x,I)||A(x,I,N(S,I))}}},function(u,c,i){var l=i(46),f=i(15),y=i(72),b=i(112),x=i(32),S=f([].concat);u.exports=l("Reflect","ownKeys")||function(A){var N=y.f(x(A)),R=b.f;return R?S(N,R(A)):N}},function(u,c,i){var l=i(18),f=i(28),y=i(54),b=i(96),x=i(44),S=i(27),P=i(64),A=S("iterator"),N=!1,R,I,B;[].keys&&(B=[].keys(),"next"in B?(I=b(b(B)),I!==Object.prototype&&(R=I)):N=!0);var k=R==null||l(function(){var W={};return R[A].call(W)!==W});k?R={}:P&&(R=y(R)),f(R[A])||x(R,A,function(){return this}),u.exports={IteratorPrototype:R,BUGGY_SAFARI_ITERATORS:N}},function(u,c,i){var l=i(18);u.exports=!l(function(){function f(){}return f.prototype.constructor=null,Object.getPrototypeOf(new f)!==f.prototype})},function(u,c,i){var l=i(16),f=i(15),y=i(69),b=i(33),x=i(34),S=i(37).f,P=i(72),A=i(139),N=i(174),R=i(85),I=i(176),B=!1,k=R("meta"),W=0,Y=function(L){S(L,k,{value:{objectID:"O"+W++,weakData:{}}})},ie=function(L,U){if(!b(L))return typeof L=="symbol"?L:(typeof L=="string"?"S":"P")+L;if(!x(L,k)){if(!N(L))return"F";if(!U)return"E";Y(L)}return L[k].objectID},te=function(L,U){if(!x(L,k)){if(!N(L))return!0;if(!U)return!1;Y(L)}return L[k].weakData},q=function(L){return I&&B&&N(L)&&!x(L,k)&&Y(L),L},Q=function(){le.enable=function(){},B=!0;var L=P.f,U=f([].splice),T={};T[k]=1,L(T).length&&(P.f=function(M){for(var D=L(M),X=0,K=D.length;X<K;X++)if(D[X]===k){U(D,X,1);break}return D},l({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:A.f}))},le=u.exports={enable:Q,fastKey:ie,getWeakData:te,onFreeze:q};y[k]=!0},function(u,c,i){var l=i(50),f=i(39),y=i(72).f,b=i(113),x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],S=function(P){try{return y(P)}catch{return b(x)}};u.exports.f=function(A){return x&&l(A)=="Window"?S(A):y(f(A))}},function(u,c,i){var l=i(27),f=i(70),y=l("iterator"),b=Array.prototype;u.exports=function(x){return x!==void 0&&(f.Array===x||b[y]===x)}},function(u,c,i){var l=i(7),f=i(35),y=i(55),b=i(32),x=i(89),S=i(115),P=l.TypeError;u.exports=function(A,N){var R=arguments.length<2?S(A):N;if(y(R))return b(f(R,A));throw P(x(A)+" is not iterable")}},function(u,c,i){var l=i(35),f=i(32),y=i(59);u.exports=function(b,x,S){var P,A;f(b);try{if(P=y(b,"return"),!P){if(x==="throw")throw S;return S}P=l(P,b)}catch(N){A=!0,P=N}if(x==="throw")throw S;if(A)throw P;return f(P),S}},function(u,c,i){var l=i(28),f=i(33),y=i(97);u.exports=function(b,x,S){var P,A;return y&&l(P=x.constructor)&&P!==S&&f(A=P.prototype)&&A!==S.prototype&&y(b,A),b}},function(u,c,i){var l=i(44);u.exports=function(f,y,b){for(var x in y)l(f,x,y[x],b);return f}},function(u,c,i){var l=i(46),f=i(37),y=i(27),b=i(36),x=y("species");u.exports=function(S){var P=l(S),A=f.f;b&&P&&!P[x]&&A(P,x,{configurable:!0,get:function(){return this}})}},function(u,c,i){var l=i(15),f=i(68),y=i(40),b=i(45),x=l("".charAt),S=l("".charCodeAt),P=l("".slice),A=function(N){return function(R,I){var B=y(b(R)),k=f(I),W=B.length,Y,ie;return k<0||k>=W?N?"":void 0:(Y=S(B,k),Y<55296||Y>56319||k+1===W||(ie=S(B,k+1))<56320||ie>57343?N?x(B,k):Y:N?P(B,k,k+2):(Y-55296<<10)+(ie-56320)+65536)}};u.exports={codeAt:A(!1),charAt:A(!0)}},function(u,c){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,c,i){var l=i(86),f=l("span").classList,y=f&&f.constructor&&f.constructor.prototype;u.exports=y===Object.prototype?void 0:y},function(u,c,i){var l=i(27);c.f=l},function(u,c,i){var l=i(181),f=i(34),y=i(149),b=i(37).f;u.exports=function(x){var S=l.Symbol||(l.Symbol={});f(S,x)||b(S,x,{value:y.f(x)})}},function(u,c,i){var l=i(18),f=i(7),y=f.RegExp,b=l(function(){var P=y("a","y");return P.lastIndex=2,P.exec("abcd")!=null}),x=b||l(function(){return!y("a","y").sticky}),S=b||l(function(){var P=y("^r","gy");return P.lastIndex=2,P.exec("str")!=null});u.exports={BROKEN_CARET:S,MISSED_STICKY:x,UNSUPPORTED_Y:b}},function(u,c,i){var l=i(16),f=i(132).includes,y=i(83);l({target:"Array",proto:!0},{includes:function(x){return f(this,x,arguments.length>1?arguments[1]:void 0)}}),y("includes")},function(u,c,i){var l=i(16),f=i(15),y=i(193),b=i(45),x=i(40),S=i(194),P=f("".indexOf);l({target:"String",proto:!0,forced:!S("includes")},{includes:function(N){return!!~P(x(b(this)),x(y(N)),arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var l=i(33),f=i(50),y=i(27),b=y("match");u.exports=function(x){var S;return l(x)&&((S=x[b])!==void 0?!!S:f(x)=="RegExp")}},function(u,c){var i=u.exports={},l,f;function y(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=y}catch{l=y}try{typeof clearTimeout=="function"?f=clearTimeout:f=b}catch{f=b}})();function x(Y){if(l===setTimeout)return setTimeout(Y,0);if((l===y||!l)&&setTimeout)return l=setTimeout,setTimeout(Y,0);try{return l(Y,0)}catch{try{return l.call(null,Y,0)}catch{return l.call(this,Y,0)}}}function S(Y){if(f===clearTimeout)return clearTimeout(Y);if((f===b||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(Y);try{return f(Y)}catch{try{return f.call(null,Y)}catch{return f.call(this,Y)}}}var P=[],A=!1,N,R=-1;function I(){!A||!N||(A=!1,N.length?P=N.concat(P):R=-1,P.length&&B())}function B(){if(!A){var Y=x(I);A=!0;for(var ie=P.length;ie;){for(N=P,P=[];++R<ie;)N&&N[R].run();R=-1,ie=P.length}N=null,A=!1,S(Y)}}i.nextTick=function(Y){var ie=new Array(arguments.length-1);if(arguments.length>1)for(var te=1;te<arguments.length;te++)ie[te-1]=arguments[te];P.push(new k(Y,ie)),P.length===1&&!A&&x(B)};function k(Y,ie){this.fun=Y,this.array=ie}k.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function W(){}i.on=W,i.addListener=W,i.once=W,i.off=W,i.removeListener=W,i.removeAllListeners=W,i.emit=W,i.prependListener=W,i.prependOnceListener=W,i.listeners=function(Y){return[]},i.binding=function(Y){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(Y){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(u,c,i){var l=i(32),f=i(157),y=i(27),b=y("species");u.exports=function(x,S){var P=l(x).constructor,A;return P===void 0||(A=l(P)[b])==null?S:f(A)}},function(u,c,i){var l=i(7),f=i(100),y=i(89),b=l.TypeError;u.exports=function(x){if(f(x))return x;throw b(y(x)+" is not a constructor")}},function(u,c,i){var l=i(16),f=i(159).trim,y=i(195);l({target:"String",proto:!0,forced:y("trim")},{trim:function(){return f(this)}})},function(u,c,i){var l=i(15),f=i(45),y=i(40),b=i(160),x=l("".replace),S="["+b+"]",P=RegExp("^"+S+S+"*"),A=RegExp(S+S+"*$"),N=function(R){return function(I){var B=y(f(I));return R&1&&(B=x(B,P,"")),R&2&&(B=x(B,A,"")),B}};u.exports={start:N(1),end:N(2),trim:N(3)}},function(u,c){u.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(u,c,i){var l=i(35),f=i(122),y=i(32),b=i(90),x=i(40),S=i(45),P=i(59),A=i(123),N=i(124);f("match",function(R,I,B){return[function(W){var Y=S(this),ie=W==null?void 0:P(W,R);return ie?l(ie,W,Y):new RegExp(W)[R](x(Y))},function(k){var W=y(this),Y=x(k),ie=B(I,W,Y);if(ie.done)return ie.value;if(!W.global)return N(W,Y);var te=W.unicode;W.lastIndex=0;for(var q=[],Q=0,le;(le=N(W,Y))!==null;){var L=x(le[0]);q[Q]=L,L===""&&(W.lastIndex=A(Y,b(W.lastIndex),te)),Q++}return Q===0?null:q}]})},function(u,c,i){var l=i(7),f=i(76),y=i(62),b=i(28),x=i(34),S=i(18),P=i(133),A=i(101),N=i(86),R=i(163),I=i(126),B=l.setImmediate,k=l.clearImmediate,W=l.process,Y=l.Dispatch,ie=l.Function,te=l.MessageChannel,q=l.String,Q=0,le={},L="onreadystatechange",U,T,M,D;try{U=l.location}catch{}var X=function(me){if(x(le,me)){var ge=le[me];delete le[me],ge()}},K=function(me){return function(){X(me)}},se=function(me){X(me.data)},be=function(me){l.postMessage(q(me),U.protocol+"//"+U.host)};(!B||!k)&&(B=function(ge){var Ee=A(arguments,1);return le[++Q]=function(){f(b(ge)?ge:ie(ge),void 0,Ee)},T(Q),Q},k=function(ge){delete le[ge]},I?T=function(me){W.nextTick(K(me))}:Y&&Y.now?T=function(me){Y.now(K(me))}:te&&!R?(M=new te,D=M.port2,M.port1.onmessage=se,T=y(D.postMessage,D)):l.addEventListener&&b(l.postMessage)&&!l.importScripts&&U&&U.protocol!=="file:"&&!S(be)?(T=be,l.addEventListener("message",se,!1)):L in N("script")?T=function(me){P.appendChild(N("script"))[L]=function(){P.removeChild(this),X(me)}}:T=function(me){setTimeout(K(me),0)}),u.exports={set:B,clear:k}},function(u,c,i){var l=i(53);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(l)},function(u,c,i){var l=i(55),f=function(y){var b,x;this.promise=new y(function(S,P){if(b!==void 0||x!==void 0)throw TypeError("Bad Promise constructor");b=S,x=P}),this.resolve=l(b),this.reject=l(x)};u.exports.f=function(y){return new f(y)}},function(u,c,i){function l(){return!1}c.a=l},function(u,c,i){(function(l){i.d(c,"a",function(){return Q});var f=i(0);function y(L){throw new Error("[mobx-utils] "+L)}function b(L,U){U===void 0&&(U="Illegal state"),L||y(U)}var x=function(L){return L&&L!==Object.prototype&&Object.getOwnPropertyNames(L).concat(x(Object.getPrototypeOf(L))||[])},S=function(L){var U=x(L),T=U.filter(function(M,D){return U.indexOf(M)===D});return T},P=function(L){return S(L).filter(function(U){return U!=="constructor"&&!~U.indexOf("__")})},A="pending",N="fulfilled",R="rejected";function I(L){switch(this.state){case A:return L.pending&&L.pending(this.value);case R:return L.rejected&&L.rejected(this.value);case N:return L.fulfilled?L.fulfilled(this.value):this.value}}function B(L,U){if(b(arguments.length<=2,"fromPromise expects up to two arguments"),b(typeof L=="function"||typeof L=="object"&&L&&typeof L.then=="function","Please pass a promise or function to fromPromise"),L.isPromiseBasedObservable===!0)return L;typeof L=="function"&&(L=new Promise(L));var T=L;L.then(Object(f.k)("observableFromPromise-resolve",function(D){T.value=D,T.state=N}),Object(f.k)("observableFromPromise-reject",function(D){T.value=D,T.state=R})),T.isPromiseBasedObservable=!0,T.case=I;var M=U&&U.state===N?U.value:void 0;return Object(f.q)(T,{value:M,state:A},{},{deep:!1}),T}(function(L){L.reject=Object(f.k)("fromPromise.reject",function(T){var M=L(Promise.reject(T));return M.state=R,M.value=T,M});function U(T){T===void 0&&(T=void 0);var M=L(Promise.resolve(T));return M.state=N,M.value=T,M}L.resolve=Object(f.k)("fromPromise.resolve",U)})(B||(B={}));var k=function(L,U,T,M){var D=arguments.length,X=D<3?U:M===null?M=Object.getOwnPropertyDescriptor(U,T):M,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(L,U,T,M);else for(var se=L.length-1;se>=0;se--)(K=L[se])&&(X=(D<3?K(X):D>3?K(U,T,X):K(U,T))||X);return D>3&&X&&Object.defineProperty(U,T,X),X};(function(){function L(U,T){var M=this;Object(f.G)(function(){M.current=T,M.subscription=U.subscribe(M)})}return L.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},L.prototype.next=function(U){this.current=U},L.prototype.complete=function(){this.dispose()},L.prototype.error=function(U){this.current=U,this.dispose()},k([f.C.ref],L.prototype,"current",void 0),k([f.k.bound],L.prototype,"next",null),k([f.k.bound],L.prototype,"complete",null),k([f.k.bound],L.prototype,"error",null),L})();var W=function(){return W=Object.assign||function(L){for(var U,T=1,M=arguments.length;T<M;T++){U=arguments[T];for(var D in U)Object.prototype.hasOwnProperty.call(U,D)&&(L[D]=U[D])}return L},W.apply(this,arguments)},Y=function(L,U,T,M){var D=arguments.length,X=D<3?U:M===null?M=Object.getOwnPropertyDescriptor(U,T):M,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(L,U,T,M);else for(var se=L.length-1;se>=0;se--)(K=L[se])&&(X=(D<3?K(X):D>3?K(U,T,X):K(U,T))||X);return D>3&&X&&Object.defineProperty(U,T,X),X},ie=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function L(U){var T=this;this.model=U,this.localValues=f.C.map({}),this.localComputedValues=f.C.map({}),this.isPropertyDirty=function(M){return T.localValues.has(M)},b(Object(f.A)(U),"createViewModel expects an observable object"),P(U).forEach(function(M){if(!(M===f.a||M==="__mobxDidRunLazyInitializers")){if(b(ie.indexOf(M)===-1,"The propertyname "+M+" is reserved and cannot be used with viewModels"),Object(f.w)(U,M)){var D=Object(f.h)(U,M).derivation;T.localComputedValues.set(M,Object(f.m)(D.bind(T)))}var X=Object.getOwnPropertyDescriptor(U,M),K=X?{enumerable:X.enumerable}:{};Object.defineProperty(T,M,W(W({},K),{configurable:!0,get:function(){return Object(f.w)(U,M)?T.localComputedValues.get(M).get():T.isPropertyDirty(M)?T.localValues.get(M):T.model[M]},set:Object(f.k)(function(se){se!==T.model[M]?T.localValues.set(M,se):T.localValues.delete(M)})}))}})}return Object.defineProperty(L.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),L.prototype.submit=function(){var U=this;Object(f.B)(this.localValues).forEach(function(T){var M=U.localValues.get(T),D=U.model[T];Object(f.y)(D)?D.replace(M):Object(f.z)(D)?(D.clear(),D.merge(M)):Object(f.v)(M)||(U.model[T]=M)}),this.localValues.clear()},L.prototype.reset=function(){this.localValues.clear()},L.prototype.resetProperty=function(U){this.localValues.delete(U)},Y([f.m],L.prototype,"isDirty",null),Y([f.m],L.prototype,"changedValues",null),Y([f.k.bound],L.prototype,"submit",null),Y([f.k.bound],L.prototype,"reset",null),Y([f.k.bound],L.prototype,"resetProperty",null),L})();function te(L){if(!L)return"ROOT";for(var U=[];L.parent;)U.push(L.path),L=L.parent;return U.reverse().join("/")}function q(L){return Object(f.A)(L)||Object(f.y)(L)||Object(f.z)(L)}function Q(L,U){var T=new WeakMap;function M(se){var be=T.get(se.object);D(se,be),U(se,te(be),L)}function D(se,be){switch(se.type){case"add":X(se.newValue,be,se.name);break;case"update":K(se.oldValue),X(se.newValue,be,se.name||""+se.index);break;case"remove":case"delete":K(se.oldValue);break;case"splice":se.removed.map(K),se.added.forEach(function(Ee,Oe){return X(Ee,be,""+(se.index+Oe))});for(var me=se.index+se.addedCount;me<se.object.length;me++)if(q(se.object[me])){var ge=T.get(se.object[me]);ge&&(ge.path=""+me)}break}}function X(se,be,me){if(q(se)){var ge=T.get(se);if(ge){if(ge.parent!==be||ge.path!==me)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+te(be)+"/"+me+"',")+(" but it already exists at '"+te(ge.parent)+"/"+ge.path+"'"))}else{var Ee={parent:be,path:me,dispose:Object(f.D)(se,M)};T.set(se,Ee),Object(f.p)(se).forEach(function(Oe){var Ae=Oe[0],ze=Oe[1];return X(ze,Ee,Ae)})}}}function K(se){if(q(se)){var be=T.get(se);if(!be)return;T.delete(se),be.dispose(),Object(f.L)(se).forEach(K)}}return X(L,void 0,""),function(){K(L)}}var le=function(){var L=function(U,T){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,D){M.__proto__=D}||function(M,D){for(var X in D)D.hasOwnProperty(X)&&(M[X]=D[X])},L(U,T)};return function(U,T){L(U,T);function M(){this.constructor=U}U.prototype=T===null?Object.create(T):(M.prototype=T.prototype,new M)}}();(function(L){le(U,L);function U(T,M,D){var X=D===void 0?{}:D,K=X.name,se=K===void 0?"ogm"+(Math.random()*1e3|0):K,be=X.keyToName,me=be===void 0?function(Oe){return""+Oe}:be,ge=L.call(this)||this;ge._keyToName=me,ge._groupBy=M,ge._ogmInfoKey=Symbol("ogmInfo"+se),ge._base=T;for(var Ee=0;Ee<T.length;Ee++)ge._addItem(T[Ee]);return ge._disposeBaseObserver=Object(f.D)(ge._base,function(Oe){if(Oe.type==="splice")Object(f.J)(function(){for(var Ae=0,ze=Oe.removed;Ae<ze.length;Ae++){var Ye=ze[Ae];ge._removeItem(Ye)}for(var Ie=0,Pe=Oe.added;Ie<Pe.length;Ie++){var _e=Pe[Ie];ge._addItem(_e)}});else if(Oe.type==="update")Object(f.J)(function(){ge._removeItem(Oe.oldValue),ge._addItem(Oe.newValue)});else throw new Error("illegal state")}),ge}return U.prototype.clear=function(){throw new Error("not supported")},U.prototype.delete=function(T){throw new Error("not supported")},U.prototype.set=function(T,M){throw new Error("not supported")},U.prototype.dispose=function(){this._disposeBaseObserver();for(var T=0;T<this._base.length;T++){var M=this._base[T],D=M[this._ogmInfoKey];D.reaction(),delete M[this._ogmInfoKey]}},U.prototype._getGroupArr=function(T){var M=L.prototype.get.call(this,T);return M===void 0&&(M=Object(f.C)([],{name:"GroupArray["+this._keyToName(T)+"]",deep:!1}),L.prototype.set.call(this,T,M)),M},U.prototype._removeFromGroupArr=function(T,M){var D=L.prototype.get.call(this,T);D.length===1?L.prototype.delete.call(this,T):(M===D.length-1||(D[M]=D[D.length-1],D[M][this._ogmInfoKey].groupArrIndex=M),D.length--)},U.prototype._addItem=function(T){var M=this,D=this._groupBy(T),X=this._getGroupArr(D),K={groupByValue:D,groupArrIndex:X.length,reaction:Object(f.F)(function(){return M._groupBy(T)},function(se,be){var me=T[M._ogmInfoKey];M._removeFromGroupArr(me.groupByValue,me.groupArrIndex);var ge=M._getGroupArr(se),Ee=ge.length;ge.push(T),me.groupByValue=se,me.groupArrIndex=Ee})};Object.defineProperty(T,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:K}),X.push(T)},U.prototype._removeItem=function(T){var M=T[this._ogmInfoKey];this._removeFromGroupArr(M.groupByValue,M.groupArrIndex),M.reaction(),delete T[this._ogmInfoKey]},U})(f.b),Promise.resolve(),typeof queueMicrotask<"u"||typeof l<"u"&&l.nextTick}).call(this,i(155))},function(u,c,i){var l;(function(f,y,b){if(!f)return;for(var x={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},A={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},N,R=1;R<20;++R)x[111+R]="f"+R;for(R=0;R<=9;++R)x[R+96]=R.toString();function I(M,D,X){if(M.addEventListener){M.addEventListener(D,X,!1);return}M.attachEvent("on"+D,X)}function B(M){if(M.type=="keypress"){var D=String.fromCharCode(M.which);return M.shiftKey||(D=D.toLowerCase()),D}return x[M.which]?x[M.which]:S[M.which]?S[M.which]:String.fromCharCode(M.which).toLowerCase()}function k(M,D){return M.sort().join(",")===D.sort().join(",")}function W(M){var D=[];return M.shiftKey&&D.push("shift"),M.altKey&&D.push("alt"),M.ctrlKey&&D.push("ctrl"),M.metaKey&&D.push("meta"),D}function Y(M){if(M.preventDefault){M.preventDefault();return}M.returnValue=!1}function ie(M){if(M.stopPropagation){M.stopPropagation();return}M.cancelBubble=!0}function te(M){return M=="shift"||M=="ctrl"||M=="alt"||M=="meta"}function q(){if(!N){N={};for(var M in x)M>95&&M<112||x.hasOwnProperty(M)&&(N[x[M]]=M)}return N}function Q(M,D,X){return X||(X=q()[M]?"keydown":"keypress"),X=="keypress"&&D.length&&(X="keydown"),X}function le(M){return M==="+"?["+"]:(M=M.replace(/\+{2}/g,"+plus"),M.split("+"))}function L(M,D){var X,K,se,be=[];for(X=le(M),se=0;se<X.length;++se)K=X[se],A[K]&&(K=A[K]),D&&D!="keypress"&&P[K]&&(K=P[K],be.push("shift")),te(K)&&be.push(K);return D=Q(K,be,D),{key:K,modifiers:be,action:D}}function U(M,D){return M===null||M===y?!1:M===D?!0:U(M.parentNode,D)}function T(M){var D=this;if(M=M||y,!(D instanceof T))return new T(M);D.target=M,D._callbacks={},D._directMap={};var X={},K,se=!1,be=!1,me=!1;function ge(Pe){Pe=Pe||{};var _e=!1,Be;for(Be in X){if(Pe[Be]){_e=!0;continue}X[Be]=0}_e||(me=!1)}function Ee(Pe,_e,Be,_,F,V){var fe,ve,de=[],Le=Be.type;if(!D._callbacks[Pe])return[];for(Le=="keyup"&&te(Pe)&&(_e=[Pe]),fe=0;fe<D._callbacks[Pe].length;++fe)if(ve=D._callbacks[Pe][fe],!(!_&&ve.seq&&X[ve.seq]!=ve.level)&&Le==ve.action&&(Le=="keypress"&&!Be.metaKey&&!Be.ctrlKey||k(_e,ve.modifiers))){var Je=!_&&ve.combo==F,Xe=_&&ve.seq==_&&ve.level==V;(Je||Xe)&&D._callbacks[Pe].splice(fe,1),de.push(ve)}return de}function Oe(Pe,_e,Be,_){D.stopCallback(_e,_e.target||_e.srcElement,Be,_)||Pe(_e,Be)===!1&&(Y(_e),ie(_e))}D._handleKey=function(Pe,_e,Be){var _=Ee(Pe,_e,Be),F,V={},fe=0,ve=!1;for(F=0;F<_.length;++F)_[F].seq&&(fe=Math.max(fe,_[F].level));for(F=0;F<_.length;++F){if(_[F].seq){if(_[F].level!=fe)continue;ve=!0,V[_[F].seq]=1,Oe(_[F].callback,Be,_[F].combo,_[F].seq);continue}ve||Oe(_[F].callback,Be,_[F].combo)}var de=Be.type=="keypress"&&be;Be.type==me&&!te(Pe)&&!de&&ge(V),be=ve&&Be.type=="keydown"};function Ae(Pe){typeof Pe.which!="number"&&(Pe.which=Pe.keyCode);var _e=B(Pe);if(!!_e){if(Pe.type=="keyup"&&se===_e){se=!1;return}D.handleKey(_e,W(Pe),Pe)}}function ze(){clearTimeout(K),K=setTimeout(ge,1e3)}function Ye(Pe,_e,Be,_){X[Pe]=0;function F(Le){return function(){me=Le,++X[Pe],ze()}}function V(Le){Oe(Be,Le,Pe),_!=="keyup"&&(se=B(Le)),setTimeout(ge,10)}for(var fe=0;fe<_e.length;++fe){var ve=fe+1===_e.length,de=ve?V:F(_||L(_e[fe+1]).action);Ie(_e[fe],de,_,Pe,fe)}}function Ie(Pe,_e,Be,_,F){D._directMap[Pe+":"+Be]=_e,Pe=Pe.replace(/\s+/g," ");var V=Pe.split(" "),fe;if(V.length>1){Ye(Pe,V,_e,Be);return}fe=L(Pe,Be),D._callbacks[fe.key]=D._callbacks[fe.key]||[],Ee(fe.key,fe.modifiers,{type:fe.action},_,Pe,F),D._callbacks[fe.key][_?"unshift":"push"]({callback:_e,modifiers:fe.modifiers,action:fe.action,seq:_,level:F,combo:Pe})}D._bindMultiple=function(Pe,_e,Be){for(var _=0;_<Pe.length;++_)Ie(Pe[_],_e,Be)},I(M,"keypress",Ae),I(M,"keydown",Ae),I(M,"keyup",Ae)}T.prototype.bind=function(M,D,X){var K=this;return M=M instanceof Array?M:[M],K._bindMultiple.call(K,M,D,X),K},T.prototype.unbind=function(M,D){var X=this;return X.bind.call(X,M,function(){},D)},T.prototype.trigger=function(M,D){var X=this;return X._directMap[M+":"+D]&&X._directMap[M+":"+D]({},M),X},T.prototype.reset=function(){var M=this;return M._callbacks={},M._directMap={},M},T.prototype.stopCallback=function(M,D){var X=this;if((" "+D.className+" ").indexOf(" mousetrap ")>-1||U(D,X.target))return!1;if("composedPath"in M&&typeof M.composedPath=="function"){var K=M.composedPath()[0];K!==M.target&&(D=K)}return D.tagName=="INPUT"||D.tagName=="SELECT"||D.tagName=="TEXTAREA"||D.isContentEditable},T.prototype.handleKey=function(){var M=this;return M._handleKey.apply(M,arguments)},T.addKeycodes=function(M){for(var D in M)M.hasOwnProperty(D)&&(x[D]=M[D]);N=null},T.init=function(){var M=T(y);for(var D in M)D.charAt(0)!=="_"&&(T[D]=function(X){return function(){return M[X].apply(M,arguments)}}(D))},T.init(),f.Mousetrap=T,u.exports&&(u.exports=T),l=function(){return T}.call(c,i,c,u),l!==b&&(u.exports=l)})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(u,c,i){var l=i(36),f=i(37),y=i(32),b=i(39),x=i(66);u.exports=l?Object.defineProperties:function(P,A){y(P);for(var N=b(A),R=x(A),I=R.length,B=0,k;I>B;)f.f(P,k=R[B++],N[k]);return P}},function(u,c,i){var l=i(7),f=i(35),y=i(28),b=i(33),x=l.TypeError;u.exports=function(S,P){var A,N;if(P==="string"&&y(A=S.toString)&&!b(N=f(A,S))||y(A=S.valueOf)&&!b(N=f(A,S))||P!=="string"&&y(A=S.toString)&&!b(N=f(A,S)))return N;throw x("Can't convert object to primitive value")}},function(u,c,i){var l=i(7),f=i(28),y=i(92),b=l.WeakMap;u.exports=f(b)&&/native code/.test(y(b))},function(u,c,i){var l=i(136).IteratorPrototype,f=i(54),y=i(71),b=i(73),x=i(70),S=function(){return this};u.exports=function(P,A,N,R){var I=A+" Iterator";return P.prototype=f(l,{next:y(+!R,N)}),b(P,I,!1,!0),x[I]=S,P}},function(u,c,i){var l=i(7),f=i(28),y=l.String,b=l.TypeError;u.exports=function(x){if(typeof x=="object"||f(x))return x;throw b("Can't set "+y(x)+" as a prototype")}},function(u,c,i){var l=i(16),f=i(7),y=i(15),b=i(95),x=i(44),S=i(138),P=i(114),A=i(117),N=i(28),R=i(33),I=i(18),B=i(118),k=i(73),W=i(143);u.exports=function(Y,ie,te){var q=Y.indexOf("Map")!==-1,Q=Y.indexOf("Weak")!==-1,le=q?"set":"add",L=f[Y],U=L&&L.prototype,T=L,M={},D=function(Ee){var Oe=y(U[Ee]);x(U,Ee,Ee=="add"?function(ze){return Oe(this,ze===0?0:ze),this}:Ee=="delete"?function(Ae){return Q&&!R(Ae)?!1:Oe(this,Ae===0?0:Ae)}:Ee=="get"?function(ze){return Q&&!R(ze)?void 0:Oe(this,ze===0?0:ze)}:Ee=="has"?function(ze){return Q&&!R(ze)?!1:Oe(this,ze===0?0:ze)}:function(ze,Ye){return Oe(this,ze===0?0:ze,Ye),this})},X=b(Y,!N(L)||!(Q||U.forEach&&!I(function(){new L().entries().next()})));if(X)T=te.getConstructor(ie,Y,q,le),S.enable();else if(b(Y,!0)){var K=new T,se=K[le](Q?{}:-0,1)!=K,be=I(function(){K.has(1)}),me=B(function(Ee){new L(Ee)}),ge=!Q&&I(function(){for(var Ee=new L,Oe=5;Oe--;)Ee[le](Oe,Oe);return!Ee.has(-0)});me||(T=ie(function(Ee,Oe){A(Ee,U);var Ae=W(new L,Ee,T);return Oe!=null&&P(Oe,Ae[le],{that:Ae,AS_ENTRIES:q}),Ae}),T.prototype=U,U.constructor=T),(be||ge)&&(D("delete"),D("has"),q&&D("get")),(ge||se)&&D(le),Q&&U.clear&&delete U.clear}return M[Y]=T,l({global:!0,forced:T!=L},M),k(T,Y),Q||te.setStrong(T,Y,q),T}},function(u,c,i){var l=i(18),f=i(33),y=i(50),b=i(175),x=Object.isExtensible,S=l(function(){});u.exports=S||b?function(A){return!f(A)||b&&y(A)=="ArrayBuffer"?!1:x?x(A):!0}:x},function(u,c,i){var l=i(18);u.exports=l(function(){if(typeof ArrayBuffer=="function"){var f=new ArrayBuffer(8);Object.isExtensible(f)&&Object.defineProperty(f,"a",{value:8})}})},function(u,c,i){var l=i(18);u.exports=!l(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,c,i){var l=i(37).f,f=i(54),y=i(144),b=i(62),x=i(117),S=i(114),P=i(111),A=i(145),N=i(36),R=i(138).fastKey,I=i(56),B=I.set,k=I.getterFor;u.exports={getConstructor:function(W,Y,ie,te){var q=W(function(T,M){x(T,Q),B(T,{type:Y,index:f(null),first:void 0,last:void 0,size:0}),N||(T.size=0),M!=null&&S(M,T[te],{that:T,AS_ENTRIES:ie})}),Q=q.prototype,le=k(Y),L=function(T,M,D){var X=le(T),K=U(T,M),se,be;return K?K.value=D:(X.last=K={index:be=R(M,!0),key:M,value:D,previous:se=X.last,next:void 0,removed:!1},X.first||(X.first=K),se&&(se.next=K),N?X.size++:T.size++,be!=="F"&&(X.index[be]=K)),T},U=function(T,M){var D=le(T),X=R(M),K;if(X!=="F")return D.index[X];for(K=D.first;K;K=K.next)if(K.key==M)return K};return y(Q,{clear:function(){for(var M=this,D=le(M),X=D.index,K=D.first;K;)K.removed=!0,K.previous&&(K.previous=K.previous.next=void 0),delete X[K.index],K=K.next;D.first=D.last=void 0,N?D.size=0:M.size=0},delete:function(T){var M=this,D=le(M),X=U(M,T);if(X){var K=X.next,se=X.previous;delete D.index[X.index],X.removed=!0,se&&(se.next=K),K&&(K.previous=se),D.first==X&&(D.first=K),D.last==X&&(D.last=se),N?D.size--:M.size--}return!!X},forEach:function(M){for(var D=le(this),X=b(M,arguments.length>1?arguments[1]:void 0),K;K=K?K.next:D.first;)for(X(K.value,K.key,this);K&&K.removed;)K=K.previous},has:function(M){return!!U(this,M)}}),y(Q,ie?{get:function(M){var D=U(this,M);return D&&D.value},set:function(M,D){return L(this,M===0?0:M,D)}}:{add:function(M){return L(this,M=M===0?0:M,M)}}),N&&l(Q,"size",{get:function(){return le(this).size}}),q},setStrong:function(W,Y,ie){var te=Y+" Iterator",q=k(Y),Q=k(te);P(W,Y,function(le,L){B(this,{type:te,target:le,state:q(le),kind:L,last:void 0})},function(){for(var le=Q(this),L=le.kind,U=le.last;U&&U.removed;)U=U.previous;return!le.target||!(le.last=U=U?U.next:le.state.first)?(le.target=void 0,{value:void 0,done:!0}):L=="keys"?{value:U.key,done:!1}:L=="values"?{value:U.value,done:!1}:{value:[U.key,U.value],done:!1}},ie?"entries":"values",!ie,!0),A(Y)}}},function(u,c,i){var l=i(116),f=i(98);u.exports=l?{}.toString:function(){return"[object "+f(this)+"]"}},function(u,c,i){var l=i(74).forEach,f=i(120),y=f("forEach");u.exports=y?[].forEach:function(x){return l(this,x,arguments.length>1?arguments[1]:void 0)}},function(u,c,i){var l=i(7),f=i(99),y=i(100),b=i(33),x=i(27),S=x("species"),P=l.Array;u.exports=function(A){var N;return f(A)&&(N=A.constructor,y(N)&&(N===P||f(N.prototype))?N=void 0:b(N)&&(N=N[S],N===null&&(N=void 0))),N===void 0?P:N}},function(u,c,i){var l=i(7);u.exports=l},function(u,c,i){var l=i(7),f=i(62),y=i(35),b=i(38),x=i(183),S=i(140),P=i(100),A=i(43),N=i(61),R=i(141),I=i(115),B=l.Array;u.exports=function(W){var Y=b(W),ie=P(this),te=arguments.length,q=te>1?arguments[1]:void 0,Q=q!==void 0;Q&&(q=f(q,te>2?arguments[2]:void 0));var le=I(Y),L=0,U,T,M,D,X,K;if(le&&!(this==B&&S(le)))for(D=R(Y,le),X=D.next,T=ie?new this:[];!(M=y(X,D)).done;L++)K=Q?x(D,q,[M.value,L],!0):M.value,N(T,L,K);else for(U=A(Y),T=ie?new this(U):B(U);U>L;L++)K=Q?q(Y[L],L):Y[L],N(T,L,K);return T.length=L,T}},function(u,c,i){var l=i(32),f=i(142);u.exports=function(y,b,x,S){try{return S?b(l(x)[0],x[1]):b(x)}catch(P){f(y,"throw",P)}}},function(u,c,i){var l=i(32);u.exports=function(){var f=l(this),y="";return f.global&&(y+="g"),f.ignoreCase&&(y+="i"),f.multiline&&(y+="m"),f.dotAll&&(y+="s"),f.unicode&&(y+="u"),f.sticky&&(y+="y"),y}},function(u,c,i){var l=i(18),f=i(7),y=f.RegExp;u.exports=l(function(){var b=y(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(u,c,i){var l=i(18),f=i(7),y=f.RegExp;u.exports=l(function(){var b=y("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(u,c,i){var l=i(16),f=i(15),y=i(55),b=i(38),x=i(43),S=i(40),P=i(18),A=i(188),N=i(120),R=i(189),I=i(190),B=i(65),k=i(191),W=[],Y=f(W.sort),ie=f(W.push),te=P(function(){W.sort(void 0)}),q=P(function(){W.sort(null)}),Q=N("sort"),le=!P(function(){if(B)return B<70;if(!(R&&R>3)){if(I)return!0;if(k)return k<603;var T="",M,D,X,K;for(M=65;M<76;M++){switch(D=String.fromCharCode(M),M){case 66:case 69:case 70:case 72:X=3;break;case 68:case 71:X=4;break;default:X=2}for(K=0;K<47;K++)W.push({k:D+K,v:X})}for(W.sort(function(se,be){return be.v-se.v}),K=0;K<W.length;K++)D=W[K].k.charAt(0),T.charAt(T.length-1)!==D&&(T+=D);return T!=="DGBEFHACIJK"}}),L=te||!q||!Q||!le,U=function(T){return function(M,D){return D===void 0?-1:M===void 0?1:T!==void 0?+T(M,D)||0:S(M)>S(D)?1:-1}};l({target:"Array",proto:!0,forced:L},{sort:function(M){M!==void 0&&y(M);var D=b(this);if(le)return M===void 0?Y(D):Y(D,M);var X=[],K=x(D),se,be;for(be=0;be<K;be++)be in D&&ie(X,D[be]);for(A(X,U(M)),se=X.length,be=0;be<se;)D[be]=X[be++];for(;be<K;)delete D[be++];return D}})},function(u,c,i){var l=i(113),f=Math.floor,y=function(S,P){var A=S.length,N=f(A/2);return A<8?b(S,P):x(S,y(l(S,0,N),P),y(l(S,N),P),P)},b=function(S,P){for(var A=S.length,N=1,R,I;N<A;){for(I=N,R=S[N];I&&P(S[I-1],R)>0;)S[I]=S[--I];I!==N++&&(S[I]=R)}return S},x=function(S,P,A,N){for(var R=P.length,I=A.length,B=0,k=0;B<R||k<I;)S[B+k]=B<R&&k<I?N(P[B],A[k])<=0?P[B++]:A[k++]:B<R?P[B++]:A[k++];return S};u.exports=y},function(u,c,i){var l=i(53),f=l.match(/firefox\/(\d+)/i);u.exports=!!f&&+f[1]},function(u,c,i){var l=i(53);u.exports=/MSIE|Trident/.test(l)},function(u,c,i){var l=i(53),f=l.match(/AppleWebKit\/(\d+)\./);u.exports=!!f&&+f[1]},function(u,c,i){var l=i(16),f=i(74).find,y=i(83),b="find",x=!0;b in[]&&Array(1)[b](function(){x=!1}),l({target:"Array",proto:!0,forced:x},{find:function(P){return f(this,P,arguments.length>1?arguments[1]:void 0)}}),y(b)},function(u,c,i){var l=i(7),f=i(154),y=l.TypeError;u.exports=function(b){if(f(b))throw y("The method doesn't accept regular expressions");return b}},function(u,c,i){var l=i(27),f=l("match");u.exports=function(y){var b=/./;try{"/./"[y](b)}catch{try{return b[f]=!1,"/./"[y](b)}catch{}}return!1}},function(u,c,i){var l=i(94).PROPER,f=i(18),y=i(160),b="\u200B\x85\u180E";u.exports=function(x){return f(function(){return!!y[x]()||b[x]()!==b||l&&y[x].name!==x})}},function(u,c,i){var l=i(15);u.exports=l(1 .valueOf)},function(u,c,i){var l=i(15),f=i(38),y=Math.floor,b=l("".charAt),x=l("".replace),S=l("".slice),P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,A=/\$([$&'`]|\d{1,2})/g;u.exports=function(N,R,I,B,k,W){var Y=I+N.length,ie=B.length,te=A;return k!==void 0&&(k=f(k),te=P),x(W,te,function(q,Q){var le;switch(b(Q,0)){case"$":return"$";case"&":return N;case"`":return S(R,0,I);case"'":return S(R,Y);case"<":le=k[S(Q,1,-1)];break;default:var L=+Q;if(L===0)return q;if(L>ie){var U=y(L/10);return U===0?q:U<=ie?B[U-1]===void 0?b(Q,1):B[U-1]+b(Q,1):q}le=B[L-1]}return le===void 0?"":le})}},function(u,c,i){var l=i(36),f=i(15),y=i(35),b=i(18),x=i(66),S=i(112),P=i(93),A=i(38),N=i(81),R=Object.assign,I=Object.defineProperty,B=f([].concat);u.exports=!R||b(function(){if(l&&R({b:1},R(I({},"a",{enumerable:!0,get:function(){I(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var k={},W={},Y=Symbol(),ie="abcdefghijklmnopqrst";return k[Y]=7,ie.split("").forEach(function(te){W[te]=te}),R({},k)[Y]!=7||x(R({},W)).join("")!=ie})?function(W,Y){for(var ie=A(W),te=arguments.length,q=1,Q=S.f,le=P.f;te>q;)for(var L=N(arguments[q++]),U=Q?B(x(L),Q(L)):x(L),T=U.length,M=0,D;T>M;)D=U[M++],(!l||y(le,L,D))&&(ie[D]=L[D]);return ie}:R},function(u,c,i){var l=i(7),f=i(15),y=i(55),b=i(33),x=i(34),S=i(101),P=l.Function,A=f([].concat),N=f([].join),R={},I=function(B,k,W){if(!x(R,k)){for(var Y=[],ie=0;ie<k;ie++)Y[ie]="a["+ie+"]";R[k]=P("C,a","return new C("+N(Y,",")+")")}return R[k](B,W)};u.exports=P.bind||function(k){var W=y(this),Y=W.prototype,ie=S(arguments,1),te=function(){var Q=A(ie,S(arguments));return this instanceof te?I(W,Q.length,Q):W.apply(k,Q)};return b(Y)&&(te.prototype=Y),te}},function(u,c,i){var l=i(34);u.exports=function(f){return f!==void 0&&(l(f,"value")||l(f,"writable"))}},function(u,c,i){var l=i(15),f=i(45),y=i(40),b=/"/g,x=l("".replace);u.exports=function(S,P,A,N){var R=y(f(S)),I="<"+P;return A!==""&&(I+=" "+A+'="'+x(y(N),b,"&quot;")+'"'),I+">"+R+"</"+P+">"}},function(u,c,i){var l=i(18);u.exports=function(f){return l(function(){var y=""[f]('"');return y!==y.toLowerCase()||y.split('"').length>3})}},function(u,c,i){var l=i(16),f=Math.hypot,y=Math.abs,b=Math.sqrt,x=!!f&&f(1/0,NaN)!==1/0;l({target:"Math",stat:!0,forced:x},{hypot:function(P,A){for(var N=0,R=0,I=arguments.length,B=0,k,W;R<I;)k=y(arguments[R++]),B<k?(W=B/k,N=N*W*W+1,B=k):k>0?(W=k/B,N+=W*W):N+=k;return B===1/0?1/0:B*b(N)}})},function(u,c,i){var l=i(16),f=i(64),y=i(7),b=i(46),x=i(35),S=i(205),P=i(44),A=i(144),N=i(97),R=i(73),I=i(145),B=i(55),k=i(28),W=i(33),Y=i(117),ie=i(92),te=i(114),q=i(118),Q=i(156),le=i(162).set,L=i(206),U=i(209),T=i(210),M=i(164),D=i(211),X=i(56),K=i(95),se=i(27),be=i(212),me=i(126),ge=i(65),Ee=se("species"),Oe="Promise",Ae=X.getterFor(Oe),ze=X.set,Ye=X.getterFor(Oe),Ie=S&&S.prototype,Pe=S,_e=Ie,Be=y.TypeError,_=y.document,F=y.process,V=M.f,fe=V,ve=!!(_&&_.createEvent&&y.dispatchEvent),de=k(y.PromiseRejectionEvent),Le="unhandledrejection",Je="rejectionhandled",Xe=0,Ve=1,ye=2,it=1,qe=2,Fe=!1,Qe,xt,lt,mt,oe=K(Oe,function(){var je=ie(Pe),We=je!==String(Pe);if(!We&&ge===66||f&&!_e.finally)return!0;if(ge>=51&&/native code/.test(je))return!1;var ot=new Pe(function(G){G(1)}),tt=function(G){G(function(){},function(){})},ft=ot.constructor={};return ft[Ee]=tt,Fe=ot.then(function(){})instanceof tt,Fe?!We&&be&&!de:!0}),Ct=oe||!q(function(je){Pe.all(je).catch(function(){})}),Pt=function(je){var We;return W(je)&&k(We=je.then)?We:!1},bt=function(je,We){if(!je.notified){je.notified=!0;var ot=je.reactions;L(function(){for(var tt=je.value,ft=je.state==Ve,G=0;ot.length>G;){var J=ot[G++],re=ft?J.ok:J.fail,ne=J.resolve,we=J.reject,De=J.domain,Ue,vt,Jt;try{re?(ft||(je.rejection===qe&&xr(je),je.rejection=it),re===!0?Ue=tt:(De&&De.enter(),Ue=re(tt),De&&(De.exit(),Jt=!0)),Ue===J.promise?we(Be("Promise-chain cycle")):(vt=Pt(Ue))?x(vt,Ue,ne,we):ne(Ue)):we(tt)}catch(Qt){De&&!Jt&&De.exit(),we(Qt)}}je.reactions=[],je.notified=!1,We&&!je.rejection&&pr(je)})}},Vt=function(je,We,ot){var tt,ft;ve?(tt=_.createEvent("Event"),tt.promise=We,tt.reason=ot,tt.initEvent(je,!1,!0),y.dispatchEvent(tt)):tt={promise:We,reason:ot},!de&&(ft=y["on"+je])?ft(tt):je===Le&&T("Unhandled promise rejection",ot)},pr=function(je){x(le,y,function(){var We=je.facade,ot=je.value,tt=Zt(je),ft;if(tt&&(ft=D(function(){me?F.emit("unhandledRejection",ot,We):Vt(Le,We,ot)}),je.rejection=me||Zt(je)?qe:it,ft.error))throw ft.value})},Zt=function(je){return je.rejection!==it&&!je.parent},xr=function(je){x(le,y,function(){var We=je.facade;me?F.emit("rejectionHandled",We):Vt(Je,We,je.value)})},rt=function(je,We,ot){return function(tt){je(We,tt,ot)}},Tt=function(je,We,ot){je.done||(je.done=!0,ot&&(je=ot),je.value=We,je.state=ye,bt(je,!0))},nr=function(je,We,ot){if(!je.done){je.done=!0,ot&&(je=ot);try{if(je.facade===We)throw Be("Promise can't be resolved itself");var tt=Pt(We);tt?L(function(){var ft={done:!1};try{x(tt,We,rt(nr,ft,je),rt(Tt,ft,je))}catch(G){Tt(ft,G,je)}}):(je.value=We,je.state=Ve,bt(je,!1))}catch(ft){Tt({done:!1},ft,je)}}};if(oe&&(Pe=function(We){Y(this,_e),B(We),x(Qe,this);var ot=Ae(this);try{We(rt(nr,ot),rt(Tt,ot))}catch(tt){Tt(ot,tt)}},_e=Pe.prototype,Qe=function(We){ze(this,{type:Oe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Xe,value:void 0})},Qe.prototype=A(_e,{then:function(We,ot){var tt=Ye(this),ft=tt.reactions,G=V(Q(this,Pe));return G.ok=k(We)?We:!0,G.fail=k(ot)&&ot,G.domain=me?F.domain:void 0,tt.parent=!0,ft[ft.length]=G,tt.state!=Xe&&bt(tt,!1),G.promise},catch:function(je){return this.then(void 0,je)}}),xt=function(){var je=new Qe,We=Ae(je);this.promise=je,this.resolve=rt(nr,We),this.reject=rt(Tt,We)},M.f=V=function(je){return je===Pe||je===lt?new xt(je):fe(je)},!f&&k(S)&&Ie!==Object.prototype)){mt=Ie.then,Fe||(P(Ie,"then",function(We,ot){var tt=this;return new Pe(function(ft,G){x(mt,tt,ft,G)}).then(We,ot)},{unsafe:!0}),P(Ie,"catch",_e.catch,{unsafe:!0}));try{delete Ie.constructor}catch{}N&&N(Ie,_e)}l({global:!0,wrap:!0,forced:oe},{Promise:Pe}),R(Pe,Oe,!1,!0),I(Oe),lt=b(Oe),l({target:Oe,stat:!0,forced:oe},{reject:function(We){var ot=V(this);return x(ot.reject,void 0,We),ot.promise}}),l({target:Oe,stat:!0,forced:f||oe},{resolve:function(We){return U(f&&this===lt?Pe:this,We)}}),l({target:Oe,stat:!0,forced:Ct},{all:function(We){var ot=this,tt=V(ot),ft=tt.resolve,G=tt.reject,J=D(function(){var re=B(ot.resolve),ne=[],we=0,De=1;te(We,function(Ue){var vt=we++,Jt=!1;De++,x(re,ot,Ue).then(function(Qt){Jt||(Jt=!0,ne[vt]=Qt,--De||ft(ne))},G)}),--De||ft(ne)});return J.error&&G(J.value),tt.promise},race:function(We){var ot=this,tt=V(ot),ft=tt.reject,G=D(function(){var J=B(ot.resolve);te(We,function(re){x(J,ot,re).then(tt.resolve,ft)})});return G.error&&ft(G.value),tt.promise}})},function(u,c,i){var l=i(7);u.exports=l.Promise},function(u,c,i){var l=i(7),f=i(62),y=i(51).f,b=i(162).set,x=i(163),S=i(207),P=i(208),A=i(126),N=l.MutationObserver||l.WebKitMutationObserver,R=l.document,I=l.process,B=l.Promise,k=y(l,"queueMicrotask"),W=k&&k.value,Y,ie,te,q,Q,le,L,U;W||(Y=function(){var T,M;for(A&&(T=I.domain)&&T.exit();ie;){M=ie.fn,ie=ie.next;try{M()}catch(D){throw ie?q():te=void 0,D}}te=void 0,T&&T.enter()},!x&&!A&&!P&&N&&R?(Q=!0,le=R.createTextNode(""),new N(Y).observe(le,{characterData:!0}),q=function(){le.data=Q=!Q}):!S&&B&&B.resolve?(L=B.resolve(void 0),L.constructor=B,U=f(L.then,L),q=function(){U(Y)}):A?q=function(){I.nextTick(Y)}:(b=f(b,l),q=function(){b(Y)})),u.exports=W||function(T){var M={fn:T,next:void 0};te&&(te.next=M),ie||(ie=M,q()),te=M}},function(u,c,i){var l=i(53),f=i(7);u.exports=/ipad|iphone|ipod/i.test(l)&&f.Pebble!==void 0},function(u,c,i){var l=i(53);u.exports=/web0s(?!.*chrome)/i.test(l)},function(u,c,i){var l=i(32),f=i(33),y=i(164);u.exports=function(b,x){if(l(b),f(x)&&x.constructor===b)return x;var S=y.f(b),P=S.resolve;return P(x),S.promise}},function(u,c,i){var l=i(7);u.exports=function(f,y){var b=l.console;b&&b.error&&(arguments.length==1?b.error(f):b.error(f,y))}},function(u,c){u.exports=function(i){try{return{error:!1,value:i()}}catch(l){return{error:!0,value:l}}}},function(u,c){u.exports=typeof window=="object"},function(u,c,i){var l=i(36),f=i(15),y=i(66),b=i(39),x=i(93).f,S=f(x),P=f([].push),A=function(N){return function(R){for(var I=b(R),B=y(I),k=B.length,W=0,Y=[],ie;k>W;)ie=B[W++],(!l||S(I,ie))&&P(Y,N?[ie,I[ie]]:I[ie]);return Y}};u.exports={entries:A(!0),values:A(!1)}},function(u,c,i){var l=i(38),f=i(67),y=i(43);u.exports=function(x){for(var S=l(this),P=y(S),A=arguments.length,N=f(A>1?arguments[1]:void 0,P),R=A>2?arguments[2]:void 0,I=R===void 0?P:f(R,P);I>N;)S[N++]=x;return S}},function(u,c,i){i.r(c),i.d(c,"observer",function(){return kr}),i.d(c,"LogicFlow",function(){return td}),i.d(c,"h",function(){return oe.g}),i.d(c,"LogicFlowUtil",function(){return l}),i.d(c,"BaseNode",function(){return vn}),i.d(c,"RectNode",function(){return vc}),i.d(c,"CircleNode",function(){return mc}),i.d(c,"PolygonNode",function(){return Ec}),i.d(c,"DiamondNode",function(){return Pc}),i.d(c,"EllipseNode",function(){return wc}),i.d(c,"TextNode",function(){return Nc}),i.d(c,"HtmlNode",function(){return Cc}),i.d(c,"BaseEdge",function(){return Ti}),i.d(c,"LineEdge",function(){return kc}),i.d(c,"PolylineEdge",function(){return $c}),i.d(c,"BezierEdge",function(){return Xc}),i.d(c,"Arrow",function(){return yj}),i.d(c,"BaseEdgeModel",function(){return hf}),i.d(c,"BezierEdgeModel",function(){return $f}),i.d(c,"LineEdgeModel",function(){return gf}),i.d(c,"PolylineEdgeModel",function(){return Of}),i.d(c,"BaseNodeModel",function(){return pn}),i.d(c,"CircleNodeModel",function(){return Yf}),i.d(c,"DiamondNodeModel",function(){return Kf}),i.d(c,"EllipseNodeModel",function(){return Jf}),i.d(c,"PolygonNodeModel",function(){return ec}),i.d(c,"RectNodeModel",function(){return nc}),i.d(c,"TextNodeModel",function(){return ic}),i.d(c,"HtmlNodeModel",function(){return uc}),i.d(c,"EditConfigModel",function(){return lp}),i.d(c,"GraphModel",function(){return ov}),i.d(c,"SnaplineModel",function(){return ig}),i.d(c,"Keyboard",function(){return hm}),i.d(c,"get",function(){return Fv}),i.d(c,"defaults",function(){return Hv});var l={};i.r(l),i.d(l,"createUuid",function(){return to}),i.d(l,"refreshGraphId",function(){return SP}),i.d(l,"createDrag",function(){return Mf}),i.d(l,"StepDrag",function(){return ro});var f=i(0),y=i(10);if(!y.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!f.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var b=i(42),x=Object(b.b)("observerBatching");function S(e){e()}function P(e){e||(e=S),Object(f.n)({reactionScheduler:e}),Object(b.a)()[x]=!0}function A(e){return Object(f.t)(e)}function N(e){var r={cleanAt:Date.now()+R,reaction:e};return r}var R=1e4,I=1e4,B=new Set,k;function W(){k===void 0&&(k=setTimeout(te,I))}function Y(e){B.add(e),W()}function ie(e){B.delete(e)}function te(){k=void 0;var e=Date.now();B.forEach(function(r){var t=r.current;t&&e>=t.cleanAt&&(t.reaction.dispose(),r.current=null,B.delete(r))}),B.size>0&&W()}var q=!1,Q=[];function le(e){return function(){q?Q.push(e):e()}}function L(e){q=!0,Q=[];try{var r=e();q=!1;var t=Q.length>0?Q:void 0;return y.d.useLayoutEffect(function(){t&&t.forEach(function(n){return n()})},[t]),r}finally{q=!1}}var U={};function T(e){return"observer"+e}function M(e,r,t){r===void 0&&(r="observed"),t===void 0&&(t=U);var n=t.useForceUpdate||b.d,o=n(),a=le(o),s=y.d.useRef(null);if(!s.current){var p=new f.c(T(r),function(){g.mounted?a():(p.dispose(),s.current=null)}),g=N(p);s.current=g,Y(s)}var E=s.current.reaction;return y.d.useDebugValue(E,A),y.d.useEffect(function(){return ie(s),s.current?s.current.mounted=!0:(s.current={reaction:new f.c(T(r),function(){a()}),cleanAt:1/0},a()),function(){s.current.reaction.dispose(),s.current=null}},[]),L(function(){var w,C;if(E.track(function(){try{w=e()}catch(z){C=z}}),C)throw C;return w})}var D=function(){return D=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},D.apply(this,arguments)};function X(e,r){var t=D({forwardRef:!1},r),n=e.displayName||e.name,o=function(s,p){return M(function(){return e(s,p)},n)};o.displayName=n;var a;return t.forwardRef?a=Object(y.f)(Object(y.e)(o)):a=Object(y.f)(o),se(e,a),a.displayName=n,a}var K={$$typeof:!0,render:!0,compare:!0,type:!0};function se(e,r){Object.keys(e).forEach(function(t){K[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}function be(e){var r=e.children,t=e.render,n=r||t;return typeof n!="function"?null:M(n)}be.propTypes={children:me,render:me},be.displayName="Observer";function me(e,r,t,n,o){var a=r==="children"?"render":"children",s=typeof e[r]=="function",p=typeof e[a]=="function";return s&&p?new Error("MobX Observer: Do not use children and render in the same time in`"+t):s||p?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[r]+"` supplied to `"+t+"`, expected `function`.")}P(y.g);var ge=0;function Ee(e){if(typeof Symbol=="function")return Symbol(e);var r="__$mobx-react "+e+" ("+ge+")";return ge++,r}var Oe={};function Ae(e){return Oe[e]||(Oe[e]=Ee(e)),Oe[e]}function ze(e,r){if(Ye(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!Object.hasOwnProperty.call(r,t[o])||!Ye(e[t[o]],r[t[o]]))return!1;return!0}function Ye(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function Ie(e,r,t){Object.hasOwnProperty.call(e,r)?e[r]=t:Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t})}var Pe=Ae("patchMixins"),_e=Ae("patchedDefinition");function Be(e,r){var t=e[Pe]=e[Pe]||{},n=t[r]=t[r]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function _(e,r){for(var t=this,n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];r.locks++;try{var s;return e!=null&&(s=e.apply(this,o)),s}finally{r.locks--,r.locks===0&&r.methods.forEach(function(p){p.apply(t,o)})}}function F(e,r){var t=function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];_.call.apply(_,[this,e,r].concat(a))};return t}function V(e,r,t){var n=Be(e,r);n.methods.indexOf(t)<0&&n.methods.push(t);var o=Object.getOwnPropertyDescriptor(e,r);if(!(o&&o[_e])){var a=e[r],s=fe(e,r,o?o.enumerable:void 0,n,a);Object.defineProperty(e,r,s)}}function fe(e,r,t,n,o){var a,s=F(o,n);return a={},a[_e]=!0,a.get=function(){return s},a.set=function(g){if(this===e)s=F(g,n);else{var E=fe(this,r,t,n,g);Object.defineProperty(this,r,E)}},a.configurable=!0,a.enumerable=t,a}var ve=f.a||"$mobx",de=Ae("isMobXReactObserver"),Le=Ae("isUnmounted"),Je=Ae("skipRender"),Xe=Ae("isForcingUpdate");function Ve(e){var r=e.prototype;if(e[de]){var t=ye(r);console.warn("The provided component class ("+t+`) 
                has already been declared as an observer component.`)}else e[de]=!0;if(r.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==y.b){if(!r.shouldComponentUpdate)r.shouldComponentUpdate=qe;else if(r.shouldComponentUpdate!==qe)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}Fe(r,"props"),Fe(r,"state");var n=r.render;return r.render=function(){return it.call(this,n)},V(r,"componentWillUnmount",function(){var o;if((o=this.render[ve])===null||o===void 0||o.dispose(),this[Le]=!0,!this.render[ve]){var a=ye(this);console.warn("The reactive render of an observer class component ("+a+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ye(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function it(e){var r=this;Ie(this,Je,!1),Ie(this,Xe,!1);var t=ye(this),n=e.bind(this),o=!1,a=new f.c(t+".render()",function(){if(!o&&(o=!0,r[Le]!==!0)){var p=!0;try{Ie(r,Xe,!0),r[Je]||y.a.prototype.forceUpdate.call(r),p=!1}finally{Ie(r,Xe,!1),p&&a.dispose()}}});a.reactComponent=this,s[ve]=a,this.render=s;function s(){o=!1;var p=void 0,g=void 0;if(a.track(function(){try{g=Object(f.d)(!1,n)}catch(E){p=E}}),p)throw p;return g}return s.call(this)}function qe(e,r){return this.state!==r?!0:!ze(this.props,e)}function Fe(e,r){var t=Ae("reactProp_"+r+"_valueHolder"),n=Ae("reactProp_"+r+"_atomHolder");function o(){return this[n]||Ie(this,n,Object(f.o)("reactive "+r)),this[n]}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var s=!1;return f.f&&f.e&&(s=Object(f.f)(!0)),o.call(this).reportObserved(),f.f&&f.e&&Object(f.e)(s),this[t]},set:function(s){!this[Xe]&&!ze(this[t],s)?(Ie(this,t,s),Ie(this,Je,!0),o.call(this).reportChanged(),Ie(this,Je,!1)):Ie(this,t,s)}})}var Qe=typeof Symbol=="function"&&Symbol.for,xt=Qe?Symbol.for("react.forward_ref"):typeof y.e=="function"&&Object(y.e)(function(e){return null}).$$typeof,lt=Qe?Symbol.for("react.memo"):typeof y.f=="function"&&Object(y.f)(function(e){return null}).$$typeof;function mt(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),lt&&e.$$typeof===lt)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(xt&&e.$$typeof===xt){var r=e.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Object(y.e)(function(){var n=arguments;return Object(y.c)(be,null,function(){return r.apply(void 0,n)})})}return typeof e=="function"&&(!e.prototype||!e.prototype.render)&&!e.isReactClass&&!Object.prototype.isPrototypeOf.call(y.a,e)?X(e):Ve(e)}if(!y.a)throw new Error("mobx-react requires React to be available");if(!f.C)throw new Error("mobx-react requires mobx to be available");var oe=i(1);i(3),i(60),i(2),i(6),i(4),i(11),i(41),i(24),i(20),i(5),i(22),i(21),i(23),i(8),i(9),i(17),i(25),i(19),i(29),i(187),i(192),i(103),i(152),i(153);function Ct(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var Pt=Ct;function bt(){this.__data__=[],this.size=0}var Vt=bt;function pr(e,r){return e===r||e!==e&&r!==r}var Zt=pr;function xr(e,r){for(var t=e.length;t--;)if(Zt(e[t][0],r))return t;return-1}var rt=xr,Tt=Array.prototype,nr=Tt.splice;function je(e){var r=this.__data__,t=rt(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():nr.call(r,t,1),--this.size,!0}var We=je;function ot(e){var r=this.__data__,t=rt(r,e);return t<0?void 0:r[t][1]}var tt=ot;function ft(e){return rt(this.__data__,e)>-1}var G=ft;function J(e,r){var t=this.__data__,n=rt(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var re=J;function ne(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}ne.prototype.clear=Vt,ne.prototype.delete=We,ne.prototype.get=tt,ne.prototype.has=G,ne.prototype.set=re;var we=ne;function De(){this.__data__=new we,this.size=0}var Ue=De;function vt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var Jt=vt;function Qt(e){return this.__data__.get(e)}var $n=Qt;function Gr(e){return this.__data__.has(e)}var zi=Gr,Sr=i(31),Fi=Sr.a.Symbol,sr=Fi,mn=Object.prototype,Un=mn.hasOwnProperty,ln=mn.toString,Xn=sr?sr.toStringTag:void 0;function bn(e){var r=Un.call(e,Xn),t=e[Xn];try{e[Xn]=void 0;var n=!0}catch{}var o=ln.call(e);return n&&(r?e[Xn]=t:delete e[Xn]),o}var On=bn,po=Object.prototype,es=po.toString;function ho(e){return es.call(e)}var vo=ho,Hi="[object Null]",Ge="[object Undefined]",ki=sr?sr.toStringTag:void 0;function ts(e){return e==null?e===void 0?Ge:Hi:ki&&ki in Object(e)?On(e):vo(e)}var $r=ts;function Gi(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Mt=Gi,hr="[object AsyncFunction]",$i="[object Function]",rs="[object GeneratorFunction]",ns="[object Proxy]";function os(e){if(!Mt(e))return!1;var r=$r(e);return r==$i||r==rs||r==hr||r==ns}var yo=os,Ui=Sr.a["__core-js_shared__"],sn=Ui,ei=function(){var e=/[^.]+$/.exec(sn&&sn.keys&&sn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ti(e){return!!ei&&ei in e}var Xi=ti,is=Function.prototype,go=is.toString;function as(e){if(e!=null){try{return go.call(e)}catch{}try{return e+""}catch{}}return""}var Rt=as,hd=/[\\^$.*+?()[\]{}|]/g,vd=/^\[object .+?Constructor\]$/,yd=Function.prototype,Yi=Object.prototype,us=yd.toString,Vi=Yi.hasOwnProperty,ls=RegExp("^"+us.call(Vi).replace(hd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ss(e){if(!Mt(e)||Xi(e))return!1;var r=yo(e)?ls:vd;return r.test(Rt(e))}var Ur=ss;function fs(e,r){return e==null?void 0:e[r]}var cs=fs;function ri(e,r){var t=cs(e,r);return Ur(t)?t:void 0}var Dr=ri,ds=Dr(Sr.a,"Map"),En=ds,ps=Dr(Object,"create"),Yn=ps;function hs(){this.__data__=Yn?Yn(null):{},this.size=0}var ni=hs;function Wi(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var vs=Wi,oi="__lodash_hash_undefined__",Ki=Object.prototype,Zi=Ki.hasOwnProperty;function Ji(e){var r=this.__data__;if(Yn){var t=r[e];return t===oi?void 0:t}return Zi.call(r,e)?r[e]:void 0}var Qi=Ji,ys=Object.prototype,qi=ys.hasOwnProperty;function gs(e){var r=this.__data__;return Yn?r[e]!==void 0:qi.call(r,e)}var ea=gs,ta="__lodash_hash_undefined__";function ms(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Yn&&r===void 0?ta:r,this}var bs=ms;function xn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}xn.prototype.clear=ni,xn.prototype.delete=vs,xn.prototype.get=Qi,xn.prototype.has=ea,xn.prototype.set=bs;var Sn=xn;function Pn(){this.size=0,this.__data__={hash:new Sn,map:new(En||we),string:new Sn}}var Os=Pn;function Es(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var ra=Es;function xs(e,r){var t=e.__data__;return ra(r)?t[typeof r=="string"?"string":"hash"]:t.map}var mo=xs;function Ss(e){var r=mo(this,e).delete(e);return this.size-=r?1:0,r}var Ps=Ss;function Tn(e){return mo(this,e).get(e)}var Xr=Tn;function Ts(e){return mo(this,e).has(e)}var Ms=Ts;function ws(e,r){var t=mo(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var Pr=ws;function Mn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Mn.prototype.clear=Os,Mn.prototype.delete=Ps,Mn.prototype.get=Xr,Mn.prototype.has=Ms,Mn.prototype.set=Pr;var Vn=Mn,As=200;function bo(e,r){var t=this.__data__;if(t instanceof we){var n=t.__data__;if(!En||n.length<As-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Vn(n)}return t.set(e,r),this.size=t.size,this}var Oo=bo;function wn(e){var r=this.__data__=new we(e);this.size=r.size}wn.prototype.clear=Ue,wn.prototype.delete=Jt,wn.prototype.get=$n,wn.prototype.has=zi,wn.prototype.set=Oo;var An=wn,Tr="__lodash_hash_undefined__";function Wn(e){return this.__data__.set(e,Tr),this}var Mr=Wn;function vr(e){return this.__data__.has(e)}var Kn=vr;function qt(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Vn;++r<t;)this.add(e[r])}qt.prototype.add=qt.prototype.push=Mr,qt.prototype.has=Kn;var Ns=qt;function Ds(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var js=Ds;function na(e,r){return e.has(r)}var jr=na,Cs=1,Cr=2;function oa(e,r,t,n,o,a){var s=t&Cs,p=e.length,g=r.length;if(p!=g&&!(s&&g>p))return!1;var E=a.get(e),w=a.get(r);if(E&&w)return E==r&&w==e;var C=-1,z=!0,$=t&Cr?new Ns:void 0;for(a.set(e,r),a.set(r,e);++C<p;){var ee=e[C],ae=r[C];if(n)var ue=s?n(ae,ee,C,r,e,a):n(ee,ae,C,e,r,a);if(ue!==void 0){if(ue)continue;z=!1;break}if($){if(!js(r,function(ce,Ne){if(!jr($,Ne)&&(ee===ce||o(ee,ce,t,n,a)))return $.push(Ne)})){z=!1;break}}else if(!(ee===ae||o(ee,ae,t,n,a))){z=!1;break}}return a.delete(e),a.delete(r),z}var ia=oa,ii=Sr.a.Uint8Array,Ut=ii;function aa(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t}var Rs=aa;function ua(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var fr=ua,la=1,ai=2,sa="[object Boolean]",fa="[object Date]",Is="[object Error]",ca="[object Map]",_s="[object Number]",Bs="[object RegExp]",yr="[object Set]",wr="[object String]",Zn="[object Symbol]",Ls="[object ArrayBuffer]",da="[object DataView]",Eo=sr?sr.prototype:void 0,Jn=Eo?Eo.valueOf:void 0;function pa(e,r,t,n,o,a,s){switch(t){case da:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Ls:return!(e.byteLength!=r.byteLength||!a(new Ut(e),new Ut(r)));case sa:case fa:case _s:return Zt(+e,+r);case Is:return e.name==r.name&&e.message==r.message;case Bs:case wr:return e==r+"";case ca:var p=Rs;case yr:var g=n&la;if(p||(p=fr),e.size!=r.size&&!g)return!1;var E=s.get(e);if(E)return E==r;n|=ai,s.set(e,r);var w=ia(p(e),p(r),n,o,a,s);return s.delete(e),w;case Zn:if(Jn)return Jn.call(e)==Jn.call(r)}return!1}var zs=pa;function xo(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e}var ui=xo,ha=Array.isArray,d=ha;function h(e,r,t){var n=r(e);return d(e)?n:ui(n,t(e))}var O=h;function j(e,r){for(var t=-1,n=e==null?0:e.length,o=0,a=[];++t<n;){var s=e[t];r(s,t,e)&&(a[o++]=s)}return a}var H=j;function Z(){return[]}var pe=Z,Me=Object.prototype,$e=Me.propertyIsEnumerable,ct=Object.getOwnPropertySymbols,dt=ct?function(e){return e==null?[]:(e=Object(e),H(ct(e),function(r){return $e.call(e,r)}))}:pe,Ot=dt;function St(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var _t=St;function Xt(e){return e!=null&&typeof e=="object"}var wt=Xt,gr="[object Arguments]";function Nn(e){return wt(e)&&$r(e)==gr}var va=Nn,ya=Object.prototype,ga=ya.hasOwnProperty,ma=ya.propertyIsEnumerable,li=va(function(){return arguments}())?va:function(e){return wt(e)&&ga.call(e,"callee")&&!ma.call(e,"callee")},Dn=li,fn=i(48),jb=9007199254740991,Cb=/^(?:0|[1-9]\d*)$/;function Rb(e,r){var t=typeof e;return r=r==null?jb:r,!!r&&(t=="number"||t!="symbol"&&Cb.test(e))&&e>-1&&e%1==0&&e<r}var ba=Rb,Ib=9007199254740991;function _b(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ib}var Fs=_b,Bb="[object Arguments]",Lb="[object Array]",zb="[object Boolean]",Fb="[object Date]",Hb="[object Error]",kb="[object Function]",Gb="[object Map]",$b="[object Number]",Ub="[object Object]",Xb="[object RegExp]",Yb="[object Set]",Vb="[object String]",Wb="[object WeakMap]",Kb="[object ArrayBuffer]",Zb="[object DataView]",Jb="[object Float32Array]",Qb="[object Float64Array]",qb="[object Int8Array]",eO="[object Int16Array]",tO="[object Int32Array]",rO="[object Uint8Array]",nO="[object Uint8ClampedArray]",oO="[object Uint16Array]",iO="[object Uint32Array]",Nt={};Nt[Jb]=Nt[Qb]=Nt[qb]=Nt[eO]=Nt[tO]=Nt[rO]=Nt[nO]=Nt[oO]=Nt[iO]=!0,Nt[Bb]=Nt[Lb]=Nt[Kb]=Nt[zb]=Nt[Zb]=Nt[Fb]=Nt[Hb]=Nt[kb]=Nt[Gb]=Nt[$b]=Nt[Ub]=Nt[Xb]=Nt[Yb]=Nt[Vb]=Nt[Wb]=!1;function aO(e){return wt(e)&&Fs(e.length)&&!!Nt[$r(e)]}var uO=aO;function lO(e){return function(r){return e(r)}}var Hs=lO,So=i(49),gd=So.a&&So.a.isTypedArray,sO=gd?Hs(gd):uO,ks=sO,fO=Object.prototype,cO=fO.hasOwnProperty;function dO(e,r){var t=d(e),n=!t&&Dn(e),o=!t&&!n&&Object(fn.a)(e),a=!t&&!n&&!o&&ks(e),s=t||n||o||a,p=s?_t(e.length,String):[],g=p.length;for(var E in e)(r||cO.call(e,E))&&!(s&&(E=="length"||o&&(E=="offset"||E=="parent")||a&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||ba(E,g)))&&p.push(E);return p}var md=dO,pO=Object.prototype;function hO(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||pO;return e===t}var Oa=hO;function vO(e,r){return function(t){return e(r(t))}}var bd=vO,yO=bd(Object.keys,Object),gO=yO,mO=Object.prototype,bO=mO.hasOwnProperty;function OO(e){if(!Oa(e))return gO(e);var r=[];for(var t in Object(e))bO.call(e,t)&&t!="constructor"&&r.push(t);return r}var EO=OO;function xO(e){return e!=null&&Fs(e.length)&&!yo(e)}var Qn=xO;function SO(e){return Qn(e)?md(e):EO(e)}var Po=SO;function PO(e){return O(e,Po,Ot)}var Gs=PO,TO=1,MO=Object.prototype,wO=MO.hasOwnProperty;function AO(e,r,t,n,o,a){var s=t&TO,p=Gs(e),g=p.length,E=Gs(r),w=E.length;if(g!=w&&!s)return!1;for(var C=g;C--;){var z=p[C];if(!(s?z in r:wO.call(r,z)))return!1}var $=a.get(e),ee=a.get(r);if($&&ee)return $==r&&ee==e;var ae=!0;a.set(e,r),a.set(r,e);for(var ue=s;++C<g;){z=p[C];var ce=e[z],Ne=r[z];if(n)var Se=s?n(Ne,ce,z,r,e,a):n(ce,Ne,z,e,r,a);if(!(Se===void 0?ce===Ne||o(ce,Ne,t,n,a):Se)){ae=!1;break}ue||(ue=z=="constructor")}if(ae&&!ue){var Te=e.constructor,He=r.constructor;Te!=He&&"constructor"in e&&"constructor"in r&&!(typeof Te=="function"&&Te instanceof Te&&typeof He=="function"&&He instanceof He)&&(ae=!1)}return a.delete(e),a.delete(r),ae}var NO=AO,DO=Dr(Sr.a,"DataView"),$s=DO,jO=Dr(Sr.a,"Promise"),Us=jO,CO=Dr(Sr.a,"Set"),Xs=CO,RO=Dr(Sr.a,"WeakMap"),Ys=RO,Od="[object Map]",IO="[object Object]",Ed="[object Promise]",xd="[object Set]",Sd="[object WeakMap]",Pd="[object DataView]",_O=Rt($s),BO=Rt(En),LO=Rt(Us),zO=Rt(Xs),FO=Rt(Ys),qn=$r;($s&&qn(new $s(new ArrayBuffer(1)))!=Pd||En&&qn(new En)!=Od||Us&&qn(Us.resolve())!=Ed||Xs&&qn(new Xs)!=xd||Ys&&qn(new Ys)!=Sd)&&(qn=function(e){var r=$r(e),t=r==IO?e.constructor:void 0,n=t?Rt(t):"";if(n)switch(n){case _O:return Pd;case BO:return Od;case LO:return Ed;case zO:return xd;case FO:return Sd}return r});var si=qn,HO=1,Td="[object Arguments]",Md="[object Array]",Ea="[object Object]",kO=Object.prototype,wd=kO.hasOwnProperty;function GO(e,r,t,n,o,a){var s=d(e),p=d(r),g=s?Md:si(e),E=p?Md:si(r);g=g==Td?Ea:g,E=E==Td?Ea:E;var w=g==Ea,C=E==Ea,z=g==E;if(z&&Object(fn.a)(e)){if(!Object(fn.a)(r))return!1;s=!0,w=!1}if(z&&!w)return a||(a=new An),s||ks(e)?ia(e,r,t,n,o,a):zs(e,r,g,t,n,o,a);if(!(t&HO)){var $=w&&wd.call(e,"__wrapped__"),ee=C&&wd.call(r,"__wrapped__");if($||ee){var ae=$?e.value():e,ue=ee?r.value():r;return a||(a=new An),o(ae,ue,t,n,a)}}return z?(a||(a=new An),NO(e,r,t,n,o,a)):!1}var $O=GO;function Ad(e,r,t,n,o){return e===r?!0:e==null||r==null||!wt(e)&&!wt(r)?e!==e&&r!==r:$O(e,r,t,n,Ad,o)}var Vs=Ad,UO=1,XO=2;function YO(e,r,t,n){var o=t.length,a=o,s=!n;if(e==null)return!a;for(e=Object(e);o--;){var p=t[o];if(s&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++o<a;){p=t[o];var g=p[0],E=e[g],w=p[1];if(s&&p[2]){if(E===void 0&&!(g in e))return!1}else{var C=new An;if(n)var z=n(E,w,g,e,r,C);if(!(z===void 0?Vs(w,E,UO|XO,n,C):z))return!1}}return!0}var VO=YO;function WO(e){return e===e&&!Mt(e)}var Nd=WO;function KO(e){for(var r=Po(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,Nd(o)]}return r}var ZO=KO;function JO(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Dd=JO;function QO(e){var r=ZO(e);return r.length==1&&r[0][2]?Dd(r[0][0],r[0][1]):function(t){return t===e||VO(t,e,r)}}var qO=QO,eE="[object Symbol]";function tE(e){return typeof e=="symbol"||wt(e)&&$r(e)==eE}var xa=tE,rE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nE=/^\w*$/;function oE(e,r){if(d(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||xa(e)?!0:nE.test(e)||!rE.test(e)||r!=null&&e in Object(r)}var Ws=oE,iE="Expected a function";function Ks(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(iE);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],a=t.cache;if(a.has(o))return a.get(o);var s=e.apply(this,n);return t.cache=a.set(o,s)||a,s};return t.cache=new(Ks.Cache||Vn),t}Ks.Cache=Vn;var aE=Ks,uE=500;function lE(e){var r=aE(e,function(n){return t.size===uE&&t.clear(),n}),t=r.cache;return r}var sE=lE,fE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cE=/\\(\\)?/g,dE=sE(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(fE,function(t,n,o,a){r.push(o?a.replace(cE,"$1"):n||t)}),r}),pE=dE,hE=1/0,jd=sr?sr.prototype:void 0,Cd=jd?jd.toString:void 0;function Rd(e){if(typeof e=="string")return e;if(d(e))return Pt(e,Rd)+"";if(xa(e))return Cd?Cd.call(e):"";var r=e+"";return r=="0"&&1/e==-hE?"-0":r}var vE=Rd;function yE(e){return e==null?"":vE(e)}var gE=yE;function mE(e,r){return d(e)?e:Ws(e,r)?[e]:pE(gE(e))}var Sa=mE,bE=1/0;function OE(e){if(typeof e=="string"||xa(e))return e;var r=e+"";return r=="0"&&1/e==-bE?"-0":r}var fi=OE;function EE(e,r){r=Sa(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[fi(r[t++])];return t&&t==n?e:void 0}var Zs=EE;function xE(e,r,t){var n=e==null?void 0:Zs(e,r);return n===void 0?t:n}var Id=xE;function SE(e,r){return e!=null&&r in Object(e)}var PE=SE;function TE(e,r,t){r=Sa(r,e);for(var n=-1,o=r.length,a=!1;++n<o;){var s=fi(r[n]);if(!(a=e!=null&&t(e,s)))break;e=e[s]}return a||++n!=o?a:(o=e==null?0:e.length,!!o&&Fs(o)&&ba(s,o)&&(d(e)||Dn(e)))}var ME=TE;function wE(e,r){return e!=null&&ME(e,r,PE)}var _d=wE,AE=1,NE=2;function DE(e,r){return Ws(e)&&Nd(r)?Dd(fi(e),r):function(t){var n=Id(t,e);return n===void 0&&n===r?_d(t,e):Vs(r,n,AE|NE)}}var jE=DE;function CE(e){return e}var Js=CE;function RE(e){return function(r){return r==null?void 0:r[e]}}var IE=RE;function _E(e){return function(r){return Zs(r,e)}}var BE=_E;function LE(e){return Ws(e)?IE(fi(e)):BE(e)}var zE=LE;function FE(e){return typeof e=="function"?e:e==null?Js:typeof e=="object"?d(e)?jE(e[0],e[1]):qO(e):zE(e)}var HE=FE;function kE(e){return function(r,t,n){for(var o=-1,a=Object(r),s=n(r),p=s.length;p--;){var g=s[e?p:++o];if(t(a[g],g,a)===!1)break}return r}}var GE=kE,$E=GE(),Bd=$E;function UE(e,r){return e&&Bd(e,r,Po)}var XE=UE;function YE(e,r){return function(t,n){if(t==null)return t;if(!Qn(t))return e(t,n);for(var o=t.length,a=r?o:-1,s=Object(t);(r?a--:++a<o)&&n(s[a],a,s)!==!1;);return t}}var VE=YE,WE=VE(XE),KE=WE;function ZE(e,r){var t=-1,n=Qn(e)?Array(e.length):[];return KE(e,function(o,a,s){n[++t]=r(o,a,s)}),n}var JE=ZE;function QE(e,r){var t=d(e)?Pt:JE;return t(e,HE(r))}var Pa=QE,qE=function(){try{var e=Dr(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ta=qE;function ex(e,r,t){r=="__proto__"&&Ta?Ta(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Qs=ex,tx=Object.prototype,rx=tx.hasOwnProperty;function nx(e,r,t){var n=e[r];(!(rx.call(e,r)&&Zt(n,t))||t===void 0&&!(r in e))&&Qs(e,r,t)}var Ma=nx;function ox(e,r,t,n){var o=!t;t||(t={});for(var a=-1,s=r.length;++a<s;){var p=r[a],g=n?n(t[p],e[p],p,t,e):void 0;g===void 0&&(g=e[p]),o?Qs(t,p,g):Ma(t,p,g)}return t}var To=ox;function ix(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var ax=ix,Ld=Math.max;function ux(e,r,t){return r=Ld(r===void 0?e.length-1:r,0),function(){for(var n=arguments,o=-1,a=Ld(n.length-r,0),s=Array(a);++o<a;)s[o]=n[r+o];o=-1;for(var p=Array(r+1);++o<r;)p[o]=n[o];return p[r]=t(s),ax(e,this,p)}}var zd=ux;function lx(e){return function(){return e}}var sx=lx,fx=Ta?function(e,r){return Ta(e,"toString",{configurable:!0,enumerable:!1,value:sx(r),writable:!0})}:Js,cx=fx,dx=800,px=16,hx=Date.now;function vx(e){var r=0,t=0;return function(){var n=hx(),o=px-(n-t);if(t=n,o>0){if(++r>=dx)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var yx=vx,gx=yx(cx),Fd=gx;function mx(e,r){return Fd(zd(e,r,Js),e+"")}var bx=mx;function Ox(e,r,t){if(!Mt(t))return!1;var n=typeof r;return(n=="number"?Qn(t)&&ba(r,t.length):n=="string"&&r in t)?Zt(t[r],e):!1}var Ex=Ox;function xx(e){return bx(function(r,t){var n=-1,o=t.length,a=o>1?t[o-1]:void 0,s=o>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,s&&Ex(t[0],t[1],s)&&(a=o<3?void 0:a,o=1),r=Object(r);++n<o;){var p=t[n];p&&e(r,p,n,a)}return r})}var Hd=xx,Sx=Object.prototype,Px=Sx.hasOwnProperty,Tx=Hd(function(e,r){if(Oa(r)||Qn(r)){To(r,Po(r),e);return}for(var t in r)Px.call(r,t)&&Ma(e,t,r[t])}),or=Tx;function Mx(e,r,t,n){if(!Mt(e))return e;r=Sa(r,e);for(var o=-1,a=r.length,s=a-1,p=e;p!=null&&++o<a;){var g=fi(r[o]),E=t;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(o!=s){var w=p[g];E=n?n(w,g,p):void 0,E===void 0&&(E=Mt(w)?w:ba(r[o+1])?[]:{})}Ma(p,g,E),p=p[g]}return e}var wx=Mx;function Ax(e,r,t){for(var n=-1,o=r.length,a={};++n<o;){var s=r[n],p=Zs(e,s);t(p,s)&&wx(a,Sa(s,e),p)}return a}var Nx=Ax;function Dx(e,r){return Nx(e,r,function(t,n){return _d(e,n)})}var jx=Dx,kd=sr?sr.isConcatSpreadable:void 0;function Cx(e){return d(e)||Dn(e)||!!(kd&&e&&e[kd])}var Rx=Cx;function Gd(e,r,t,n,o){var a=-1,s=e.length;for(t||(t=Rx),o||(o=[]);++a<s;){var p=e[a];r>0&&t(p)?r>1?Gd(p,r-1,t,n,o):ui(o,p):n||(o[o.length]=p)}return o}var Ix=Gd;function _x(e){var r=e==null?0:e.length;return r?Ix(e,1):[]}var Bx=_x;function Lx(e){return Fd(zd(e,void 0,Bx),e+"")}var zx=Lx,Fx=zx(function(e,r){return e==null?{}:jx(e,r)}),ci=Fx,It,$d,Ud,Xd,Yd,Vd,Wd,Kd,Zd,Jd,Qd,qd,ep,tp,rp,np,op,ip;function Wt(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Hx(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ap(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kx(e,r,t){return r&&ap(e.prototype,r),t&&ap(e,t),e}function up(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Yt(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Gx={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},qs=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],lp=(It=function(){function e(r){Hx(this,e),Wt(this,"isSilentMode",$d,this),Wt(this,"stopZoomGraph",Ud,this),Wt(this,"stopScrollGraph",Xd,this),Wt(this,"stopMoveGraph",Yd,this),Wt(this,"adjustEdge",Vd,this),Wt(this,"adjustEdgeMiddle",Wd,this),Wt(this,"adjustEdgeStartAndEnd",Kd,this),Wt(this,"adjustNodePosition",Zd,this),Wt(this,"hideAnchors",Jd,this),Wt(this,"hoverOutline",Qd,this),Wt(this,"nodeSelectedOutline",qd,this),Wt(this,"edgeSelectedOutline",ep,this),Wt(this,"nodeTextEdit",tp,this),Wt(this,"edgeTextEdit",rp,this),Wt(this,"nodeTextDraggable",np,this),Wt(this,"edgeTextDraggable",op,this),Wt(this,"autoExpand",ip,this),up(this,"multipleSelectKey",""),up(this,"defaultConfig",{}),or(this,this.getConfigDetail(r))}return kx(e,[{key:"updateEditConfig",value:function(t){var n=this.getConfigDetail(t);or(this,n)}},{key:"getConfigDetail",value:function(t){var n=t.isSilentMode,o=t.textEdit,a={};if(n===!1&&or(a,this.defaultConfig),n===!0){var s=ci(Gx,qs);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},or(a,s)}o===!1&&or(a,{nodeTextEdit:!1,edgeTextEdit:!1});var p=ci(t,qs);return or(a,p)}},{key:"getConfig",value:function(){return ci(this,qs)}}]),e}(),$d=Yt(It.prototype,"isSilentMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ud=Yt(It.prototype,"stopZoomGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xd=Yt(It.prototype,"stopScrollGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yd=Yt(It.prototype,"stopMoveGraph",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vd=Yt(It.prototype,"adjustEdge",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Wd=Yt(It.prototype,"adjustEdgeMiddle",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kd=Yt(It.prototype,"adjustEdgeStartAndEnd",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zd=Yt(It.prototype,"adjustNodePosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jd=Yt(It.prototype,"hideAnchors",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qd=Yt(It.prototype,"hoverOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qd=Yt(It.prototype,"nodeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ep=Yt(It.prototype,"edgeSelectedOutline",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tp=Yt(It.prototype,"nodeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rp=Yt(It.prototype,"edgeTextEdit",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),np=Yt(It.prototype,"nodeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),op=Yt(It.prototype,"edgeTextDraggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ip=Yt(It.prototype,"autoExpand",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yt(It.prototype,"updateEditConfig",[f.k],Object.getOwnPropertyDescriptor(It.prototype,"updateEditConfig"),It.prototype),It);i(77);var Et;(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(Et||(Et={}));var sp;(function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"})(sp||(sp={}));var pt;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(pt||(pt={}));var kt;(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"})(kt||(kt={}));var at;(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"})(at||(at={}));var Dt;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Dt||(Dt={}));var fp=9999,mr;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(mr||(mr={}));var Bt,cp,dp,pp,hp,vp,yp,gp;function wa(e,r){return Yx(e)||Xx(e,r)||Ux(e,r)||$x()}function $x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ux(e,r){if(!!e){if(typeof e=="string")return mp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mp(e,r)}}function mp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Xx(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Yx(e){if(Array.isArray(e))return e}function eo(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Vx(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wx(e,r,t){return r&&bp(e.prototype,r),t&&bp(e,t),e}function ef(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Rr(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Kx=(Bt=function(){function e(r){Vx(this,e),ef(this,"MINI_SCALE_SIZE",.2),ef(this,"MAX_SCALE_SIZE",16),eo(this,"SCALE_X",cp,this),eo(this,"SKEW_Y",dp,this),eo(this,"SKEW_X",pp,this),eo(this,"SCALE_Y",hp,this),eo(this,"TRANSLATE_X",vp,this),eo(this,"TRANSLATE_Y",yp,this),eo(this,"ZOOM_SIZE",gp,this),ef(this,"eventCenter",void 0),this.eventCenter=r}return Wx(e,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var n=wa(t,2),o=n[0],a=n[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var n=wa(t,2),o=n[0],a=n[1];return[o*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,n,o){var a=wa(t,2),s=a[0],p=a[1];return[s+n/this.SCALE_X,p+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,n){return[t/this.SCALE_X,n/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,a=this.SCALE_Y;return t===!0?(o+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):t===!1?(o-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof t=="number"&&(o=t,a=t),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(o-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*n[1]),this.SCALE_X=o,this.SCALE_Y=a,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(at.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,n){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=n,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,n,o,a){var s=this.CanvasPointToHtmlPoint([t,n]),p=wa(s,2),g=p[0],E=p[1],w=o/2-g,C=a/2-E;this.TRANSLATE_X+=w,this.TRANSLATE_Y+=C,this.emitGraphTransform("focusOn")}}]),e}(),cp=Rr(Bt.prototype,"SCALE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),dp=Rr(Bt.prototype,"SKEW_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pp=Rr(Bt.prototype,"SKEW_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hp=Rr(Bt.prototype,"SCALE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),vp=Rr(Bt.prototype,"TRANSLATE_X",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yp=Rr(Bt.prototype,"TRANSLATE_Y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gp=Rr(Bt.prototype,"ZOOM_SIZE",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Rr(Bt.prototype,"zoom",[f.k],Object.getOwnPropertyDescriptor(Bt.prototype,"zoom"),Bt.prototype),Rr(Bt.prototype,"resetZoom",[f.k],Object.getOwnPropertyDescriptor(Bt.prototype,"resetZoom"),Bt.prototype),Rr(Bt.prototype,"translate",[f.k],Object.getOwnPropertyDescriptor(Bt.prototype,"translate"),Bt.prototype),Rr(Bt.prototype,"focusOn",[f.k],Object.getOwnPropertyDescriptor(Bt.prototype,"focusOn"),Bt.prototype),Bt);function Zx(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var Jx=Zx;function Qx(e,r){return e&&To(r,Po(r),e)}var qx=Qx;function eS(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var tS=eS,rS=Object.prototype,nS=rS.hasOwnProperty;function oS(e){if(!Mt(e))return tS(e);var r=Oa(e),t=[];for(var n in e)n=="constructor"&&(r||!nS.call(e,n))||t.push(n);return t}var iS=oS;function aS(e){return Qn(e)?md(e,!0):iS(e)}var di=aS;function uS(e,r){return e&&To(r,di(r),e)}var lS=uS,Op=i(106);function sS(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var Ep=sS;function fS(e,r){return To(e,Ot(e),r)}var cS=fS,dS=bd(Object.getPrototypeOf,Object),tf=dS,pS=Object.getOwnPropertySymbols,hS=pS?function(e){for(var r=[];e;)ui(r,Ot(e)),e=tf(e);return r}:pe,xp=hS;function vS(e,r){return To(e,xp(e),r)}var yS=vS;function gS(e){return O(e,di,xp)}var mS=gS,bS=Object.prototype,OS=bS.hasOwnProperty;function ES(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&OS.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var xS=ES;function SS(e){var r=new e.constructor(e.byteLength);return new Ut(r).set(new Ut(e)),r}var rf=SS;function PS(e,r){var t=r?rf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var TS=PS,MS=/\w*$/;function wS(e){var r=new e.constructor(e.source,MS.exec(e));return r.lastIndex=e.lastIndex,r}var AS=wS,Sp=sr?sr.prototype:void 0,Pp=Sp?Sp.valueOf:void 0;function NS(e){return Pp?Object(Pp.call(e)):{}}var DS=NS;function jS(e,r){var t=r?rf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Tp=jS,CS="[object Boolean]",RS="[object Date]",IS="[object Map]",_S="[object Number]",BS="[object RegExp]",LS="[object Set]",zS="[object String]",FS="[object Symbol]",HS="[object ArrayBuffer]",kS="[object DataView]",GS="[object Float32Array]",$S="[object Float64Array]",US="[object Int8Array]",XS="[object Int16Array]",YS="[object Int32Array]",VS="[object Uint8Array]",WS="[object Uint8ClampedArray]",KS="[object Uint16Array]",ZS="[object Uint32Array]";function JS(e,r,t){var n=e.constructor;switch(r){case HS:return rf(e);case CS:case RS:return new n(+e);case kS:return TS(e,t);case GS:case $S:case US:case XS:case YS:case VS:case WS:case KS:case ZS:return Tp(e,t);case IS:return new n;case _S:case zS:return new n(e);case BS:return AS(e);case LS:return new n;case FS:return DS(e)}}var QS=JS,Mp=Object.create,qS=function(){function e(){}return function(r){if(!Mt(r))return{};if(Mp)return Mp(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),e0=qS;function t0(e){return typeof e.constructor=="function"&&!Oa(e)?e0(tf(e)):{}}var wp=t0,r0="[object Map]";function n0(e){return wt(e)&&si(e)==r0}var o0=n0,Ap=So.a&&So.a.isMap,i0=Ap?Hs(Ap):o0,a0=i0,u0="[object Set]";function l0(e){return wt(e)&&si(e)==u0}var s0=l0,Np=So.a&&So.a.isSet,f0=Np?Hs(Np):s0,c0=f0,d0=1,p0=2,h0=4,Dp="[object Arguments]",v0="[object Array]",y0="[object Boolean]",g0="[object Date]",m0="[object Error]",jp="[object Function]",b0="[object GeneratorFunction]",O0="[object Map]",E0="[object Number]",Cp="[object Object]",x0="[object RegExp]",S0="[object Set]",P0="[object String]",T0="[object Symbol]",M0="[object WeakMap]",w0="[object ArrayBuffer]",A0="[object DataView]",N0="[object Float32Array]",D0="[object Float64Array]",j0="[object Int8Array]",C0="[object Int16Array]",R0="[object Int32Array]",I0="[object Uint8Array]",_0="[object Uint8ClampedArray]",B0="[object Uint16Array]",L0="[object Uint32Array]",At={};At[Dp]=At[v0]=At[w0]=At[A0]=At[y0]=At[g0]=At[N0]=At[D0]=At[j0]=At[C0]=At[R0]=At[O0]=At[E0]=At[Cp]=At[x0]=At[S0]=At[P0]=At[T0]=At[I0]=At[_0]=At[B0]=At[L0]=!0,At[m0]=At[jp]=At[M0]=!1;function Aa(e,r,t,n,o,a){var s,p=r&d0,g=r&p0,E=r&h0;if(t&&(s=o?t(e,n,o,a):t(e)),s!==void 0)return s;if(!Mt(e))return e;var w=d(e);if(w){if(s=xS(e),!p)return Ep(e,s)}else{var C=si(e),z=C==jp||C==b0;if(Object(fn.a)(e))return Object(Op.a)(e,p);if(C==Cp||C==Dp||z&&!o){if(s=g||z?{}:wp(e),!p)return g?yS(e,lS(s,e)):cS(e,qx(s,e))}else{if(!At[C])return o?e:{};s=QS(e,C,p)}}a||(a=new An);var $=a.get(e);if($)return $;a.set(e,s),c0(e)?e.forEach(function(ue){s.add(Aa(ue,r,t,ue,e,a))}):a0(e)&&e.forEach(function(ue,ce){s.set(ce,Aa(ue,r,t,ce,e,a))});var ee=E?g?mS:Gs:g?di:Po,ae=w?void 0:ee(e);return Jx(ae||e,function(ue,ce){ae&&(ce=ue,ue=e[ce]),Ma(s,ce,Aa(ue,r,t,ce,e,a))}),s}var z0=Aa,F0=1,H0=4;function k0(e){return z0(e,F0|H0)}var jt=k0;function G0(e,r,t){(t!==void 0&&!Zt(e[r],t)||t===void 0&&!(r in e))&&Qs(e,r,t)}var nf=G0;function $0(e){return wt(e)&&Qn(e)}var U0=$0,X0="[object Object]",Y0=Function.prototype,V0=Object.prototype,Rp=Y0.toString,W0=V0.hasOwnProperty,K0=Rp.call(Object);function Z0(e){if(!wt(e)||$r(e)!=X0)return!1;var r=tf(e);if(r===null)return!0;var t=W0.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&Rp.call(t)==K0}var J0=Z0;function Q0(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var of=Q0;function q0(e){return To(e,di(e))}var eP=q0;function tP(e,r,t,n,o,a,s){var p=of(e,t),g=of(r,t),E=s.get(g);if(E){nf(e,t,E);return}var w=a?a(p,g,t+"",e,r,s):void 0,C=w===void 0;if(C){var z=d(g),$=!z&&Object(fn.a)(g),ee=!z&&!$&&ks(g);w=g,z||$||ee?d(p)?w=p:U0(p)?w=Ep(p):$?(C=!1,w=Object(Op.a)(g,!0)):ee?(C=!1,w=Tp(g,!0)):w=[]:J0(g)||Dn(g)?(w=p,Dn(p)?w=eP(p):(!Mt(p)||yo(p))&&(w=wp(g))):C=!1}C&&(s.set(g,w),o(w,g,n,a,s),s.delete(g)),nf(e,t,w)}var rP=tP;function Ip(e,r,t,n,o){e!==r&&Bd(r,function(a,s){if(o||(o=new An),Mt(a))rP(e,r,s,t,Ip,n,o);else{var p=n?n(of(e,s),a,s+"",e,r,o):void 0;p===void 0&&(p=a),nf(e,s,p)}},di)}var nP=Ip,oP=Hd(function(e,r,t){nP(e,r,t)}),_p=oP,iP={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Bp=function(r){var t=jt(iP);return r&&(t=_p(t,r)),t};i(78),i(158);function aP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Lp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uP(e,r,t){return r&&Lp(e.prototype,r),t&&Lp(e,t),e}function lP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var sP="*",fP=function(){function e(){aP(this,e),lP(this,"_events",{})}return uP(e,[{key:"on",value:function(t,n,o){var a=this;return t==null||t.split(",").forEach(function(s){s=s.trim(),a._events[s]||(a._events[s]=[]),a._events[s].push({callback:n,once:!!o})}),this}},{key:"once",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){return a=a.trim(),o.on(a,n,!0)})}},{key:"emit",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){var s=o._events[a]||[],p=o._events[sP]||[],g=function(w){for(var C=w.length,z=0;z<C;z++)if(!!w[z]){var $=w[z],ee=$.callback,ae=$.once;ae&&(w.splice(z,1),w.length===0&&delete o._events[a],C--,z--),ee.apply(o,[n])}};g(s),g(p)})}},{key:"off",value:function(t,n){var o=this;return t||(this._events={}),t.split(",").forEach(function(a){if(!n)delete o._events[a];else{for(var s=o._events[a]||[],p=s.length,g=0;g<p;g++)s[g].callback===n&&(s.splice(g,1),p--,g--);s.length===0&&delete o._events[a]}}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function jn(e,r){return r*Math.round(e/r)||e}function zp(e,r){return e%r}function af(e,r){return hP(e)||pP(e,r)||dP(e,r)||cP()}function cP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dP(e,r){if(!!e){if(typeof e=="string")return Fp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fp(e,r)}}function Fp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function pP(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function hP(e){if(Array.isArray(e))return e}var uf=function(r,t,n){var o=af(r,2),a=o[0],s=o[1],p=af(t,2),g=p[0],E=p[1],w=af(n,2),C=w[0],z=w[1];return a>g&&a<C&&s>E&&s<z},Hp=function(r,t){var n=t.multipleSelectKey,o=!1;switch(n){case"meta":o=r.metaKey;break;case"alt":o=r.altKey;break;case"shift":o=r.shiftKey;break;default:o=!1;break}return o};i(79),i(161),i(125),i(80),i(30),i(12),i(13),i(14),i(47);var Na,vP=new Uint8Array(16);function yP(){if(!Na&&(Na=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Na))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Na(vP)}var gP=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function mP(e){return typeof e=="string"&&gP.test(e)}for(var bP=mP,Kt=[],lf=0;lf<256;++lf)Kt.push((lf+256).toString(16).substr(1));function OP(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Kt[e[r+0]]+Kt[e[r+1]]+Kt[e[r+2]]+Kt[e[r+3]]+"-"+Kt[e[r+4]]+Kt[e[r+5]]+"-"+Kt[e[r+6]]+Kt[e[r+7]]+"-"+Kt[e[r+8]]+Kt[e[r+9]]+"-"+Kt[e[r+10]]+Kt[e[r+11]]+Kt[e[r+12]]+Kt[e[r+13]]+Kt[e[r+14]]+Kt[e[r+15]]).toLowerCase();if(!bP(t))throw TypeError("Stringified UUID is invalid");return t}var EP=OP;function xP(e,r,t){e=e||{};var n=e.random||(e.rng||yP)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return EP(n)}var sf=xP,to=function(){var r=sf();return r},SP=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=r.nodes.reduce(function(o,a){return o[a.id]=t+sf(),a.id=o[a.id],o},{});return r.edges.forEach(function(o){o.id=t+sf(),o.sourceNodeId=n[o.sourceNodeId],o.targetNodeId=n[o.targetNodeId]}),r};i(104),i(203);var PP=function(r,t,n,o){var a=(t.y-r.y)*(o.x-n.x)-(r.x-t.x)*(n.y-o.y);if(a===0)return!1;var s=((t.x-r.x)*(o.x-n.x)*(n.y-r.y)+(t.y-r.y)*(o.x-n.x)*r.x-(o.y-n.y)*(t.x-r.x)*n.x)/a,p=-((t.y-r.y)*(o.y-n.y)*(n.x-r.x)+(t.x-r.x)*(o.y-n.y)*r.y-(o.x-n.x)*(t.y-r.y)*n.y)/a;return(s-r.x)*(s-t.x)<=0&&(p-r.y)*(p-t.y)<=0&&(s-n.x)*(s-o.x)<=0&&(p-n.y)*(p-o.y)<=0?{x:s,y:p}:!1},pi=function(r,t,n){var o=r.x,a=r.y;return(o-t.x)*(o-n.x)<=0&&(a-t.y)*(a-n.y)<=0};function Da(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Da=function(t){return typeof t}:Da=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Da(e)}function kp(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Gp(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?kp(Object(t),!0).forEach(function(n){TP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kp(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function TP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ff=function(r){var t=r.anchors;return t},ja=function(r,t){for(var n=t.nodes,o,a=n.length-1;a>=0;a--){var s=n[a],p=AP(r,s);if(p){var g=wP(r,s);if(g){var E={node:s,anchorIndex:g.index,anchor:g.anchor};(!o||MP(s,o.node,t))&&(o=E)}}}return o},MP=function(r,t,n){return r.zIndex>t.zIndex||n.nodesMap[r.id].index>n.nodesMap[t.id].index},wP=function(r,t){for(var n=ff(t),o,a=Number.MAX_SAFE_INTEGER,s=0;s<n.length;s++){var p=Yr(r.x,r.y,n[s].x,n[s].y);p<a&&(a=p,o={index:s,anchor:Gp(Gp({},n[s]),{},{x:n[s].x,y:n[s].y,id:n[s].id})})}return o},Yr=function(r,t,n,o){return Math.hypot(r-n,t-o)},Cn=function(r,t){var n=!1,o=0,a=br(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},AP=function(r,t){var n=!1,o=5,a=br(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},br=function(r){var t=r.x,n=r.y,o=r.width,a=r.height,s={minX:t-o/2,minY:n-a/2,maxX:t+o/2,maxY:n+a/2,x:t,y:n,width:o,height:a,centerX:t,centerY:n};return s},NP=function(r){var t=r,n=t.x,o=t.y,a=t.width,s=t.height,p=t.radius,g=[{x:n-a/2+p,y:o-s/2+p,r:p},{x:n+a/2-p,y:o-s/2+p,r:p},{x:n-a/2+p,y:o+s/2-p,r:p},{x:n+a/2-p,y:o+s/2-p,r:p}];return g},$p=function(r,t,n){var o=NP(n),a,s=Number.MAX_SAFE_INTEGER;o.forEach(function(g){var E=Yr(r.x,r.y,g.x,g.y);E<s&&(s=E,a=g)});var p=cf(r,t,a);return p},cf=function(r,t,n){var o,a=n,s=a.x,p=a.y,g=a.r;if(t===Dt.HORIZONTAL){var E=s-Math.sqrt(g*g-(r.y-p)*(r.y-p)),w=s+Math.sqrt(g*g-(r.y-p)*(r.y-p)),C=Math.abs(E-r.x)<Math.abs(w-r.x)?E:w;o={x:C,y:r.y}}else if(t===Dt.VERTICAL){var z=p-Math.sqrt(g*g-(r.x-s)*(r.x-s)),$=p+Math.sqrt(g*g-(r.x-s)*(r.x-s)),ee=Math.abs(z-r.y)<Math.abs($-r.y)?z:$;o={x:r.x,y:ee}}return o},Up=function(r,t){var n=t,o=!1,a={minX:n.x-n.width/2+n.radius,maxX:n.x+n.width/2-n.radius,minY:n.y-n.height/2+n.radius,maxY:n.y+n.height/2-n.radius},s=n.x,p=n.y,g=n.width,E=n.height;return r.y===p+E/2||r.y===p-E/2?o=r.x>a.minX&&r.x<a.maxX:(r.x===s+g/2||r.x===s-g/2)&&(o=r.y>a.minY&&r.y<a.maxY),o},Xp=function(r,t,n){var o,a=n,s=a.x,p=a.y,g=a.rx,E=a.ry;if(t===Dt.HORIZONTAL){var w=s-Math.sqrt(g*g-(r.y-p)*(r.y-p)*g*g/(E*E)),C=s+Math.sqrt(g*g-(r.y-p)*(r.y-p)*g*g/(E*E)),z=Math.abs(w-r.x)<Math.abs(C-r.x)?w:C;o={x:z,y:r.y}}else if(t===Dt.VERTICAL){var $=p-Math.sqrt(E*E-(r.x-s)*(r.x-s)*E*E/(g*g)),ee=p+Math.sqrt(E*E-(r.x-s)*(r.x-s)*E*E/(g*g)),ae=Math.abs($-r.y)<Math.abs(ee-r.y)?$:ee;o={x:r.x,y:ae}}return o},Ca=function(r,t,n){for(var o=n,a=o.pointsPosition,s=Number.MAX_SAFE_INTEGER,p,g=[],E=0;E<a.length;E++)g.push({start:a[E],end:a[(E+1)%a.length]});return g.forEach(function(w){var C=w.start,z=w.end,$=C,ee=z;C.x>z.x&&($=z,ee=C);var ae={x:r.x,y:r.y};if($.x===ee.x&&t===Dt.HORIZONTAL&&(ae={x:$.x,y:r.y}),$.y===ee.y&&t===Dt.VERTICAL&&(ae={x:r.x,y:$.y}),$.x!==ee.x&&$.y!==ee.y){var ue=(ee.y-$.y)/(ee.x-$.x),ce=($.x*ee.y-ee.x*$.y)/($.x-ee.x);t===Dt.HORIZONTAL?ae={x:(r.y-ce)/ue,y:r.y}:t===Dt.VERTICAL&&(ae={x:r.x,y:ue*r.x+ce})}var Ne=pi(ae,C,z);if(Ne){var Se=Yr(ae.x,ae.y,r.x,r.y);Se<s&&(s=Se,p=ae)}}),p},DP=function(r){var t=ci(r,["id","type","x","y","text","properties","virtual"]);return t},Yp=function(r,t,n,o){var a=r.x,s=r.y;return t.x>r.x?a=r.x+n/2:t.x<r.x&&(a=r.x-n/2),t.y>r.y?s=r.y+o/2:t.y<r.y&&(s=r.y-o/2),{x:a,y:s}},Vp=function(r){var t=r.rows,n=r.style,o=r.rowsLength,a=r.className,s=document.createElement("div");s.style.fontSize=n.fontSize,s.style.width=n.width,s.className=a,s.style.lineHeight=n.lineHeight,s.style.padding=n.padding,n.fontFamily&&(s.style.fontFamily=n.fontFamily),o>1?t.forEach(function(g){var E=document.createElement("div");E.textContent=g,s.appendChild(E)}):s.textContent=t,document.body.appendChild(s);var p=s.clientHeight;return document.body.removeChild(s),p},df=function(r){var t=r.rows,n=r.rowsLength,o=r.fontSize,a=0;return t&&t.forEach(function(s){var p=Lh(s);a=p>a?p:a}),{width:Math.ceil(a/2)*o+o/4,height:n*(o+2)+o/4}},Ra=function(r){return Da(r)!=="object"?{isAllPass:!!r,msg:r?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:r},Wp={node:!1,edge:!1},jP={node:!0,edge:!0},CP={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},er=function(r){try{return JSON.parse(JSON.stringify(r))}catch{return r}},RP=1e3,IP=999,pf=function(){return++RP},_P=function(){return--IP},xe,Kp,Zp,Jp,Qp,qp,eh,th,rh,nh,oh,ih,ah,uh,lh,sh,fh,ch,dh,ph;function hh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ir(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?hh(Object(t),!0).forEach(function(n){Or(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Gt(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function BP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LP(e,r,t){return r&&vh(e.prototype,r),t&&vh(e,t),e}function Or(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function nt(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var hf=(xe=function(){function e(r,t){BP(this,e),Or(this,"id",to()),Gt(this,"type",Kp,this),Gt(this,"sourceNodeId",Zp,this),Gt(this,"targetNodeId",Jp,this),Gt(this,"startPoint",Qp,this),Gt(this,"endPoint",qp,this),Gt(this,"text",eh,this),Gt(this,"properties",th,this),Gt(this,"points",rh,this),Gt(this,"pointsList",nh,this),Gt(this,"isSelected",oh,this),Gt(this,"isHovered",ih,this),Gt(this,"isHitable",ah,this),Gt(this,"draggable",uh,this),Gt(this,"visible",lh,this),Or(this,"virtual",!1),Gt(this,"isAnimation",sh,this),Or(this,"graphModel",void 0),Gt(this,"zIndex",fh,this),Or(this,"BaseType",kt.EDGE),Or(this,"modelType",pt.EDGE),Gt(this,"state",ch,this),Or(this,"additionStateData",void 0),Or(this,"sourceAnchorId",""),Or(this,"targetAnchorId",""),Or(this,"menu",void 0),Or(this,"customTextPosition",!1),Or(this,"animationData",CP),Gt(this,"style",dh,this),Gt(this,"arrowConfig",ph,this),this.graphModel=t,this.initEdgeData(r),this.setAttributes()}return LP(e,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}or(this,MT(t));var s=this.graphModel.overlapMode;s===mr.INCREASE&&(this.zIndex=t.zIndex||pf()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return Ir(Ir({},this.graphModel.theme.baseEdge),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return jt(t)}},{key:"getAnimation",value:function(){var t=this.animationData;return jt(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return jt(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel,n=t.theme.outline;return jt(n)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model}},{key:"targetNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,n){var o,a,s=ff(t);return s.forEach(function(p){var g=Hh(p,n);a?g<a&&(a=g,o=p):(a=g,o=p)}),o}},{key:"getEndAnchor",value:function(t){var n=this,o,a,s=ff(t);return s.forEach(function(p){var g=Hh(p,n.startPoint);a?g<a&&(a=g,o=p):(a=g,o=p)}),o}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,s={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(f.I)(this.properties)};return a&&(s.text={x:n,y:o,value:a}),this.graphModel.overlapMode===mr.INCREASE&&(s.zIndex=this.zIndex),s}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,n){this.properties[t]=er(n),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Ir(Ir({},this.properties),er(t)),this.setAttributes()}},{key:"changeEdgeId",value:function(t){var n=this.arrowConfig,o=n.markerEnd,a=n.markerStart;a&&a==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(t,")")),o&&o==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(t,")")),this.id=t}},{key:"setStyle",value:function(t,n){this.style=Ir(Ir({},this.style),{},Or({},t,er(n)))}},{key:"setStyles",value:function(t){this.style=Ir(Ir({},this.style),er(t))}},{key:"updateStyles",value:function(t){this.style=Ir({},er(t))}},{key:"formatText",value:function(t){var n=this.textPosition,o=n.x,a=n.y;if(!t.text||typeof t.text=="string"){this.text={value:t.text||"",x:o,y:a,draggable:this.text.draggable,editable:this.text.editable};return}Object.prototype.toString.call(t.text)==="[object Object]"&&(this.text={x:t.text.x||o,y:t.text.y||a,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable})}},{key:"resetTextPosition",value:function(){var t=this.textPosition,n=t.x,o=t.y;this.text.x=n,this.text.y=o}},{key:"moveText",value:function(t,n){if(this.text){var o=this.text,a=o.x,s=o.y,p=o.value,g=o.draggable,E=o.editable;this.text={value:p,draggable:g,x:a+t,y:s+n,editable:E}}}},{key:"setText",value:function(t){t&&or(this.text,t)}},{key:"updateText",value:function(t){this.text=Ir(Ir({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var n=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:n.x,y:n.y}),this.targetAnchorId||(this.targetAnchorId=n.id)}}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,n){this.startPoint.x+=t,this.startPoint.y+=n}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,n){this.endPoint.x+=t,this.endPoint.y+=n}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){or(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var n=t.startPoint,o=t.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:o.x,y:o.y})}}]),e}(),Kp=nt(xe.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zp=nt(xe.prototype,"sourceNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Jp=nt(xe.prototype,"targetNodeId",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qp=nt(xe.prototype,"startPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qp=nt(xe.prototype,"endPoint",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),eh=nt(xe.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),th=nt(xe.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),rh=nt(xe.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),nh=nt(xe.prototype,"pointsList",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oh=nt(xe.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ih=nt(xe.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ah=nt(xe.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uh=nt(xe.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),lh=nt(xe.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sh=nt(xe.prototype,"isAnimation",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fh=nt(xe.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ch=nt(xe.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),dh=nt(xe.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ph=nt(xe.prototype,"arrowConfig",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),nt(xe.prototype,"sourceNode",[f.m],Object.getOwnPropertyDescriptor(xe.prototype,"sourceNode"),xe.prototype),nt(xe.prototype,"targetNode",[f.m],Object.getOwnPropertyDescriptor(xe.prototype,"targetNode"),xe.prototype),nt(xe.prototype,"textPosition",[f.m],Object.getOwnPropertyDescriptor(xe.prototype,"textPosition"),xe.prototype),nt(xe.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"setProperty"),xe.prototype),nt(xe.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"deleteProperty"),xe.prototype),nt(xe.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"setProperties"),xe.prototype),nt(xe.prototype,"changeEdgeId",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"changeEdgeId"),xe.prototype),nt(xe.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"setStyle"),xe.prototype),nt(xe.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"setStyles"),xe.prototype),nt(xe.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"updateStyles"),xe.prototype),nt(xe.prototype,"formatText",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"formatText"),xe.prototype),nt(xe.prototype,"resetTextPosition",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"resetTextPosition"),xe.prototype),nt(xe.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveText"),xe.prototype),nt(xe.prototype,"setText",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"setText"),xe.prototype),nt(xe.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"updateText"),xe.prototype),nt(xe.prototype,"setAnchors",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"setAnchors"),xe.prototype),nt(xe.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"setSelected"),xe.prototype),nt(xe.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"setHovered"),xe.prototype),nt(xe.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"setHitable"),xe.prototype),nt(xe.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"openEdgeAnimation"),xe.prototype),nt(xe.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"closeEdgeAnimation"),xe.prototype),nt(xe.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"setElementState"),xe.prototype),nt(xe.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"updateStartPoint"),xe.prototype),nt(xe.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveStartPoint"),xe.prototype),nt(xe.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"updateEndPoint"),xe.prototype),nt(xe.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"moveEndPoint"),xe.prototype),nt(xe.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"setZIndex"),xe.prototype),nt(xe.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"initPoints"),xe.prototype),nt(xe.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"updateAttributes"),xe.prototype),nt(xe.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"getAdjustStart"),xe.prototype),nt(xe.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"getAdjustEnd"),xe.prototype),nt(xe.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(xe.prototype,"updateAfterAdjustStartAndEnd"),xe.prototype),xe),vf=hf;function Ia(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ia=function(t){return typeof t}:Ia=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ia(e)}function yh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function gh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?yh(Object(t),!0).forEach(function(n){Oh(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function zP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FP(e,r,t){return r&&mh(e.prototype,r),t&&mh(e,t),e}function _a(){return typeof Reflect<"u"&&Reflect.get?_a=Reflect.get:_a=function(r,t,n){var o=HP(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},_a.apply(this,arguments)}function HP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Mo(e),e!==null););return e}function kP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&yf(e,r)}function yf(e,r){return yf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},yf(e,r)}function GP(e){var r=UP();return function(){var n=Mo(e),o;if(r){var a=Mo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return $P(this,o)}}function $P(e,r){if(r&&(Ia(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bh(e)}function bh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mo(e){return Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Mo(e)}function Oh(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var gf=function(e){kP(t,e);var r=GP(t);function t(){var n;zP(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Oh(bh(n),"modelType",pt.LINE_EDGE),n}return FP(t,[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line,a=_a(Mo(t.prototype),"getEdgeStyle",this).call(this);return gh(gh({},a),jt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(vf);function Ba(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ba=function(t){return typeof t}:Ba=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ba(e)}var ut,Eh;function XP(e,r){return KP(e)||WP(e,r)||VP(e,r)||YP()}function YP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VP(e,r){if(!!e){if(typeof e=="string")return xh(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xh(e,r)}}function xh(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function WP(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function KP(e){if(Array.isArray(e))return e}function Sh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ph(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Sh(Object(t),!0).forEach(function(n){bf(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ZP(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function JP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Th(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function QP(e,r,t){return r&&Th(e.prototype,r),t&&Th(e,t),e}function wo(){return typeof Reflect<"u"&&Reflect.get?wo=Reflect.get:wo=function(r,t,n){var o=qP(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},wo.apply(this,arguments)}function qP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Rn(e),e!==null););return e}function eT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&mf(e,r)}function mf(e,r){return mf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},mf(e,r)}function tT(e){var r=nT();return function(){var n=Rn(e),o;if(r){var a=Rn(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return rT(this,o)}}function rT(e,r){if(r&&(Ba(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hi(e)}function hi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rn(e){return Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rn(e)}function bf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ir(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Of=(ut=function(e){eT(t,e);var r=tT(t);function t(){var n;JP(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),bf(hi(n),"modelType",pt.POLYLINE_EDGE),bf(hi(n),"draginngPointList",void 0),ZP(hi(n),"dbClickPosition",Eh,hi(n)),n}return QP(t,[{key:"initEdgeData",value:function(o){this.offset=30,wo(Rn(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline,a=wo(Rn(t.prototype),"getEdgeStyle",this).call(this);return Ph(Ph({},a),jt(o))}},{key:"getTextPosition",value:function(){var o,a=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!a){var s=this.dbClickPosition,p=s.x,g=s.y;return{x:p,y:g}}var E=Ao(this.points),w=xT(E),C=XP(w,2),z=C[0],$=C[1];return{x:(z.x+$.x)/2,y:(z.y+$.y)/2}}},{key:"getAfterAnchor",value:function(o,a,s){var p,g;return s.forEach(function(E){var w;o===Dt.HORIZONTAL?w=Math.abs(a.y-E.y):o===Dt.VERTICAL&&(w=Math.abs(a.x-E.x)),(!g||g>w)&&(g=w,p=E)}),p}},{key:"getCorssPoint",value:function(o,a,s){var p;return o===Dt.HORIZONTAL?p={x:s.x,y:a.y}:o===Dt.VERTICAL&&(p={x:a.x,y:s.y}),p}},{key:"removeCrossPoints",value:function(o,a,s){var p=s.map(function(Re){return Re});if(o===1){var g=p[o],E=p[a],w=p[o-1],C=Rh(w,g,this.sourceNode);if(C){var z=Ih(g,E,this.sourceNode);if(z){var $=_h(g,E,this.sourceNode);$&&(p[o]=$,p.splice(o-1,1),o--,a--)}}else{var ee=this.sourceNode.anchors;ee.forEach(function(Re){if(Re.x===w.x&&Re.x===g.x||Re.y===w.y&&Re.y===g.y){var et=Yr(Re.x,Re.y,g.x,g.y),ke=Yr(w.x,w.y,g.x,g.y);et<ke&&(p[o-1]=Re)}})}}if(a===s.length-2){var ae=p[o],ue=p[a],ce=p[a+1],Ne=Rh(ue,ce,this.targetNode);if(Ne){var Se=Ih(ae,ue,this.targetNode);if(Se){var Te=_h(ae,ue,this.targetNode);Te&&(p[a]=Te,p.splice(a+1,1))}}else{var He=this.targetNode.anchors;He.forEach(function(Re){if(Re.x===ce.x&&Re.x===ue.x||Re.y===ce.y&&Re.y===ue.y){var et=Yr(Re.x,Re.y,ue.x,ue.y),ke=Yr(ce.x,ce.y,ue.x,ue.y);et<ke&&(p[a+1]=Re)}})}}return p}},{key:"getDragingPoints",value:function(o,a,s,p,g){var E=g.map(function(z){return z}),w=this.getAfterAnchor(o,s,p),C=this.getCorssPoint(o,s,w);return a==="start"?(E.unshift(C),E.unshift(w)):(E.push(C),E.push(w)),E}},{key:"updateCrossPoints",value:function(o){var a=o.map(function(Te){return Te}),s=o[0],p=o[1],g=o[a.length-2],E=o[a.length-1],w=this.sourceNode,C=this.targetNode,z=w.modelType,$=C.modelType,ee=$a(s,p),ae=a[0];switch(z){case pt.RECT_NODE:if(w.radius!==0){var ue=Up(s,w);ue||(ae=$p(s,ee,w))}break;case pt.CIRCLE_NODE:ae=cf(s,ee,w);break;case pt.ELLIPSE_NODE:ae=Xp(s,ee,w);break;case pt.DIAMOND_NODE:ae=Ca(s,ee,w);break;case pt.POLYGON_NODE:ae=Ca(s,ee,w);break}a[0]=ae;var ce=$a(g,E),Ne=a[a.length-1];switch($){case pt.RECT_NODE:if(C.radius!==0){var Se=Up(E,C);Se||(Ne=$p(E,ce,C))}break;case pt.CIRCLE_NODE:Ne=cf(E,ce,C);break;case pt.ELLIPSE_NODE:Ne=Xp(E,ce,C);break;case pt.DIAMOND_NODE:Ne=Ca(E,ce,C);break;case pt.POLYGON_NODE:Ne=Ca(E,ce,C);break}return a[a.length-1]=Ne,a}},{key:"getData",value:function(){var o=wo(Rn(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(s){var p=s.x,g=s.y;return{x:p,y:g}});return Object.assign({},o,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Ch({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,a){this.isDragging=!0;var s=o.start,p=o.end,g=o.startIndex,E=o.endIndex,w=o.direction,C=this.pointsList,z=C;return w===Dt.HORIZONTAL?(C[g]={x:s.x,y:s.y+a.y},C[E]={x:p.x,y:p.y+a.y},z=this.pointsList.map(function($){return $})):w===Dt.VERTICAL&&(C[g]={x:s.x+a.x,y:s.y},C[E]={x:p.x+a.x,y:p.y},z=this.pointsList.map(function($){return $})),this.updatePointsAfterDrage(z),this.draginngPointList=z,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},C[g]),end:Object.assign({},C[E]),startIndex:g,endIndex:E,direction:w}}},{key:"dragAppend",value:function(o,a){this.isDragging=!0;var s=o.start,p=o.end,g=o.startIndex,E=o.endIndex,w=o.direction,C=this.pointsList;if(w===Dt.HORIZONTAL){C[g]={x:s.x,y:s.y+a.y},C[E]={x:p.x,y:p.y+a.y};var z=this.pointsList.map(function(yt){return yt});if(g!==0&&E!==this.pointsList.length-1&&(z=this.removeCrossPoints(g,E,z)),g===0){var $={x:s.x,y:s.y+a.y},ee=Cn($,this.sourceNode);if(!ee){var ae=this.sourceNode.anchors;z=this.getDragingPoints(w,"start",$,ae,z)}}if(E===this.pointsList.length-1){var ue={x:p.x,y:p.y+a.y},ce=Cn(ue,this.targetNode);if(!ce){var Ne=this.targetNode.anchors;z=this.getDragingPoints(w,"end",ue,Ne,z)}}z=Tf(z),this.updatePointsAfterDrage(z),this.draginngPointList=z}else if(w===Dt.VERTICAL){C[g]={x:s.x+a.x,y:s.y},C[E]={x:p.x+a.x,y:p.y};var Se=this.pointsList.map(function(yt){return yt});if(g!==0&&E!==this.pointsList.length-1&&(Se=this.removeCrossPoints(g,E,Se)),g===0){var Te={x:s.x+a.x,y:s.y},He=Cn(Te,this.sourceNode);if(!He){var Re=this.sourceNode.anchors;Se=this.getDragingPoints(w,"start",Te,Re,Se)}}if(E===this.pointsList.length-1){var et={x:p.x+a.x,y:p.y},ke=Cn(et,this.targetNode);if(!ke){var ht=this.targetNode.anchors;Se=this.getDragingPoints(w,"end",et,ht,Se)}}Se=Tf(Se),this.updatePointsAfterDrage(Se),this.draginngPointList=Se}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},C[g]),end:Object.assign({},C[E]),startIndex:g,endIndex:E,direction:w}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=Ao(this.points);this.pointsList=o.map(function(p){return p}),this.draginngPointList=[];var a=o[0];this.startPoint=Object.assign({},a);var s=o[o.length-1];this.endPoint=Object.assign({},s)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(o){var a=this.updateCrossPoints(o);this.points=a.map(function(s){return"".concat(s.x,",").concat(s.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,s=o.endPoint,p=o.sourceNode,g=o.targetNode,E=Ch({x:a.x,y:a.y},{x:s.x,y:s.y},p,g,this.offset||0);this.pointsList=E,this.initPoints()}}]),t}(vf),Eh=ir(ut.prototype,"dbClickPosition",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir(ut.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"initPoints"),ut.prototype),ir(ut.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"updatePoints"),ut.prototype),ir(ut.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateStartPoint"),ut.prototype),ir(ut.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"moveStartPoint"),ut.prototype),ir(ut.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateEndPoint"),ut.prototype),ir(ut.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"moveEndPoint"),ut.prototype),ir(ut.prototype,"dragAppendStart",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendStart"),ut.prototype),ir(ut.prototype,"dragAppendSimple",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendSimple"),ut.prototype),ir(ut.prototype,"dragAppend",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppend"),ut.prototype),ir(ut.prototype,"dragAppendEnd",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendEnd"),ut.prototype),ir(ut.prototype,"updatePointsAfterDrage",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"updatePointsAfterDrage"),ut.prototype),ir(ut.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"getAdjustStart"),ut.prototype),ir(ut.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"getAdjustEnd"),ut.prototype),ir(ut.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateAfterAdjustStartAndEnd"),ut.prototype),ut),vi=function(r){var t=r.start,n=r.end,o=r.offset,a=r.verticalLength,s=r.type,p={leftX:0,leftY:0,rightX:0,rightY:0},g=Math.atan((n.y-t.y)/(n.x-t.x)),E=Math.atan(o/a),w=Math.sqrt(a*a+o*o);return s==="start"?n.x>=t.x?(p.leftX=t.x+w*Math.sin(g+E),p.leftY=t.y-w*Math.cos(g+E),p.rightX=t.x-w*Math.sin(g-E),p.rightY=t.y+w*Math.cos(g-E)):(p.leftX=t.x-w*Math.sin(g+E),p.leftY=t.y+w*Math.cos(g+E),p.rightX=t.x+w*Math.sin(g-E),p.rightY=t.y-w*Math.cos(g-E)):s==="end"&&(n.x>=t.x?(p.leftX=n.x+w*Math.sin(g-E),p.leftY=n.y-w*Math.cos(g-E),p.rightX=n.x-w*Math.sin(g+E),p.rightY=n.y+w*Math.cos(g+E)):(p.leftX=n.x-w*Math.sin(g-E),p.leftY=n.y+w*Math.cos(g-E),p.rightX=n.x+w*Math.sin(g+E),p.rightY=n.y-w*Math.cos(g+E))),p};function Mh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function La(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Mh(Object(t),!0).forEach(function(n){oT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function oT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function iT(e){return lT(e)||uT(e)||wh(e)||aT()}function aT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lT(e){if(Array.isArray(e))return xf(e)}function za(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?za=function(t){return typeof t}:za=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}function Ef(e,r){return cT(e)||fT(e,r)||wh(e,r)||sT()}function sT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wh(e,r){if(!!e){if(typeof e=="string")return xf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xf(e,r)}}function xf(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function fT(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function cT(e){if(Array.isArray(e))return e}var dT=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},Sf=function(r){var t=[],n={};return r.forEach(function(o){var a="".concat(o.x,"-").concat(o.y);o.id=a,n[a]=o}),Object.keys(n).forEach(function(o){t.push(n[o])}),t},Fa=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},pT=function(r,t){var n=Math.abs(r.x-t.centerX),o=Math.abs(r.y-t.centerY);return n/t.width>o/t.height?Dt.HORIZONTAL:Dt.VERTICAL},Ha=function(r,t){var n=pT(t,r);return n===Dt.HORIZONTAL?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},Ah=function(r,t){var n=Math.min(r.minX,t.minX),o=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),s=Math.max(r.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(o+s)/2,minX:n,minY:o,maxX:a,maxY:s,height:s-o,width:a-n}},yi=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],o=[];r.forEach(function(C){n.push(C.x),o.push(C.y)});var a=Math.min.apply(Math,n),s=Math.max.apply(Math,n),p=Math.min.apply(Math,o),g=Math.max.apply(Math,o),E=s-a,w=g-p;return t&&(E+=t,w+=t),{centerX:(a+s)/2,centerY:(p+g)/2,maxX:s,maxY:g,minX:a,minY:p,x:(a+s)/2,y:(p+g)/2,height:w,width:E}},ka=function(r){var t=r.minX,n=r.minY,o=r.maxX,a=r.maxY;return[{x:t,y:n},{x:o,y:n},{x:o,y:a},{x:t,y:a}]},Ga=function(r,t){var n=r.x,o=r.y;return n<t.minX||n>t.maxX||o<t.minY||o>t.maxY},hT=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},vT=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},yT=function(r,t){return hT(r,t.x).concat(vT(r,t.y))},Pf=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},gT=function(r,t){var n=-2,o=0;return t.forEach(function(a){a&&(r.x===a.x&&(o+=n),r.y===a.y&&(o+=n))}),o},Nh=function(r,t,n,o,a){return Pf(r,t)+Pf(r,n)+gT(r,[t,n,o,a])},mT=function e(r,t,n,o,a){a||(a=0),r.unshift(t[o]),n[o]&&n[o]!==o&&a<=100&&e(r,t,n,n[o],a+1)},bT=function(r,t){var n=r.indexOf(t);n>-1&&r.splice(n,1)},gi=function(r,t,n,o){var a=t.x-r.x,s=t.y-r.y,p=o.x-n.x,g=o.y-n.y,E=(-s*(r.x-n.x)+a*(r.y-n.y))/(-p*s+a*g),w=(p*(r.y-n.y)-g*(r.x-n.x))/(-p*s+a*g);return E>=0&&E<=1&&w>=0&&w<=1},Dh=function(r,t,n){if(n.width===0&&n.height===0)return!1;var o=ka(n),a=Ef(o,4),s=a[0],p=a[1],g=a[2],E=a[3];return gi(r,t,s,p)||gi(r,t,s,E)||gi(r,t,p,g)||gi(r,t,g,E)},OT=function(r,t,n,o){var a=[];return r.forEach(function(s){s!==t&&(s.x===t.x||s.y===t.y)&&!Dh(s,t,n)&&!Dh(s,t,o)&&a.push(s)}),Sf(a)},ET=function(r,t,n,o,a,s,p){var g=[],E=[t],w={},C={},z={};C[t.id]=0,z[t.id]=Nh(t,n,t);var $={};r.forEach(function(ue){$[ue.id]=ue});for(var ee=function(){var ce=void 0,Ne=1/0;if(E.forEach(function(Te){z[Te.id]<Ne&&(Ne=z[Te.id],ce=Te)}),ce===n){var Se=[];return mT(Se,$,w,n.id),{v:Se}}bT(E,ce),g.push(ce),OT(r,ce,o,a).forEach(function(Te){if(g.indexOf(Te)===-1){E.indexOf(Te)===-1&&E.push(Te);var He=z[ce.id]+Pf(ce,Te);C[Te.id]&&He>=C[Te.id]||(w[Te.id]=ce.id,C[Te.id]=He,z[Te.id]=C[Te.id]+Nh(Te,n,t,s,p))}})};E.length;){var ae=ee();if(za(ae)==="object")return ae.v}return[t,n]},jh=function(r){var t=br(r);return t},Tf=function(r){for(var t=r,n=1;n<t.length-1;){var o=t[n-1],a=t[n],s=t[n+1];o.x===a.x&&a.x===s.x||o.y===a.y&&a.y===s.y?t.splice(n,1):n++}return t},Ch=function(r,t,n,o,a){var s=jh(n),p=jh(o),g=Fa(s,a),E=Fa(p,a),w=Ha(g,r),C=Ha(E,t);if(dT(g,E)){var z=ST(r,t,w,C);return[r,w].concat(iT(z),[C,t])}var $=yi([w,C]),ee=Ah(g,$),ae=Ah(E,$),ue=[];ue=ue.concat(ka(ee)),ue=ue.concat(ka(ae));var ce={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[$,ee,ae].forEach(function(Se){ue=ue.concat(yT(Se,ce).filter(function(Te){return Ga(Te,g)&&Ga(Te,E)}))}),[{x:w.x,y:C.y},{x:C.x,y:w.y}].forEach(function(Se){Ga(Se,g)&&Ga(Se,E)&&ue.push(Se)}),ue.unshift(w),ue.push(C),ue=Sf(ue);var Ne=ET(ue,w,C,s,p,r,t);return Ne.unshift(r),Ne.push(t),Ne.length>2&&(Ne=Tf(Ne)),Sf(Ne)},xT=function(r){var t;if(r.length===1)t=[r[0],r[0]];else if(r.length>=2){for(var n=r[0],o=r[1],a=Yr(n.x,n.y,o.x,o.y),s=1;s<r.length-1;s++){var p=r[s],g=r[s+1],E=Yr(p.x,p.y,g.x,g.y);E>a&&(a=E,n=p,o=g)}t=[n,o]}return t},Rh=function(r,t,n){var o=Cn(r,n),a=Cn(t,n);return o&&a},Ih=function(r,t,n){var o=Cn(r,n),a=Cn(t,n),s=o&&a,p=o||a;return!s&&p},_h=function(r,t,n){for(var o,a,s=br(n),p=ka(s),g=0;g<p.length;g++){var E=gi(r,t,p[g],p[(g+1)%p.length]);E&&(a=[p[g],p[(g+1)%p.length]])}return a&&(o=PP(r,t,a[0],a[1])),o},$a=function(r,t){var n;return r.x===t.x?n=Dt.VERTICAL:r.y===t.y&&(n=Dt.HORIZONTAL),n},Ao=function(r){var t=r.split(" "),n=[];return t&&t.forEach(function(o){var a=o.split(","),s=Ef(a,2),p=s[0],g=s[1];n.push({x:Number(p),y:Number(g)})}),n},ST=function(r,t,n,o){var a=[],s=$a(r,n),p=$a(t,o);if(s===p)r.y===n.y?(a.push({x:n.x,y:(n.y+o.y)/2}),a.push({x:o.x,y:(n.y+o.y)/2})):(a.push({x:(n.x+o.x)/2,y:n.y}),a.push({x:(n.x+o.x)/2,y:o.y}));else{var g={x:n.x,y:o.y},E=pi(g,r,n),w=pi(g,t,o);if(E||w)g={x:o.x,y:n.y};else{var C=Bh(g,r,n),z=Bh(g,t,o);C&&z&&(g={x:o.x,y:n.y})}a.push(g)}return a},Bh=function(r,t,n){return r.x===t.x&&r.x===n.x||r.y===t.y&&r.y===n.y},Lh=function(r){if(!r)return 0;for(var t=0,n=0;n<r.length;n++){var o=r.charCodeAt(n);r.match(/[A-Z]/)?t+=1.5:o>=1&&o<=126||o>=65376&&o<=65439?t+=1:t+=2}return t},PT=function(r){var t=r.start,n=r.end,o;if(t.x===n.x&&t.y===n.y)o="";else{var a={start:t,end:n,offset:10,verticalLength:5},s=vi(La(La({},a),{},{type:"start"})),p=vi(La(La({},a),{},{type:"end"}));o="M".concat(s.leftX," ").concat(s.leftY,` 
    L`).concat(s.rightX," ").concat(s.rightY,` 
    L`).concat(p.rightX," ").concat(p.rightY,`
    L`).concat(p.leftX," ").concat(p.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},zh=function(r){var t=r.start,n=r.end,o=r.sourceNode,a=r.targetNode,s=r.offset,p=br(o),g=br(a),E=Fa(p,s),w=Fa(g,s),C=Ha(E,t),z=Ha(w,n);return{sNext:C,ePre:z}},Ua=function(r){var t=r.replace(/M/g,"").replace(/C/g,",").split(","),n=Xa(t[0]),o=Xa(t[1]),a=Xa(t[2]),s=Xa(t[3]);return[n,o,a,s]},Xa=function(r){var t=r.replace(/(^\s*)/g,"").split(" "),n=Ef(t,2),o=n[0],a=n[1];return{x:+o,y:+a}},TT=function(r){var t=Ua(r);return[t[2],t[3]]},Fh=function(r,t){for(var n=r.x,o=r.y,a=Ao(t),s=Number.MAX_SAFE_INTEGER,p,g=[],E=0;E<a.length;E++)g.push({start:a[E],end:a[(E+1)%a.length]});if(g.forEach(function($){var ee=$.start,ae=$.end;if(ee.x===ae.x){var ue={x:ee.x,y:o},ce=pi(ue,ee,ae);if(ce){var Ne=Math.abs(ee.x-n);Ne<s&&(s=Ne,p=ue)}}else if(ee.y===ae.y){var Se={x:n,y:ee.y},Te=pi(Se,ee,ae);if(Te){var He=Math.abs(ee.y-o);He<s&&(s=He,p=Se)}}}),!p){var w=g[0],C=w.start,z=w.end;p={x:C.x+(z.x-C.x)/2,y:C.y+(z.y-C.y)/2}}return p},MT=function(r){return ci(r,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Hh=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))};function wT(e,r){return typeof r!="function"?function(t,n,o){return Object.assign({type:e.edgeType},o)}:function(t,n,o){var a=r(t,n,o);return a?typeof a=="string"?Object.assign({},o,{type:a}):Object.assign({type:a},o):{type:e.edgeType}}}i(204);function AT(){}var No=AT;function NT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function kh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DT(e,r,t){return r&&kh(e.prototype,r),t&&kh(e,t),e}function Ft(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Vr=window.document,Gh=0;function Mf(e){var r=e.onDragStart,t=r===void 0?No:r,n=e.onDraging,o=n===void 0?No:n,a=e.onDragEnd,s=a===void 0?No:a,p=e.step,g=p===void 0?1:p,E=e.isStopPropagation,w=E===void 0?!0:E,C=!1,z=!1,$=0,ee=0,ae=0,ue=0;function ce(Te){if(w&&Te.stopPropagation(),!!z&&(C=!0,ae+=Te.clientX-$,ue+=Te.clientY-ee,$=Te.clientX,ee=Te.clientY,Math.abs(ae)>g||Math.abs(ue)>g)){var He=ae%g,Re=ue%g,et=ae-He,ke=ue-Re;ae=He,ue=Re,o({deltaX:et,deltaY:ke,event:Te})}}function Ne(Te){if(w&&Te.stopPropagation(),z=!1,Vr.removeEventListener("mousemove",ce,!1),Vr.removeEventListener("mouseup",Ne,!1),!!C)return C=!1,s({event:Te})}function Se(Te){if(Te.button===Gh)return w&&Te.stopPropagation(),z=!0,$=Te.clientX,ee=Te.clientY,Vr.addEventListener("mousemove",ce,!1),Vr.addEventListener("mouseup",Ne,!1),t({event:Te})}return Se}var ro=function(){function e(r){var t=this,n=r.onDragStart,o=n===void 0?No:n,a=r.onDraging,s=a===void 0?No:a,p=r.onDragEnd,g=p===void 0?No:p,E=r.eventType,w=E===void 0?"":E,C=r.eventCenter,z=C===void 0?null:C,$=r.step,ee=$===void 0?1:$,ae=r.isStopPropagation,ue=ae===void 0?!0:ae,ce=r.model,Ne=ce===void 0?null:ce;NT(this,e),Ft(this,"onDragStart",void 0),Ft(this,"onDraging",void 0),Ft(this,"onDragEnd",void 0),Ft(this,"step",void 0),Ft(this,"isStopPropagation",void 0),Ft(this,"isDraging",!1),Ft(this,"isStartDraging",!1),Ft(this,"startX",0),Ft(this,"startY",0),Ft(this,"sumDeltaX",0),Ft(this,"sumDeltaY",0),Ft(this,"eventType",void 0),Ft(this,"eventCenter",void 0),Ft(this,"model",void 0),Ft(this,"startTime",void 0),Ft(this,"isGrag",void 0),Ft(this,"handleMouseDown",function(Se){var Te,He;if(Se.button===Gh){t.isStopPropagation&&Se.stopPropagation(),t.isStartDraging=!0,t.startX=Se.clientX,t.startY=Se.clientY,Vr.addEventListener("mousemove",t.handleMouseMove,!1),Vr.addEventListener("mouseup",t.handleMouseUp,!1);var Re=(Te=t.model)===null||Te===void 0?void 0:Te.getData();(He=t.eventCenter)===null||He===void 0||He.emit(at["".concat(t.eventType,"_MOUSEDOWN")],{e:Se,data:Re}),t.startTime=new Date().getTime()}}),Ft(this,"handleMouseMove",function(Se){if(t.isStopPropagation&&Se.stopPropagation(),!!t.isStartDraging&&(t.sumDeltaX+=Se.clientX-t.startX,t.sumDeltaY+=Se.clientY-t.startY,t.startX=Se.clientX,t.startY=Se.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var Te,He=t.sumDeltaX%t.step,Re=t.sumDeltaY%t.step,et=t.sumDeltaX-He,ke=t.sumDeltaY-Re;t.sumDeltaX=He,t.sumDeltaY=Re;var ht=(Te=t.model)===null||Te===void 0?void 0:Te.getData();if(!t.isDraging){var yt;(yt=t.eventCenter)===null||yt===void 0||yt.emit(at["".concat(t.eventType,"_DRAGSTART")],{e:Se,data:ht}),t.onDragStart({event:Se})}t.isDraging=!0,Promise.resolve().then(function(){var lr,Er;t.onDraging({deltaX:et,deltaY:ke,event:Se}),(lr=t.eventCenter)===null||lr===void 0||lr.emit(at["".concat(t.eventType,"_MOUSEMOVE")],{e:Se,data:ht}),(Er=t.eventCenter)===null||Er===void 0||Er.emit(at["".concat(t.eventType,"_DRAG")],{e:Se,data:ht})})}}),Ft(this,"handleMouseUp",function(Se){t.isStartDraging=!1,t.isStopPropagation&&Se.stopPropagation(),Promise.resolve().then(function(){var Te,He,Re;Vr.removeEventListener("mousemove",t.handleMouseMove,!1),Vr.removeEventListener("mouseup",t.handleMouseUp,!1);var et=(Te=t.model)===null||Te===void 0?void 0:Te.getData();(He=t.eventCenter)===null||He===void 0||He.emit(at["".concat(t.eventType,"_MOUSEUP")],{e:Se,data:et}),t.isDraging&&(t.isDraging=!1,t.onDragEnd({event:Se}),(Re=t.eventCenter)===null||Re===void 0||Re.emit(at["".concat(t.eventType,"_DROP")],{e:Se,data:et}))})}),Ft(this,"cancelDrag",function(){Vr.removeEventListener("mousemove",t.handleMouseMove,!1),Vr.removeEventListener("mouseup",t.handleMouseUp,!1),t.onDragEnd({event:null}),t.isDraging=!1}),this.onDragStart=o,this.onDraging=s,this.onDragEnd=g,this.step=ee,this.isStopPropagation=ue,this.eventType=w,this.eventCenter=z,this.model=Ne}return DT(e,[{key:"setStep",value:function(t){this.step=t}}]),e}(),jT=function(r){return!r||typeof r=="boolean"?jt(r===!0?jP:Wp):_p(jt(Wp),r)},he,$h,Uh,Xh,Yh,Vh,Wh,Kh,Zh,Jh,Qh,qh,ev;function tv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ya(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?tv(Object(t),!0).forEach(function(n){Wr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function wf(e,r){return IT(e)||RT(e,r)||rv(e,r)||CT()}function CT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RT(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function IT(e){if(Array.isArray(e))return e}function Do(e){return LT(e)||BT(e)||rv(e)||_T()}function _T(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rv(e,r){if(!!e){if(typeof e=="string")return Af(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Af(e,r)}}function BT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LT(e){if(Array.isArray(e))return Af(e)}function Af(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function mi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mi=function(t){return typeof t}:mi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mi(e)}function Ar(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function zT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function nv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FT(e,r,t){return r&&nv(e.prototype,r),t&&nv(e,t),e}function Wr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ze(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Va=200,ov=(he=function(){function e(r){zT(this,e),Wr(this,"rootEl",void 0),Ar(this,"width",$h,this),Ar(this,"height",Uh,this),Wr(this,"theme",void 0),Wr(this,"eventCenter",void 0),Wr(this,"modelMap",new Map),Wr(this,"topElement",void 0),Wr(this,"animation",void 0),Wr(this,"idGenerator",void 0),Wr(this,"edgeGenerator",void 0),Wr(this,"nodeMoveRules",[]),Ar(this,"edgeType",Xh,this),Ar(this,"nodes",Yh,this),Ar(this,"edges",Vh,this),Ar(this,"overlapMode",Wh,this),Ar(this,"background",Kh,this),Ar(this,"transformModel",Zh,this),Ar(this,"editConfigModel",Jh,this),Ar(this,"gridSize",Qh,this),Ar(this,"partial",qh,this),Ar(this,"fakerNode",ev,this);var t=r.container,n=r.background,o=n===void 0?{}:n,a=r.grid,s=r.idGenerator,p=r.edgeGenerator,g=r.animation;this.background=o,mi(a)==="object"&&(this.gridSize=a.size),this.rootEl=t,this.editConfigModel=new lp(r),this.eventCenter=new fP,this.transformModel=new Kx(this.eventCenter),this.theme=Bp(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=jT(g),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=s,this.edgeGenerator=wT(this,p),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height}return FT(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"modelsMap",get:function(){return[].concat(Do(this.nodes),Do(this.edges)).reduce(function(t,n){return t[n.id]=n,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(w){return t.push(w)}),this.edges.forEach(function(w){return t.push(w)}),t=t.sort(function(w,C){return w.zIndex-C.zIndex});for(var n=[],o=-1,a=[-Va,-Va],s=[this.width+Va,this.height+Va],p=0;p<t.length;p++){var g=t[p];g.visible&&(!this.partial||g.isSelected||this.isElementInArea(g,a,s,!1,!1))&&(g.zIndex===fp&&(o=n.length),n.push(g))}if(o!==-1){var E=n[n.length-1];n[n.length-1]=n[o],n[o]=E}return n}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(o){return o.state===Et.TEXT_EDIT}),n=this.edges.find(function(o){return o.state===Et.TEXT_EDIT});return t||n}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(n){n.isSelected&&t.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&t.set(n.id,n)}),t}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,p=[],g=[];this.nodes.forEach(function(C){return g.push(C)}),this.edges.forEach(function(C){return g.push(C)});for(var E=0;E<g.length;E++){var w=g[E];(!s||w.visible)&&this.isElementInArea(w,t,n,o,a)&&p.push(w)}return p}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var n;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:(n=this.nodesMap[t])===null||n===void 0?void 0:n.model}},{key:"getPointByClient",value:function(t){var n=t.x,o=t.y,a=this.rootEl.getBoundingClientRect(),s={x:n-a.left,y:o-a.top},p=this.transformModel.HtmlPointToCanvasPoint([s.x,s.y]),g=wf(p,2),E=g[0],w=g[1];return{domOverlayPosition:s,canvasOverlayPosition:{x:E,y:w}}}},{key:"isElementInArea",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(t.BaseType===kt.NODE){t=t;for(var p=br(t),g=p.minX,E=p.minY,w=p.maxX,C=p.maxY,z=[{x:g,y:E},{x:w,y:E},{x:w,y:C},{x:g,y:C}],$=s,ee=0;ee<z.length;ee++){var ae=z[ee],ue=ae.x,ce=ae.y,Ne=this.transformModel.CanvasPointToHtmlPoint([ue,ce]),Se=wf(Ne,2);if(ue=Se[0],ce=Se[1],uf([ue,ce],n,o)!==s){$=!s;break}}return $}if(t.BaseType===kt.EDGE){t=t;var Te=t,He=Te.startPoint,Re=Te.endPoint,et=this.transformModel.CanvasPointToHtmlPoint([He.x,He.y]),ke=this.transformModel.CanvasPointToHtmlPoint([Re.x,Re.y]),ht=uf(et,n,o),yt=uf(ke,n,o);return a?ht&&yt:ht||yt}return!1}},{key:"graphDataToModel",value:function(t){var n=this;(!this.width||!this.height)&&this.resize(),this.nodes=Pa(t.nodes,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var s=o.x,p=o.y;return s&&p&&(o.x=jn(s,n.gridSize),o.y=jn(p,n.gridSize),mi(o.text)==="object"&&(o.text.x-=zp(s,n.gridSize),o.text.y-=zp(p,n.gridSize))),new a(o,n)}),this.edges=Pa(t.edges,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(o,n)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(o){var a=o.getData();a&&!o.virtual&&t.push(a)});var n=[];return this.nodes.forEach(function(o){var a=o.getData();a&&!o.virtual&&n.push(a)}),{nodes:n,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,n=[],o=0;o<this.nodes.length;o++){var a=this.nodes[o];if(a.isDragging){t=!0;break}else n.push(a.getHistoryData())}if(t)return!1;for(var s=!1,p=[],g=0;g<this.edges.length;g++){var E=this.edges[g];if(E.isDragging){s=!0;break}else p.push(E.getHistoryData())}return s?!1:{nodes:n,edges:p}}},{key:"getEdgeModelById",value:function(t){var n;return(n=this.edgesMap[t])===null||n===void 0?void 0:n.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var n=[],o=0;o<this.edges.length;o++){var a=this.edges[o],s=this.edges[o].sourceNodeId===t,p=this.edges[o].targetNodeId===t;(s||p)&&n.push(a)}return n}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=this.selectElements,o={nodes:[],edges:[]};return n.forEach(function(a){if(a.BaseType===kt.NODE&&o.nodes.push(a.getData()),a.BaseType===kt.EDGE){var s=a.getData(),p=n.get(s.sourceNodeId)&&n.get(s.targetNodeId);(t||p)&&o.edges.push(s)}}),o}},{key:"updateAttributes",value:function(t,n){var o=this.getElement(t);o.updateAttributes(n)}},{key:"changeNodeId",value:function(t,n){return n||(n=to()),this.nodesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[t]?(this.edges.forEach(function(o){o.sourceNodeId===t&&(o.sourceNodeId=n),o.targetNodeId===t&&(o.targetNodeId=n)}),this.nodesMap[t].model.id=n,n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(t,n){return n||(n=to()),this.edgesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[t]?(this.edges.forEach(function(o){o.id===t&&o.changeEdgeId(n)}),n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,n){return this.modelMap.set(t,n)}},{key:"toFront",value:function(t){var n,o,a=((n=this.nodesMap[t])===null||n===void 0?void 0:n.model)||((o=this.edgesMap[t])===null||o===void 0?void 0:o.model);if(a){if(this.overlapMode===mr.DEFAULT){var s;(s=this.topElement)===null||s===void 0||s.setZIndex(),a.setZIndex(fp),this.topElement=a}this.overlapMode===mr.INCREASE&&this.setElementZIndex(t,"top")}}},{key:"setElementZIndex",value:function(t,n){var o,a,s=((o=this.nodesMap[t])===null||o===void 0?void 0:o.model)||((a=this.edgesMap[t])===null||a===void 0?void 0:a.model);if(s){var p;typeof n=="number"&&(p=n),n==="top"&&(p=pf()),n==="bottom"&&(p=_P()),s.setZIndex(p)}}},{key:"deleteNode",value:function(t){var n=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(at.NODE_DELETE,{data:n})}},{key:"addNode",value:function(t){var n=er(t);n.id&&this.nodesMap[t.id]&&delete n.id;var o=this.getModel(n.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(n.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));n.x=jn(n.x,this.gridSize),n.y=jn(n.y,this.gridSize);var a=new o(n,this);this.nodes.push(a);var s=a.getData();return this.eventCenter.emit(at.NODE_ADD,{data:s}),a}},{key:"cloneNode",value:function(t){var n=this.getNodeModelById(t),o=n.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var a=this.addNode(o);return a.setSelected(!0),n.setSelected(!1),a.getData()}},{key:"moveNode",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=this.nodesMap[t];if(!s){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var p=s.model,g=p.getMoveDistance(n,o,a),E=wf(g,2);n=E[0],o=E[1],this.moveEdge(t,n,o)}},{key:"moveNode2Coordinate",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=this.nodesMap[t];if(!s){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var p=s.model,g=p.x,E=p.y,w=n-g,C=o-E;this.moveNode(t,w,C,a)}},{key:"editText",value:function(t){this.setElementStateById(t,Et.TEXT_EDIT)}},{key:"addEdge",value:function(t){var n=er(t),o=n.type;o||(o=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var a=this.getModel(o);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var s=new a(Ya(Ya({},n),{},{type:o}),this),p=s.getData();return this.edges.push(s),this.eventCenter.emit(at.EDGE_ADD,{data:p}),s}},{key:"moveEdge",value:function(t,n,o){for(var a=0;a<this.edges.length;a++){var s=this.edges[a],p=s.textPosition,g=p.x,E=p.y,w=this.edges[a].sourceNodeId===t,C=this.edges[a].targetNodeId===t;if(w&&s.moveStartPoint(n,o),C&&s.moveEndPoint(n,o),w||C){var z;if(s.customTextPosition===!0)s.resetTextPosition();else if(s.modelType===pt.POLYLINE_EDGE&&(z=s.text)!==null&&z!==void 0&&z.value){var $=s.text,ee=Fh($,s.points);s.moveText(ee.x-$.x,ee.y-$.y)}else{var ae=s.textPosition,ue=ae.x,ce=ae.y;s.moveText(ue-g,ce-E)}}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,n){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===t&&this.edges[o].targetNodeId===n){var a=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(at.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(t){var n=this.edgesMap[t];if(!!n){var o=this.edgesMap[t].index,a=this.edgesMap[t].model.getData();this.edges.splice(o,1),this.eventCenter.emit(at.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeBySource",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(at.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(at.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(t,n,o){this.nodes.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)}),this.edges.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(Et.DEFAULT)})}},{key:"updateText",value:function(t,n){this.nodes.forEach(function(o){o.id===t&&o.updateText(n)}),this.edges.forEach(function(o){o.id===t&&o.updateText(n)})}},{key:"selectNodeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.nodesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.edgesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||this.clearSelectElements();var o=this.getElement(t);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){if(this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===mr.DEFAULT){var t;(t=this.topElement)===null||t===void 0||t.setZIndex()}}},{key:"moveNodes",value:function(t,n,o){var a=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;t.forEach(function(p){return a.moveNode(p,n,o,s)})}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,n){var o=this.getNodeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var a=o.getData();a.type=n;var s=this.getModel(n);if(!s)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var p=new s(a,this);this.nodes.splice(this.nodesMap[t].index,1,p);var g=this.getNodeEdges(t);g.forEach(function(E){if(E.sourceNodeId===t){var w=Yp(p,E.startPoint,p.width,p.height);E.updateStartPoint(w)}if(E.targetNodeId===t){var C=Yp(p,E.endPoint,p.width,p.height);E.updateEndPoint(C)}})}},{key:"changeEdgeType",value:function(t,n){var o=this.getEdgeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8FB9"));return}if(o.type!==n){var a=o.getData();a.type=n;var s=this.getModel(n);if(!s)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete a.pointsList;var p=new s(a,this);this.edges.splice(this.edgesMap[t].index,1,p)}}},{key:"getNodeIncomingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.targetNodeId===t&&n.push(o)}),n}},{key:"getNodeOutgoingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.sourceNodeId===t&&n.push(o)}),n}},{key:"getNodeIncomingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.targetNodeId===t&&o.push(n.nodesMap[a.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.sourceNodeId===t&&o.push(n.nodesMap[a.targetNodeId].model)}),o}},{key:"setTheme",value:function(t){this.theme=Bp(Ya(Ya({},this.theme),t))}},{key:"resize",value:function(t,n){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("\u6E32\u67D3\u753B\u5E03\u7684\u65F6\u5019\u65E0\u6CD5\u83B7\u53D6\u753B\u5E03\u5BBD\u9AD8\uFF0C\u8BF7\u786E\u8BA4\u5728container\u5DF2\u6302\u8F7D\u5230DOM\u3002@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,n=[],o=[];t.forEach(function($){var ee=$.x,ae=$.y,ue=$.width,ce=$.height,Ne=$.getNodeStyle(),Se=Ne.strokeWidth,Te=Se===void 0?0:Se;n=n.concat([ee+ue/2+Te,ee-ue/2-Te]),o=o.concat([ae+ce/2+Te,ae-ce/2-Te])});var a=Math.min.apply(Math,Do(n)),s=Math.max.apply(Math,Do(n)),p=Math.min.apply(Math,Do(o)),g=Math.max.apply(Math,Do(o)),E=s-a||0,w=g-p||0,C=a+E/2,z=p+w/2;return{virtualRectWidth:E,virtualRectHeight:w,virtualRectCenterPositionX:C,virtualRectCenterPositionY:z}}},{key:"translateCenter",value:function(){var t=this.nodes,n=this.width,o=this.height,a=this.rootEl,s=this.transformModel;if(!!t.length){var p=n||a.clientWidth,g=o||a.clientHeight,E=this.getVirtualRectSize(),w=E.virtualRectCenterPositionX,C=E.virtualRectCenterPositionY;s.focusOn(w,C,p,g)}}},{key:"fitView",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,a=this.width,s=this.height,p=this.rootEl,g=this.transformModel;if(!!o.length){var E=a||p.clientWidth,w=s||p.clientHeight,C=this.getVirtualRectSize(),z=C.virtualRectWidth,$=C.virtualRectHeight,ee=C.virtualRectCenterPositionX,ae=C.virtualRectCenterPositionY,ue=(z+n)/E,ce=($+t)/w,Ne=0;Ne=1/Math.max(ue,ce);var Se=[E/2,w/2];g.zoom(Ne,Se),g.focusOn(ee,ae,E,w)}}},{key:"openEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.closeEdgeAnimation()}}]),e}(),$h=Ze(he.prototype,"width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uh=Ze(he.prototype,"height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xh=Ze(he.prototype,"edgeType",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yh=Ze(he.prototype,"nodes",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vh=Ze(he.prototype,"edges",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wh=Ze(he.prototype,"overlapMode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return mr.DEFAULT}}),Kh=Ze(he.prototype,"background",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zh=Ze(he.prototype,"transformModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jh=Ze(he.prototype,"editConfigModel",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qh=Ze(he.prototype,"gridSize",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),qh=Ze(he.prototype,"partial",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ev=Ze(he.prototype,"fakerNode",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze(he.prototype,"nodesMap",[f.m],Object.getOwnPropertyDescriptor(he.prototype,"nodesMap"),he.prototype),Ze(he.prototype,"edgesMap",[f.m],Object.getOwnPropertyDescriptor(he.prototype,"edgesMap"),he.prototype),Ze(he.prototype,"modelsMap",[f.m],Object.getOwnPropertyDescriptor(he.prototype,"modelsMap"),he.prototype),Ze(he.prototype,"sortElements",[f.m],Object.getOwnPropertyDescriptor(he.prototype,"sortElements"),he.prototype),Ze(he.prototype,"textEditElement",[f.m],Object.getOwnPropertyDescriptor(he.prototype,"textEditElement"),he.prototype),Ze(he.prototype,"selectElements",[f.m],Object.getOwnPropertyDescriptor(he.prototype,"selectElements"),he.prototype),Ze(he.prototype,"setFakerNode",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"setFakerNode"),he.prototype),Ze(he.prototype,"removeFakerNode",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"removeFakerNode"),he.prototype),Ze(he.prototype,"setModel",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"setModel"),he.prototype),Ze(he.prototype,"toFront",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"toFront"),he.prototype),Ze(he.prototype,"setElementZIndex",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"setElementZIndex"),he.prototype),Ze(he.prototype,"deleteNode",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteNode"),he.prototype),Ze(he.prototype,"addNode",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"addNode"),he.prototype),Ze(he.prototype,"cloneNode",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"cloneNode"),he.prototype),Ze(he.prototype,"moveNode",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"moveNode"),he.prototype),Ze(he.prototype,"moveNode2Coordinate",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"moveNode2Coordinate"),he.prototype),Ze(he.prototype,"editText",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"editText"),he.prototype),Ze(he.prototype,"addEdge",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"addEdge"),he.prototype),Ze(he.prototype,"moveEdge",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"moveEdge"),he.prototype),Ze(he.prototype,"deleteEdgeBySourceAndTarget",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteEdgeBySourceAndTarget"),he.prototype),Ze(he.prototype,"deleteEdgeById",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteEdgeById"),he.prototype),Ze(he.prototype,"deleteEdgeBySource",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteEdgeBySource"),he.prototype),Ze(he.prototype,"deleteEdgeByTarget",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteEdgeByTarget"),he.prototype),Ze(he.prototype,"setElementStateById",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"setElementStateById"),he.prototype),Ze(he.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"updateText"),he.prototype),Ze(he.prototype,"selectNodeById",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"selectNodeById"),he.prototype),Ze(he.prototype,"selectEdgeById",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"selectEdgeById"),he.prototype),Ze(he.prototype,"selectElementById",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"selectElementById"),he.prototype),Ze(he.prototype,"clearSelectElements",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"clearSelectElements"),he.prototype),Ze(he.prototype,"moveNodes",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"moveNodes"),he.prototype),Ze(he.prototype,"setDefaultEdgeType",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"setDefaultEdgeType"),he.prototype),Ze(he.prototype,"changeNodeType",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"changeNodeType"),he.prototype),Ze(he.prototype,"changeEdgeType",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"changeEdgeType"),he.prototype),Ze(he.prototype,"getNodeIncomingEdge",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"getNodeIncomingEdge"),he.prototype),Ze(he.prototype,"getNodeOutgoingEdge",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"getNodeOutgoingEdge"),he.prototype),Ze(he.prototype,"getNodeIncomingNode",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"getNodeIncomingNode"),he.prototype),Ze(he.prototype,"getNodeOutgoingNode",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"getNodeOutgoingNode"),he.prototype),Ze(he.prototype,"setTheme",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"setTheme"),he.prototype),Ze(he.prototype,"resize",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"resize"),he.prototype),Ze(he.prototype,"clearData",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"clearData"),he.prototype),Ze(he.prototype,"translateCenter",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"translateCenter"),he.prototype),Ze(he.prototype,"fitView",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"fitView"),he.prototype),Ze(he.prototype,"openEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"openEdgeAnimation"),he.prototype),Ze(he.prototype,"closeEdgeAnimation",[f.k],Object.getOwnPropertyDescriptor(he.prototype,"closeEdgeAnimation"),he.prototype),he),HT=ov;function Wa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wa=function(t){return typeof t}:Wa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wa(e)}var iv;function Nf(){return Nf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Nf.apply(this,arguments)}function kT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function av(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GT(e,r,t){return r&&av(e.prototype,r),t&&av(e,t),e}function $T(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Df(e,r)}function Df(e,r){return Df=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Df(e,r)}function UT(e){var r=YT();return function(){var n=Ka(e),o;if(r){var a=Ka(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return XT(this,o)}}function XT(e,r){if(r&&(Wa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kr(e)}function Kr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ka(e){return Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ka(e)}function cn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var VT=kr(iv=function(e){$T(t,e);var r=UT(t);function t(n){var o;kT(this,t),o=r.call(this),cn(Kr(o),"stepDrag",void 0),cn(Kr(o),"stepScrollX",0),cn(Kr(o),"stepScrollY",0),cn(Kr(o),"onDraging",function(g){var E=g.deltaX,w=g.deltaY;o.setState({isDraging:!0});var C=o.props.graphModel,z=C.transformModel,$=C.editConfigModel;$.stopMoveGraph||z.translate(E,w)}),cn(Kr(o),"onDragEnd",function(){o.setState({isDraging:!1})}),cn(Kr(o),"zoomHandler",function(g){var E=o.props,w=E.graphModel,C=w.editConfigModel,z=w.transformModel,$=w.gridSize,ee=E.graphModel,ae=g.deltaX,ue=g.deltaY;if(!C.stopScrollGraph&&g.ctrlKey!==!0){if(g.preventDefault(),o.stepScrollX+=ae,o.stepScrollY+=ue,Math.abs(o.stepScrollX)>=$){var ce=o.stepScrollX%$,Ne=o.stepScrollX-ce;z.translate(-Ne*z.SCALE_X,0),o.stepScrollX=ce}if(Math.abs(o.stepScrollY)>=$){var Se=o.stepScrollY%$,Te=o.stepScrollY-Se;z.translate(0,-Te*z.SCALE_Y),o.stepScrollY=Se}return}if(!C.stopZoomGraph){g.preventDefault();var He=ee.getPointByClient({x:g.clientX,y:g.clientY}),Re=He.canvasOverlayPosition,et=Re.x,ke=Re.y;z.zoom(g.deltaY<0,[et,ke])}}),cn(Kr(o),"clickHandler",function(g){var E=g.target;if(E.getAttribute("name")==="canvas-overlay"){var w=o.props.graphModel,C=w.selectElements;C.size>0&&w.clearSelectElements(),w.eventCenter.emit(at.BLANK_CLICK,{e:g})}}),cn(Kr(o),"handleContextMenu",function(g){var E=g.target;if(E.getAttribute("name")==="canvas-overlay"){g.preventDefault();var w=o.props.graphModel,C=w.getPointByClient({x:g.clientX,y:g.clientY});w.eventCenter.emit(at.BLANK_CONTEXTMENU,{e:g,position:C})}}),cn(Kr(o),"mouseDownHandler",function(g){var E=o.props.graphModel,w=E.eventCenter,C=E.editConfigModel,z=E.transformModel.SCALE_X,$=E.gridSize,ee=g.target,ae=!C.adjustEdge&&!C.adjustNodePosition;(ee.getAttribute("name")==="canvas-overlay"||ae)&&(C.stopMoveGraph?w.emit(at.BLANK_MOUSEDOWN,{e:g}):(o.stepDrag.setStep($*z),o.stepDrag.handleMouseDown(g)),o.clickHandler(g))});var a=n.graphModel,s=a.gridSize,p=a.eventCenter;return o.stepDrag=new ro({onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:s,eventType:"BLANK",isStopPropagation:!1,eventCenter:p,model:null}),o.state={isDraging:!1},o}return GT(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),s=a.transform,p=this.props,g=p.children,E=p.dnd,w=this.state.isDraging;return Object(oe.g)("svg",Nf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:w?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},E.eventMap()),Object(oe.g)("g",{transform:s},g))}}]),t}(oe.a))||iv,WT=VT;function Za(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Za=function(t){return typeof t}:Za=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}var uv;function KT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ZT(e,r,t){return r&&lv(e.prototype,r),t&&lv(e,t),e}function JT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jf(e,r)}function jf(e,r){return jf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jf(e,r)}function QT(e){var r=eM();return function(){var n=Ja(e),o;if(r){var a=Ja(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return qT(this,o)}}function qT(e,r){if(r&&(Za(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sv(e)}function sv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ja(e){return Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ja(e)}function tM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var rM=kr(uv=function(e){JT(t,e);var r=QT(t);function t(){var n;KT(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),tM(sv(n),"setToolOverlayRef",function(p){var g=n.props.tool,E=g.getInstance();E.components.forEach(function(w){return w(E,p)}),E.components=[]}),n}return ZT(t,[{key:"getTools",value:function(){var o=this.props,a=o.tool,s=o.graphModel,p=a.getTools(),g=p.map(function(E){return Object(oe.g)(E,{graphModel:s,logicFlow:a.instance})});return a.components=g,g}},{key:"render",value:function(){return Object(oe.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),t}(oe.a))||uv;function Qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qa=function(t){return typeof t}:Qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(e)}function nM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oM(e,r,t){return r&&fv(e.prototype,r),t&&fv(e,t),e}function iM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Cf(e,r)}function Cf(e,r){return Cf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Cf(e,r)}function aM(e){var r=sM();return function(){var n=qa(e),o;if(r){var a=qa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return uM(this,o)}}function uM(e,r){if(r&&(Qa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lM(e)}function lM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qa(e){return qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qa(e)}var fM=function(e){iM(t,e);var r=aM(t);function t(){return nM(this,t),r.apply(this,arguments)}return oM(t,[{key:"render",value:function(){var o=this.props.background;return Object(oe.g)("div",{className:"lf-background"},Object(oe.g)("div",{style:o,className:"lf-background-area"}))}}]),t}(oe.a);function eu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eu=function(t){return typeof t}:eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}var cv;function cM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dM(e,r,t){return r&&dv(e.prototype,r),t&&dv(e,t),e}function pM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Rf(e,r)}function Rf(e,r){return Rf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Rf(e,r)}function hM(e){var r=yM();return function(){var n=tu(e),o;if(r){var a=tu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return vM(this,o)}}function vM(e,r){if(r&&(eu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pv(e)}function pv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tu(e){return tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},tu(e)}function gM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var hv=kr(cv=function(e){pM(t,e);var r=hM(t);function t(){var n;cM(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),gM(pv(n),"id",to()),n}return dM(t,[{key:"renderDot",value:function(){var o=this.props,a=o.config,s=a.color,p=a.thickness,g=p===void 0?2:p,E=o.size,w=o.visible,C=Math.min(Math.max(2,g),E/2),z=1;return w||(z=0),Object(oe.g)("rect",{width:C,height:C,rx:C/2,ry:C/2,fill:s,opacity:z})}},{key:"renderMesh",value:function(){var o=this.props,a=o.config,s=a.color,p=a.thickness,g=p===void 0?1:p,E=o.size,w=o.visible,C=Math.min(Math.max(1,g),E/2),z="M ".concat(E," 0 H0 M0 0 V0 ").concat(E),$=1;return w||($=0),Object(oe.g)("path",{d:z,stroke:s,strokeWidth:C,opacity:$})}},{key:"render",value:function(){var o=this.props,a=o.type,s=o.size,p=o.graphModel.transformModel,g=p.SCALE_X,E=p.SKEW_Y,w=p.SKEW_X,C=p.SCALE_Y,z=p.TRANSLATE_X,$=p.TRANSLATE_Y,ee=[g,E,w,C,z,$].join(","),ae="matrix(".concat(ee,")");return Object(oe.g)("div",{className:"lf-grid"},Object(oe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(oe.g)("defs",null,Object(oe.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:ae,x:"0",y:"0",width:s,height:s},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(oe.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(oe.a))||cv;hv.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function ru(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ru=function(t){return typeof t}:ru=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function mM(e,r){return xM(e)||EM(e,r)||OM(e,r)||bM()}function bM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OM(e,r){if(!!e){if(typeof e=="string")return vv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vv(e,r)}}function vv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function EM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function xM(e){if(Array.isArray(e))return e}function SM(e){var r={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(t){var n=mM(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var s=ru(a);s!=="object"&&(r[o]=a)}}),Object(oe.g)("line",r)}var no=SM;function nu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nu=function(t){return typeof t}:nu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}var yv;function gv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ou(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?gv(Object(t),!0).forEach(function(n){PM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function PM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function TM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MM(e,r,t){return r&&mv(e.prototype,r),t&&mv(e,t),e}function wM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&If(e,r)}function If(e,r){return If=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},If(e,r)}function AM(e){var r=jM();return function(){var n=iu(e),o;if(r){var a=iu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return NM(this,o)}}function NM(e,r){if(r&&(nu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DM(e)}function DM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iu(e){return iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},iu(e)}var CM=kr(yv=function(e){wM(t,e);var r=AM(t);function t(){return TM(this,t),r.apply(this,arguments)}return MM(t,[{key:"render",value:function(){var o=this.props.snaplineModel,a=o.position,s=o.isShowHorizontal,p=o.isShowVertical,g=o.getStyle(),E=a.x,w=E===void 0?0:E,C=a.y,z=C===void 0?0:C,$=ou(ou({x1:-1e5,y1:z,x2:1e5,y2:z},g),{},{stroke:s?g.stroke:"none"}),ee=ou(ou({x1:w,y1:-1e5,x2:w,y2:1e5},g),{},{stroke:p?g.stroke:"none"});return Object(oe.g)("g",{className:"lf-snapline"},Object(oe.g)(no,$),Object(oe.g)(no,ee))}}]),t}(oe.a))||yv;function au(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?au=function(t){return typeof t}:au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function RM(e,r){return LM(e)||BM(e,r)||_M(e,r)||IM()}function IM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _M(e,r){if(!!e){if(typeof e=="string")return bv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bv(e,r)}}function bv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function BM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function LM(e){if(Array.isArray(e))return e}function In(e){var r=e.x,t=e.y,n=e.width,o=e.height,a=e.className,s=e.radius,p=r-n/2,g=t-o/2,E={};return Object.entries(e).forEach(function(w){var C=RM(w,2),z=C[0],$=C[1],ee=au($);ee!=="object"&&(E[z]=$)}),a?E.className="lf-basic-shape ".concat(a):E.className="lf-basic-shape",s&&(E.rx=s,E.ry=s),E.x=p,E.y=g,Object(oe.g)("rect",E)}In.defaultProps={className:"",radius:""};function uu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uu=function(t){return typeof t}:uu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}var Ov;function jo(){return jo=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},jo.apply(this,arguments)}function Ev(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function xv(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ev(Object(t),!0).forEach(function(n){zM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ev(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function zM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function FM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HM(e,r,t){return r&&Sv(e.prototype,r),t&&Sv(e,t),e}function kM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_f(e,r)}function _f(e,r){return _f=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},_f(e,r)}function GM(e){var r=XM();return function(){var n=lu(e),o;if(r){var a=lu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return $M(this,o)}}function $M(e,r){if(r&&(uu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UM(e)}function UM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lu(e){return lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},lu(e)}var YM=kr(Ov=function(e){kM(t,e);var r=GM(t);function t(){return FM(this,t),r.apply(this,arguments)}return HM(t,[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,a=o.nodes,s=o.editConfigModel,p=s.hoverOutline,g=s.nodeSelectedOutline,E=[];return a.forEach(function(w){if(w.isHovered||w.isSelected){var C=w.isHovered,z=w.isSelected,$=w.x,ee=w.y,ae=w.width,ue=w.height;if(g&&z||p&&C){var ce=w.getOutlineStyle(),Ne={};if(Object.keys(ce).forEach(function(Te){Te!=="hover"&&(Ne[Te]=ce[Te])}),C){var Se=ce.hover;Ne=xv(xv({},Ne),Se)}E.push(Object(oe.g)(In,jo({className:"lf-outline-node",x:$,y:ee,width:ae+10,height:ue+10},Ne)))}}}),E}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,a=o.edges,s=o.editConfigModel,p=s.edgeSelectedOutline,g=s.hoverOutline,E=[],w=0;w<a.length;w++){var C=a[w];(p&&C.isSelected||g&&C.isHovered)&&(C.modelType===pt.LINE_EDGE?E.push(this.getLineOutline(C)):C.modelType===pt.POLYLINE_EDGE?E.push(this.getPolylineOutline(C)):C.modelType===pt.BEZIER_EDGE&&E.push(this.getBezierOutline(C)))}return E}},{key:"getLineOutline",value:function(o){var a=o.startPoint,s=o.endPoint,p=(a.x+s.x)/2,g=(a.y+s.y)/2,E=Math.abs(a.x-s.x)+10,w=Math.abs(a.y-s.y)+10,C=o.getOutlineStyle();return Object(oe.g)(In,jo({className:"lf-outline-edge",x:p,y:g,width:E,height:w},C))}},{key:"getPolylineOutline",value:function(o){var a=o.points,s=Ao(a),p=yi(s,8),g=p.x,E=p.y,w=p.width,C=p.height,z=o.getOutlineStyle();return Object(oe.g)(In,jo({className:"lf-outline",x:g,y:E,width:w,height:C},z))}},{key:"getBezierOutline",value:function(o){var a=o.path,s=Ua(a),p=yi(s,8),g=p.x,E=p.y,w=p.width,C=p.height,z=o.getOutlineStyle();return Object(oe.g)(In,jo({className:"lf-outline",x:g,y:E,width:w,height:C},z))}},{key:"render",value:function(){return Object(oe.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(oe.a))||Ov;function su(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?su=function(t){return typeof t}:su=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function VM(e,r){return JM(e)||ZM(e,r)||KM(e,r)||WM()}function WM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KM(e,r){if(!!e){if(typeof e=="string")return Pv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pv(e,r)}}function Pv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ZM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function JM(e){if(Array.isArray(e))return e}function bi(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.r,s=a===void 0?4:a,p=e.className,g={cx:t,cy:o,r:s,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(E){var w=VM(E,2),C=w[0],z=w[1],$=su(z);$!=="object"&&(g[C]=z)}),p?g.className="lf-basic-shape ".concat(p):g.className="lf-basic-shape",Object(oe.g)("circle",g)}function fu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fu=function(t){return typeof t}:fu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}var Tv;function QM(e,r){return rw(e)||tw(e,r)||ew(e,r)||qM()}function qM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ew(e,r){if(!!e){if(typeof e=="string")return Mv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mv(e,r)}}function Mv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function tw(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function rw(e){if(Array.isArray(e))return e}function Oi(){return Oi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Oi.apply(this,arguments)}function wv(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Av(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Nv(e,r,t){return r&&Av(e.prototype,r),t&&Av(e,t),e}function Dv(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bf(e,r)}function Bf(e,r){return Bf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Bf(e,r)}function jv(e){var r=ow();return function(){var n=du(e),o;if(r){var a=du(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return nw(this,o)}}function nw(e,r){if(r&&(fu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cu(e)}function cu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ow(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function du(e){return du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},du(e)}function Lf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Cv=function(e){Dv(t,e);var r=jv(t);function t(){var n;return wv(this,t),n=r.call(this),Lf(cu(n),"dragHandler",void 0),Lf(cu(n),"onDraging",function(o){var a=o.event,s=n.props,p=s.graphModel,g=s.bezierModel,E=s.type,w=p.getPointByClient({x:a.clientX,y:a.clientY}),C=w.canvasOverlayPosition,z=C.x,$=C.y;g.updateAdjustAnchor({x:z,y:$},E)}),Lf(cu(n),"onDragEnd",function(){var o=n.props.bezierModel;o.isDragging=!1}),n.dragHandler=new ro({onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return Nv(t,[{key:"render",value:function(){var o=this,a=this.props.position,s=a.x,p=a.y,g=this.props.bezierModel,E=g.getEdgeStyle(),w=E.adjustAnchor;return Object(oe.g)(bi,Oi({className:"lf-bezier-adjust-anchor",x:s,y:p},w,{onMouseDown:function(z){o.dragHandler.handleMouseDown(z)}}))}}]),t}(oe.a),iw=kr(Tv=function(e){Dv(t,e);var r=jv(t);function t(){return wv(this,t),r.apply(this,arguments)}return Nv(t,[{key:"getBezierAdjust",value:function(o,a){var s=o.path,p=o.id,g=Ua(s),E=QM(g,4),w=E[0],C=E[1],z=E[2],$=E[3],ee=o.getEdgeStyle(),ae=ee.adjustLine,ue=[];return ue.push(Object(oe.g)(no,Oi({x1:w.x,y1:w.y,x2:C.x,y2:C.y},ae))),ue.push(Object(oe.g)(Cv,{position:C,bezierModel:o,graphModel:a,key:"".concat(p,"_ePre"),type:"sNext"})),ue.push(Object(oe.g)(no,Oi({x1:$.x,y1:$.y,x2:z.x,y2:z.y},ae))),ue.push(Object(oe.g)(Cv,{position:z,bezierModel:o,graphModel:a,key:"".concat(p,"_sNext"),type:"ePre"})),ue}},{key:"selectedBezierEdge",value:function(){for(var o=this.props.graphModel,a=o.edges,s=[],p=0;p<a.length;p++){var g=a[p];g.isSelected&&g.modelType===pt.BEZIER_EDGE&&g.draggable&&s.push(this.getBezierAdjust(g,o))}return s}},{key:"render",value:function(){return Object(oe.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(oe.a))||Tv;function pu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pu=function(t){return typeof t}:pu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}var Rv;function aw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Iv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uw(e,r,t){return r&&Iv(e.prototype,r),t&&Iv(e,t),e}function lw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zf(e,r)}function zf(e,r){return zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},zf(e,r)}function sw(e){var r=dw();return function(){var n=hu(e),o;if(r){var a=hu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return fw(this,o)}}function fw(e,r){if(r&&(pu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cw(e)}function cw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hu(e){return hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hu(e)}var pw=kr(Rv=function(e){lw(t,e);var r=sw(t);function t(){return aw(this,t),r.apply(this,arguments)}return uw(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),s=a.transform,p=this.props.children;return Object(oe.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(oe.g)("g",{transform:s},p))}}]),t}(oe.a))||Rv;function vu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vu=function(t){return typeof t}:vu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}var _v;function Ff(){return Ff=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ff.apply(this,arguments)}function hw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Bv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vw(e,r,t){return r&&Bv(e.prototype,r),t&&Bv(e,t),e}function yw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Hf(e,r)}function Hf(e,r){return Hf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Hf(e,r)}function gw(e){var r=Ow();return function(){var n=yu(e),o;if(r){var a=yu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return mw(this,o)}}function mw(e,r){if(r&&(vu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bw(e)}function bw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ow(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yu(e){return yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yu(e)}var Ew=kr(_v=function(e){yw(t,e);var r=gw(t);function t(){return hw(this,t),r.apply(this,arguments)}return vw(t,[{key:"getComponent",value:function(o,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",p=this.props.getView,g=p(o.type);return Object(oe.g)(g,{key:o.id,model:o,graphModel:a,overlay:s})}},{key:"render",value:function(){var o=this,a=this.props,s=a.graphModel,p=a.tool,g=a.options,E=a.dnd,w=a.snaplineModel,C={};g.width&&(C.width="".concat(s.width,"px")),g.height&&(C.height="".concat(s.height,"px"));var z=s.fakerNode,$=s.editConfigModel,ee=$.adjustEdge;return Object(oe.g)("div",{className:"lf-graph",style:C},Object(oe.g)(WT,{graphModel:s,dnd:E},Object(oe.g)("g",{className:"lf-base"},Pa(s.sortElements,function(ae){return o.getComponent(ae,s)})),z?this.getComponent(z,s):""),Object(oe.g)(pw,{graphModel:s},Object(oe.g)(YM,{graphModel:s}),ee?Object(oe.g)(iw,{graphModel:s}):"",!g.isSilentMode&&g.snapline!==!1?Object(oe.g)(CM,{snaplineModel:w}):""),Object(oe.g)(rM,{graphModel:s,tool:p}),g.background&&Object(oe.g)(fM,{background:g.background}),g.grid&&Object(oe.g)(hv,Ff({},g.grid,{graphModel:s})))}}]),t}(oe.a))||_v,xw=Ew;function Lv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function gu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Lv(Object(t),!0).forEach(function(n){dn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Lv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Sw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pw(e,r,t){return r&&zv(e.prototype,r),t&&zv(e,t),e}function dn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Tw=function(){function e(r){var t=this;Sw(this,e),dn(this,"nodeConfig",void 0),dn(this,"lf",void 0),dn(this,"fakerNode",void 0),dn(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),dn(this,"dragEnter",function(o){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(gu(gu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY}))))}),dn(this,"onDragOver",function(o){if(o.preventDefault(),t.fakerNode){var a=t.clientToLocalPoint({x:o.clientX,y:o.clientY}),s=a.x,p=a.y;t.fakerNode.moveTo(s,p);var g=t.fakerNode.getData();t.lf.setNodeSnapLine(g),t.lf.graphModel.eventCenter.emit(at.NODE_DND_DRAG,{data:g})}return!1}),dn(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),dn(this,"onDrop",function(o){if(!(!t.lf.graphModel||!o||!t.nodeConfig)){var a=t.lf.addNode(gu(gu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY})));o.preventDefault(),o.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null;var s=a.getData();t.lf.graphModel.eventCenter.emit(at.NODE_DND_ADD,{data:s})}});var n=r.lf;this.lf=n}return Pw(e,[{key:"clientToLocalPoint",value:function(t){var n=t.x,o=t.y,a=Id(this.lf.options,["grid","size"]),s=this.lf.graphModel.getPointByClient({x:n,y:o}),p=s.canvasOverlayPosition,g=p.x,E=p.y;return{x:jn(g,a),y:jn(E,a)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function Fv(e){var r=e.container,t=e.grid,n=e.width,o=e.height;if(!r)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof n=="string"||typeof o=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return t&&(e.grid=or({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),or({},Hv,e)}var Hv={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function mu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mu=function(t){return typeof t}:mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}var gt,kv;function kf(e,r){return Nw(e)||Aw(e,r)||ww(e,r)||Mw()}function Mw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ww(e,r){if(!!e){if(typeof e=="string")return Gv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gv(e,r)}}function Gv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Aw(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Nw(e){if(Array.isArray(e))return e}function $v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function bu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?$v(Object(t),!0).forEach(function(n){Xv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$v(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Dw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function jw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Uv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Cw(e,r,t){return r&&Uv(e.prototype,r),t&&Uv(e,t),e}function Co(){return typeof Reflect<"u"&&Reflect.get?Co=Reflect.get:Co=function(r,t,n){var o=Rw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Co.apply(this,arguments)}function Rw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=_n(e),e!==null););return e}function Iw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gf(e,r)}function Gf(e,r){return Gf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Gf(e,r)}function _w(e){var r=Lw();return function(){var n=_n(e),o;if(r){var a=_n(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Bw(this,o)}}function Bw(e,r){if(r&&(mu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ou(e)}function Ou(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _n(e){return _n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_n(e)}function Xv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _r(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var $f=(gt=function(e){Iw(t,e);var r=_w(t);function t(){var n;jw(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Xv(Ou(n),"modelType",pt.BEZIER_EDGE),Dw(Ou(n),"path",kv,Ou(n)),n}return Cw(t,[{key:"initEdgeData",value:function(o){this.offset=100,Co(_n(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier,a=Co(_n(t.prototype),"getEdgeStyle",this).call(this);return bu(bu({},a),jt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,a=0;return this.pointsList.forEach(function(s){var p=s.x,g=s.y;o+=p,a+=g}),{x:o/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=Co(_n(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(s){var p=s.x,g=s.y;return{x:p,y:g}});return bu(bu({},o),{},{pointsList:a})}},{key:"getControls",value:function(){var o=this.startPoint,a=this.endPoint,s=zh({start:o,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return s}},{key:"getPath",value:function(o){var a=kf(o,4),s=a[0],p=a[1],g=a[2],E=a[3];return"M ".concat(s.x," ").concat(s.y,`
    C `).concat(p.x," ").concat(p.y,`,
    `).concat(g.x," ").concat(g.y,`,
    `).concat(E.x," ").concat(E.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),a=o.sNext,s=o.ePre;this.updatePath(a,s)}},{key:"updatePath",value:function(o,a){var s={x:this.startPoint.x,y:this.startPoint.y},p={x:this.endPoint.x,y:this.endPoint.y};if(!o||!a){var g=this.getControls();o=g.sNext,a=g.ePre}this.pointsList=[s,o,a,p],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a;var s=kf(this.pointsList,3),p=s[1],g=s[2];p.x+=o,p.y+=a,this.updatePath(p,g)}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a;var s=kf(this.pointsList,3),p=s[1],g=s[2];g.x+=o,g.y+=a,this.updatePath(p,g)}},{key:"updateAdjustAnchor",value:function(o,a){a==="sNext"?this.pointsList[1]=o:a==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,s=o.endPoint,p=o.sourceNode,g=o.targetNode,E=zh({start:a,end:s,sourceNode:p,targetNode:g,offset:this.offset}),w=E.sNext,C=E.ePre;this.pointsList=[a,w,C,s],this.initPoints()}}]),t}(vf),kv=_r(gt.prototype,"path",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_r(gt.prototype,"initPoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"initPoints"),gt.prototype),_r(gt.prototype,"updatePoints",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updatePoints"),gt.prototype),_r(gt.prototype,"updateStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateStartPoint"),gt.prototype),_r(gt.prototype,"updateEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateEndPoint"),gt.prototype),_r(gt.prototype,"moveStartPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveStartPoint"),gt.prototype),_r(gt.prototype,"moveEndPoint",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveEndPoint"),gt.prototype),_r(gt.prototype,"updateAdjustAnchor",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAdjustAnchor"),gt.prototype),_r(gt.prototype,"getAdjustStart",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustStart"),gt.prototype),_r(gt.prototype,"getAdjustEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustEnd"),gt.prototype),_r(gt.prototype,"updateAfterAdjustStartAndEnd",[f.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAfterAdjustStartAndEnd"),gt.prototype),gt);function zw(e){return e==null}var Fw=zw,Ce,Yv,Vv,Wv,Kv,Zv,Jv,Qv,qv,ey,ty,ry,ny,oy,iy,ay,uy,ly,sy,fy;function Eu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eu=function(t){return typeof t}:Eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function Hw(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=kw(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(E){throw E},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,p;return{s:function(){t=t.call(e)},n:function(){var E=t.next();return a=E.done,E},e:function(E){s=!0,p=E},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(s)throw p}}}}function kw(e,r){if(!!e){if(typeof e=="string")return cy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cy(e,r)}}function cy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function dy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ar(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?dy(Object(t),!0).forEach(function(n){cr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function $t(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Gw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function py(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $w(e,r,t){return r&&py(e.prototype,r),t&&py(e,t),e}function cr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function st(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var pn=(Ce=function(){function e(r,t){Gw(this,e),cr(this,"id",to()),$t(this,"type",Yv,this),$t(this,"x",Vv,this),$t(this,"y",Wv,this),$t(this,"text",Kv,this),$t(this,"properties",Zv,this),$t(this,"_width",Jv,this),$t(this,"_height",Qv,this),$t(this,"anchorsOffset",qv,this),$t(this,"isSelected",ey,this),$t(this,"isHovered",ty,this),$t(this,"isShowAnchor",ry,this),$t(this,"isDragging",ny,this),$t(this,"isHitable",oy,this),$t(this,"draggable",iy,this),$t(this,"visible",ay,this),cr(this,"virtual",!1),cr(this,"graphModel",void 0),$t(this,"zIndex",uy,this),$t(this,"state",ly,this),$t(this,"autoToFront",sy,this),$t(this,"style",fy,this),cr(this,"BaseType",kt.NODE),cr(this,"modelType",pt.NODE),cr(this,"additionStateData",void 0),cr(this,"targetRules",[]),cr(this,"sourceRules",[]),cr(this,"moveRules",[]),cr(this,"hasSetTargetRules",!1),cr(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(r),this.setAttributes()}return $w(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type);o&&(t.id=o);var a=this.createId();a&&(t.id=a)}this.formatText(t),or(this,DP(t));var s=this.graphModel.overlapMode;s===mr.INCREASE&&(this.zIndex=t.zIndex||pf())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&typeof t.text=="string"?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&t.text.editable===void 0&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,s=this.properties;Object(f.x)(s)&&(s=Object(f.I)(s));var p={id:this.id,type:this.type,x:this.x,y:this.y,properties:s};return this.graphModel.overlapMode===mr.INCREASE&&(p.zIndex=this.zIndex),a&&(p.text={x:n,y:o,value:a}),p}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(f.I)(this.properties)}},{key:"getNodeStyle",value:function(){return ar(ar({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return jt(t)}},{key:"getAnchorStyle",value:function(t){var n=this.graphModel.theme.anchor;return jt(n)}},{key:"getAnchorLineStyle",value:function(t){var n=this.graphModel.theme.anchorLine;return jt(n)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return jt(t)}},{key:"isAllowConnectedAsSource",value:function(t,n,o){var a=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var s=!0,p,g=0;g<a.length;g++){var E=a[g];if(!E.validate.call(this,this,t,n,o)){s=!1,p=E.message;break}}return{isAllPass:s,msg:p}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,n,o){var a=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var s=!0,p,g=0;g<a.length;g++){var E=a[g];if(!E.validate.call(this,t,this,n,o)){s=!1,p=E.message;break}}return{isAllPass:s,msg:p}}},{key:"isAllowMoveNode",value:function(t,n){var o=!0,a=!0,s=this.moveRules.concat(this.graphModel.nodeMoveRules),p=Hw(s),g;try{for(p.s();!(g=p.n()).done;){var E=g.value,w=E(this,t,n);if(!w)return!1;if(Eu(w)==="object"){var C=w;if(C.x===!1&&C.y===!1)return!1;o=o&&C.x,a=a&&C.y}}}catch(z){p.e(z)}finally{p.f()}return{x:o,y:a}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,n=this.id,o=this.x,a=this.y;return t&&t.length>0?t.map(function(s,p){return s.length?(s=s,{id:"".concat(n,"_").concat(p),x:o+s[0],y:a+s[1]}):(s=s,ar(ar({},s),{},{x:o+s.x,y:a+s.y,id:s.id||"".concat(n,"_").concat(p)}))}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!Fw(t))for(var n=0;n<this.anchors.length;n++){var o=this.anchors[n];if(o.id===t)return o}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,s=!1;if(o)a=!0,s=!0;else{var p=this.isAllowMoveNode(t,n);typeof p=="boolean"?(a=p,s=p):(a=p.x,s=p.y)}if(a){var g=this.x+t;this.x=g,this.text&&this.moveText(t,0)}if(s){var E=this.y+n;this.y=E,this.text&&this.moveText(0,n)}return a||s}},{key:"getMoveDistance",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,s=!1,p=0,g=0;if(o)a=!0,s=!0;else{var E=this.isAllowMoveNode(t,n);typeof E=="boolean"?(a=E,s=E):(a=E.x,s=E.y)}if(a&&t){var w=this.x+t;this.x=w,this.text&&this.moveText(t,0),p=t}if(s&&n){var C=this.y+n;this.y=C,this.text&&this.moveText(0,n),g=n}return[p,g]}},{key:"moveTo",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=t-this.x,s=n-this.y;return!o&&!this.isAllowMoveNode(a,s)?!1:(this.text&&this.text&&this.moveText(a,s),this.x=t,this.y=n,!0)}},{key:"moveText",value:function(t,n){var o=this.text,a=o.x,s=o.y,p=o.value,g=o.draggable,E=o.editable;this.text={value:p,editable:E,draggable:g,x:a+t,y:s+n}}},{key:"updateText",value:function(t){this.text=ar(ar({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t,this.setIsShowAnchor(t)}},{key:"setIsShowAnchor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isShowAnchor=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"setProperty",value:function(t,n){this.properties=ar(ar({},this.properties),{},cr({},t,er(n))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=ar(ar({},this.properties),er(t)),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=ar(ar({},this.style),{},cr({},t,er(n)))}},{key:"setStyles",value:function(t){this.style=ar(ar({},this.style),er(t))}},{key:"updateStyles",value:function(t){this.style=ar({},er(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){or(this,t)}}]),e}(),Yv=st(Ce.prototype,"type",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Vv=st(Ce.prototype,"x",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Wv=st(Ce.prototype,"y",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Kv=st(Ce.prototype,"text",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Zv=st(Ce.prototype,"properties",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Jv=st(Ce.prototype,"_width",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Qv=st(Ce.prototype,"_height",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),qv=st(Ce.prototype,"anchorsOffset",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ey=st(Ce.prototype,"isSelected",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ty=st(Ce.prototype,"isHovered",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ry=st(Ce.prototype,"isShowAnchor",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ny=st(Ce.prototype,"isDragging",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oy=st(Ce.prototype,"isHitable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),iy=st(Ce.prototype,"draggable",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ay=st(Ce.prototype,"visible",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uy=st(Ce.prototype,"zIndex",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ly=st(Ce.prototype,"state",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),sy=st(Ce.prototype,"autoToFront",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fy=st(Ce.prototype,"style",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),st(Ce.prototype,"incoming",[f.m],Object.getOwnPropertyDescriptor(Ce.prototype,"incoming"),Ce.prototype),st(Ce.prototype,"outgoing",[f.m],Object.getOwnPropertyDescriptor(Ce.prototype,"outgoing"),Ce.prototype),st(Ce.prototype,"addNodeMoveRules",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"addNodeMoveRules"),Ce.prototype),st(Ce.prototype,"move",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"move"),Ce.prototype),st(Ce.prototype,"getMoveDistance",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"getMoveDistance"),Ce.prototype),st(Ce.prototype,"moveTo",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"moveTo"),Ce.prototype),st(Ce.prototype,"moveText",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"moveText"),Ce.prototype),st(Ce.prototype,"updateText",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateText"),Ce.prototype),st(Ce.prototype,"setSelected",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setSelected"),Ce.prototype),st(Ce.prototype,"setHovered",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setHovered"),Ce.prototype),st(Ce.prototype,"setIsShowAnchor",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setIsShowAnchor"),Ce.prototype),st(Ce.prototype,"setHitable",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setHitable"),Ce.prototype),st(Ce.prototype,"setElementState",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setElementState"),Ce.prototype),st(Ce.prototype,"setProperty",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setProperty"),Ce.prototype),st(Ce.prototype,"setProperties",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setProperties"),Ce.prototype),st(Ce.prototype,"deleteProperty",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"deleteProperty"),Ce.prototype),st(Ce.prototype,"setStyle",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setStyle"),Ce.prototype),st(Ce.prototype,"setStyles",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setStyles"),Ce.prototype),st(Ce.prototype,"updateStyles",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateStyles"),Ce.prototype),st(Ce.prototype,"setZIndex",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"setZIndex"),Ce.prototype),st(Ce.prototype,"updateAttributes",[f.k],Object.getOwnPropertyDescriptor(Ce.prototype,"updateAttributes"),Ce.prototype),Ce);function xu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xu=function(t){return typeof t}:xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}var hn,hy;function vy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?vy(Object(t),!0).forEach(function(n){my(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Uw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Xw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yw(e,r,t){return r&&gy(e.prototype,r),t&&gy(e,t),e}function Su(){return typeof Reflect<"u"&&Reflect.get?Su=Reflect.get:Su=function(r,t,n){var o=Vw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Su.apply(this,arguments)}function Vw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ro(e),e!==null););return e}function Ww(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Uf(e,r)}function Uf(e,r){return Uf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Uf(e,r)}function Kw(e){var r=Jw();return function(){var n=Ro(e),o;if(r){var a=Ro(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Zw(this,o)}}function Zw(e,r){if(r&&(xu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pu(e)}function Pu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ro(e){return Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ro(e)}function my(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Xf(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Yf=(hn=function(e){Ww(t,e);var r=Kw(t);function t(){var n;Xw(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),my(Pu(n),"modelType",pt.CIRCLE_NODE),Uw(Pu(n),"r",hy,Pu(n)),n}return Yw(t,[{key:"width",get:function(){return this.r*2}},{key:"height",get:function(){return this.r*2}},{key:"getNodeStyle",value:function(){var o=Su(Ro(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return yy(yy({},o),jt(a))}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.r;return[{x:o,y:a-s,id:"".concat(this.id,"_0")},{x:o+s,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+s,id:"".concat(this.id,"_2")},{x:o-s,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),hy=Xf(hn.prototype,"r",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Xf(hn.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(hn.prototype,"width"),hn.prototype),Xf(hn.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(hn.prototype,"height"),hn.prototype),hn);i(127);function Tu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tu=function(t){return typeof t}:Tu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}var tr,by,Oy;function Vf(e,r){return tA(e)||eA(e,r)||qw(e,r)||Qw()}function Qw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qw(e,r){if(!!e){if(typeof e=="string")return Ey(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ey(e,r)}}function Ey(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function eA(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function tA(e){if(Array.isArray(e))return e}function xy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Sy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?xy(Object(t),!0).forEach(function(n){My(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Py(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function rA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ty(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nA(e,r,t){return r&&Ty(e.prototype,r),t&&Ty(e,t),e}function Mu(){return typeof Reflect<"u"&&Reflect.get?Mu=Reflect.get:Mu=function(r,t,n){var o=oA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Mu.apply(this,arguments)}function oA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=_o(e),e!==null););return e}function iA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Wf(e,r)}function Wf(e,r){return Wf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Wf(e,r)}function aA(e){var r=lA();return function(){var n=_o(e),o;if(r){var a=_o(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return uA(this,o)}}function uA(e,r){if(r&&(Tu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Io(e)}function Io(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _o(e){return _o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_o(e)}function My(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Bo(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Kf=(tr=function(e){iA(t,e);var r=aA(t);function t(){var n;rA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),My(Io(n),"modelType",pt.DIAMOND_NODE),Py(Io(n),"rx",by,Io(n)),Py(Io(n),"ry",Oy,Io(n)),n}return nA(t,[{key:"getNodeStyle",value:function(){var o=Mu(_o(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return Sy(Sy({},o),jt(a))}},{key:"points",get:function(){var o=this.x,a=this.y,s=this.rx,p=this.ry;return[[o,a-p],[o+s,a],[o,a+p],[o-s,a]]}},{key:"pointsPosition",get:function(){var o=this.points.map(function(a){return{x:a[0],y:a[1]}});return o}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Vf(s,1),g=p[0];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Vf(s,2),g=p[1];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(a,s){var p=Vf(a,2),g=p[0],E=p[1];return{x:g,y:E,id:"".concat(o.id,"_").concat(s)}})}}]),t}(pn),by=Bo(tr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Oy=Bo(tr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Bo(tr.prototype,"points",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"points"),tr.prototype),Bo(tr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"pointsPosition"),tr.prototype),Bo(tr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"width"),tr.prototype),Bo(tr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(tr.prototype,"height"),tr.prototype),tr);function wu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?wu=function(t){return typeof t}:wu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}var Zr,wy,Ay;function Ny(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Dy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ny(Object(t),!0).forEach(function(n){Ry(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ny(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function jy(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function sA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Cy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fA(e,r,t){return r&&Cy(e.prototype,r),t&&Cy(e,t),e}function Au(){return typeof Reflect<"u"&&Reflect.get?Au=Reflect.get:Au=function(r,t,n){var o=cA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Au.apply(this,arguments)}function cA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=zo(e),e!==null););return e}function dA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Zf(e,r)}function Zf(e,r){return Zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Zf(e,r)}function pA(e){var r=vA();return function(){var n=zo(e),o;if(r){var a=zo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return hA(this,o)}}function hA(e,r){if(r&&(wu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lo(e)}function Lo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zo(e)}function Ry(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Nu(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Jf=(Zr=function(e){dA(t,e);var r=pA(t);function t(){var n;sA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Ry(Lo(n),"modelType",pt.ELLIPSE_NODE),jy(Lo(n),"rx",wy,Lo(n)),jy(Lo(n),"ry",Ay,Lo(n)),n}return fA(t,[{key:"getNodeStyle",value:function(){var o=Au(zo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return Dy(Dy({},o),jt(a))}},{key:"width",get:function(){return this.rx*2}},{key:"height",get:function(){return this.ry*2}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.rx,p=this.ry;return[{x:o,y:a-p,id:"".concat(this.id,"_0")},{x:o+s,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p,id:"".concat(this.id,"_2")},{x:o-s,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),wy=Nu(Zr.prototype,"rx",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ay=Nu(Zr.prototype,"ry",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Nu(Zr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Zr.prototype,"width"),Zr.prototype),Nu(Zr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Zr.prototype,"height"),Zr.prototype),Zr);function Du(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Du=function(t){return typeof t}:Du=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}var Nr,Iy;function Qf(e,r){return bA(e)||mA(e,r)||gA(e,r)||yA()}function yA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gA(e,r){if(!!e){if(typeof e=="string")return _y(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _y(e,r)}}function _y(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function mA(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function bA(e){if(Array.isArray(e))return e}function By(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ly(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?By(Object(t),!0).forEach(function(n){Fy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):By(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function OA(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function EA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xA(e,r,t){return r&&zy(e.prototype,r),t&&zy(e,t),e}function ju(){return typeof Reflect<"u"&&Reflect.get?ju=Reflect.get:ju=function(r,t,n){var o=SA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},ju.apply(this,arguments)}function SA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Fo(e),e!==null););return e}function PA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&qf(e,r)}function qf(e,r){return qf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},qf(e,r)}function TA(e){var r=wA();return function(){var n=Fo(e),o;if(r){var a=Fo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return MA(this,o)}}function MA(e,r){if(r&&(Du(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cu(e)}function Cu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(e)}function Fy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ru(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ec=(Nr=function(e){PA(t,e);var r=TA(t);function t(){var n;EA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Fy(Cu(n),"modelType",pt.POLYGON_NODE),OA(Cu(n),"points",Iy,Cu(n)),n}return xA(t,[{key:"getNodeStyle",value:function(){var o=ju(Fo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return Ly(Ly({},o),jt(a))}},{key:"pointsPosition",get:function(){var o=this.x,a=this.y,s=this.width,p=this.height,g=this.points.map(function(E){return{x:E[0]+o-s/2,y:E[1]+a-p/2}});return g}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Qf(s,1),g=p[0];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var p=Qf(s,2),g=p[1];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this,a=this.x,s=this.y,p=this.width,g=this.height,E=this.points;return E.map(function(w,C){var z=Qf(w,2),$=z[0],ee=z[1];return{x:a+$-p/2,y:s+ee-g/2,id:"".concat(o.id,"_").concat(C)}})}}]),t}(pn),Iy=Ru(Nr.prototype,"points",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Ru(Nr.prototype,"pointsPosition",[f.m],Object.getOwnPropertyDescriptor(Nr.prototype,"pointsPosition"),Nr.prototype),Ru(Nr.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Nr.prototype,"width"),Nr.prototype),Ru(Nr.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Nr.prototype,"height"),Nr.prototype),Nr);function Iu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Iu=function(t){return typeof t}:Iu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}var tc,Hy;function ky(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Gy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ky(Object(t),!0).forEach(function(n){Uy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ky(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function AA(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function NA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $y(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DA(e,r,t){return r&&$y(e.prototype,r),t&&$y(e,t),e}function _u(){return typeof Reflect<"u"&&Reflect.get?_u=Reflect.get:_u=function(r,t,n){var o=jA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},_u.apply(this,arguments)}function jA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ho(e),e!==null););return e}function CA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&rc(e,r)}function rc(e,r){return rc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},rc(e,r)}function RA(e){var r=_A();return function(){var n=Ho(e),o;if(r){var a=Ho(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return IA(this,o)}}function IA(e,r){if(r&&(Iu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bu(e)}function Bu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ho(e){return Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ho(e)}function Uy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function BA(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var nc=(tc=function(e){CA(t,e);var r=RA(t);function t(){var n;NA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Uy(Bu(n),"modelType",pt.RECT_NODE),AA(Bu(n),"radius",Hy,Bu(n)),n}return DA(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=_u(Ho(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return Gy(Gy({},o),jt(a))}}]),t}(pn),Hy=BA(tc.prototype,"radius",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),tc);function Lu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lu=function(t){return typeof t}:Lu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}var Bn;function Xy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Yy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Xy(Object(t),!0).forEach(function(n){Ky(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function LA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Vy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zA(e,r,t){return r&&Vy(e.prototype,r),t&&Vy(e,t),e}function zu(){return typeof Reflect<"u"&&Reflect.get?zu=Reflect.get:zu=function(r,t,n){var o=FA(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},zu.apply(this,arguments)}function FA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=ko(e),e!==null););return e}function HA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&oc(e,r)}function oc(e,r){return oc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},oc(e,r)}function kA(e){var r=$A();return function(){var n=ko(e),o;if(r){var a=ko(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return GA(this,o)}}function GA(e,r){if(r&&(Lu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wy(e)}function Wy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ko(e){return ko=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ko(e)}function Ky(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Zy(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ic=(Bn=function(e){HA(t,e);var r=kA(t);function t(){var n;LA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Ky(Wy(n),"modelType",pt.TEXT_NODE),n}return zA(t,[{key:"getTextStyle",value:function(){var o=zu(ko(t.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Yy(Yy({},o),jt(a))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),s=a.fontSize,p=df({rows:o,fontSize:s,rowsLength:o.length}),g=p.width;return g}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),s=a.fontSize,p=df({rows:o,fontSize:s,rowsLength:o.length}),g=p.height;return g}}]),t}(pn),Zy(Bn.prototype,"width",[f.m],Object.getOwnPropertyDescriptor(Bn.prototype,"width"),Bn.prototype),Zy(Bn.prototype,"height",[f.m],Object.getOwnPropertyDescriptor(Bn.prototype,"height"),Bn.prototype),Bn);function Fu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fu=function(t){return typeof t}:Fu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function UA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Jy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function XA(e,r,t){return r&&Jy(e.prototype,r),t&&Jy(e,t),e}function YA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ac(e,r)}function ac(e,r){return ac=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},ac(e,r)}function VA(e){var r=KA();return function(){var n=Hu(e),o;if(r){var a=Hu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return WA(this,o)}}function WA(e,r){if(r&&(Fu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qy(e)}function Qy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hu(e){return Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hu(e)}function ZA(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var uc=function(e){YA(t,e);var r=VA(t);function t(){var n;UA(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),ZA(Qy(n),"modelType",pt.HTML_NODE),n}return XA(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,s=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),Br,qy,eg,tg;function rg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function JA(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?rg(Object(t),!0).forEach(function(n){og(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function lc(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function QA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qA(e,r,t){return r&&ng(e.prototype,r),t&&ng(e,t),e}function og(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ei(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(s){a[s]=n[s]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(s,p){return p(e,r,s)||s},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ig=(Br=function(){function e(r){QA(this,e),og(this,"graphModel",void 0),lc(this,"isShowHorizontal",qy,this),lc(this,"isShowVertical",eg,this),lc(this,"position",tg,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}return qA(e,[{key:"getStyle",value:function(){return JA({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,n){for(var o=t.x,a=t.y,s=!1,p=!1,g=0;g<n.length;g++){var E=n[g];if(E.id!==t.id&&(o===E.x&&(s=!0),a===E.y&&(p=!0),s&&p))break}return{isShowVertical:s,isShowHorizontal:p,position:{x:o,y:a}}}},{key:"getHorizontalSnapline",value:function(t,n){var o=!1,a,s=t.id,p;if(s){var g=this.graphModel.fakerNode;if(g&&g.id===s)p=br(g);else{var E=this.graphModel.getNodeModelById(s);p=br(E)}}for(var w=0;w<n.length;w++){var C=n[w];if(C.id!==t.id){var z=br(C);if(z.minY===p.minY||z.maxY===p.minY){o=!0,a=p.minY;break}if(z.minY===p.maxY||z.maxY===p.maxY){o=!0,a=p.maxY;break}}}return or({isShowHorizontal:o,position:{y:a}})}},{key:"getVerticalSnapline",value:function(t,n){var o=!1,a,s=t.id,p;if(s){var g=this.graphModel.fakerNode;if(g&&g.id===s)p=br(g);else{var E=this.graphModel.getNodeModelById(s);p=br(E)}}for(var w=0;w<n.length;w++){var C=n[w];if(C.id!==t.id){var z=br(C);if(z.minX===p.minX||z.maxX===p.minX){o=!0,a=p.minX;break}if(z.minX===p.maxX||z.maxX===p.maxX){o=!0,a=p.maxX;break}}}return or({isShowVertical:o,position:{x:a}})}},{key:"getSnapLinePosition",value:function(t,n){var o=this.getCenterSnapLine(t,n),a=o.isShowHorizontal,s=o.isShowVertical;if(!a){var p=this.getHorizontalSnapline(t,n);p.isShowHorizontal&&(o.isShowHorizontal=p.isShowHorizontal,o.position.y=p.position.y)}if(!s){var g=this.getVerticalSnapline(t,n);g.isShowVertical&&(o.isShowVertical=g.isShowVertical,o.position.x=g.position.x)}return o}},{key:"setSnaplineInfo",value:function(t){var n=t.isShowHorizontal,o=t.isShowVertical,a=t.position;this.position=a,this.isShowHorizontal=n,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var n=this.graphModel.nodes,o=this.getSnapLinePosition(t,n);this.setSnaplineInfo(o)}}]),e}(),qy=Ei(Br.prototype,"isShowHorizontal",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eg=Ei(Br.prototype,"isShowVertical",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tg=Ei(Br.prototype,"position",[f.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ei(Br.prototype,"clearSnapline",[f.k],Object.getOwnPropertyDescriptor(Br.prototype,"clearSnapline"),Br.prototype),Ei(Br.prototype,"setNodeSnapLine",[f.k],Object.getOwnPropertyDescriptor(Br.prototype,"setNodeSnapLine"),Br.prototype),Br),xi=new Map,ag=function(r){var t=to();function n(){r();var a=xi.get(t);if(a){var s=window.requestAnimationFrame(n);xi.set(t,s)}}var o=window.requestAnimationFrame(n);return xi.set(t,o),t},ku=function(r){var t=xi.get(r);t&&(window.cancelAnimationFrame(t),xi.delete(r))};function Gu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gu=function(t){return typeof t}:Gu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function Si(){return Si=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Si.apply(this,arguments)}function ug(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function $u(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ug(Object(t),!0).forEach(function(n){Qr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ug(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function e1(e,r){return o1(e)||n1(e,r)||r1(e,r)||t1()}function t1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r1(e,r){if(!!e){if(typeof e=="string")return lg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lg(e,r)}}function lg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function n1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function o1(e){if(Array.isArray(e))return e}function i1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a1(e,r,t){return r&&sg(e.prototype,r),t&&sg(e,t),e}function u1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&sc(e,r)}function sc(e,r){return sc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},sc(e,r)}function l1(e){var r=f1();return function(){var n=Uu(e),o;if(r){var a=Uu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return s1(this,o)}}function s1(e,r){if(r&&(Gu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jr(e)}function Jr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uu(e){return Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Uu(e)}function Qr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var c1=function(e){u1(t,e);var r=l1(t);function t(){var n;return i1(this,t),n=r.call(this),Qr(Jr(n),"preTargetNode",void 0),Qr(Jr(n),"sourceRuleResults",void 0),Qr(Jr(n),"targetRuleResults",void 0),Qr(Jr(n),"dragHandler",void 0),Qr(Jr(n),"t",void 0),Qr(Jr(n),"onDragStart",function(o){var a=o.event,s=n.props,p=s.anchorData,g=s.nodeModel,E=s.graphModel,w=E.overlapMode;E.selectNodeById(g.id),w!==mr.INCREASE&&g.autoToFront&&E.toFront(g.id),E.eventCenter.emit(at.ANCHOR_DRAGSTART,{data:p,e:a,nodeModel:g}),n.setState({startX:p.x,startY:p.y,endX:p.x,endY:p.y})}),Qr(Jr(n),"onDraging",function(o){var a=o.event,s=n.props,p=s.graphModel,g=s.nodeModel,E=s.anchorData,w=p.transformModel,C=p.eventCenter,z=p.width,$=p.height,ee=p.editConfigModel,ae=ee.autoExpand,ue=ee.stopMoveGraph,ce=a.clientX,Ne=a.clientY,Se=p.getPointByClient({x:ce,y:Ne}),Te=Se.domOverlayPosition,He=Te.x,Re=Te.y,et=Se.canvasOverlayPosition,ke=et.x,ht=et.y;n.t&&ku(n.t);var yt=[],lr=10;He<10?yt=[lr,0]:He+10>z?yt=[-lr,0]:Re<10?yt=[0,lr]:Re+10>$&&(yt=[0,-lr]),n.setState({endX:ke,endY:ht,draging:!0}),n.moveAnchorEnd(ke,ht),yt.length>0&&!ue&&ae&&(n.t=ag(function(){var Er=yt,nn=e1(Er,2),Fn=nn[0],uo=nn[1];w.translate(Fn,uo);var Xo=n.state,Hn=Xo.endX,Yo=Xo.endY;n.setState({endX:Hn-Fn,endY:Yo-uo}),n.moveAnchorEnd(Hn-Fn,Yo-uo)})),C.emit(at.ANCHOR_DRAG,{data:E,e:a,nodeModel:g})}),Qr(Jr(n),"onDragEnd",function(o){n.t&&ku(n.t),n.checkEnd(o),n.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear();var a=n.props,s=a.graphModel,p=a.nodeModel,g=a.anchorData;s.eventCenter.emit(at.ANCHOR_DRAGEND,{data:g,e:o,nodeModel:p})}),Qr(Jr(n),"checkEnd",function(o){var a=n.props,s=a.graphModel,p=a.nodeModel,g=a.anchorData,E=g.x,w=g.y,C=g.id;s.edgeType;var z=n.state,$=z.endX,ee=z.endY,ae=z.draging,ue=ja({x:$,y:ee},s);if(n.preTargetNode&&n.preTargetNode.state!==Et.DEFAULT&&n.preTargetNode.setElementState(Et.DEFAULT),!!ae&&ue&&ue.node){var ce=ue.node,Ne=ue.anchor.id,Se="".concat(p.id,"_").concat(ce.id,"_").concat(Ne,"_").concat(C),Te=n.sourceRuleResults.get(Se)||{},He=Te.isAllPass,Re=Te.msg,et=n.targetRuleResults.get(Se)||{},ke=et.isAllPass,ht=et.msg;if(He&&ke){ce.setElementState(Et.DEFAULT);var yt=s.edgeGenerator(p.getData(),s.getNodeModelById(ue.node.id).getData()),lr=s.addEdge($u($u({},yt),{},{sourceNodeId:p.id,sourceAnchorId:C,startPoint:{x:E,y:w},targetNodeId:ue.node.id,targetAnchorId:ue.anchor.id,endPoint:{x:ue.anchor.x,y:ue.anchor.y}})),Er=n.props.anchorData;s.eventCenter.emit(at.ANCHOR_DROP,{data:Er,e:o,nodeModel:p,edgeModel:lr})}else{var nn=ce.getData();s.eventCenter.emit(at.CONNECTION_NOT_ALLOWED,{data:nn,msg:ht||Re})}}}),n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,draging:!1},n.dragHandler=new ro({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return a1(t,[{key:"getAnchorShape",value:function(){var o=this.props,a=o.anchorData,s=o.style,p=o.node,g=p.getAnchorShape(a);if(g)return g;var E=a.x,w=a.y,C=$u($u({},s),s.hover);return Object(oe.g)("g",null,Object(oe.g)(bi,Si({className:"lf-node-anchor-hover"},C,{x:E,y:w})),Object(oe.g)(bi,Si({className:"lf-node-anchor"},s,{x:E,y:w})))}},{key:"moveAnchorEnd",value:function(o,a){var s=this.props,p=s.graphModel,g=s.nodeModel,E=s.anchorData,w=ja({x:o,y:a},p);if(w){var C=w.node,z=w.anchor.id;if(this.preTargetNode&&this.preTargetNode!==w.node&&this.preTargetNode.setElementState(Et.DEFAULT),E.id===z)return;this.preTargetNode=C;var $="".concat(g.id,"_").concat(C.id,"_").concat(z,"_").concat(E.id);if(!this.targetRuleResults.has($)){var ee=w.anchor,ae=g.isAllowConnectedAsSource(C,E,ee),ue=C.isAllowConnectedAsTarget(g,E,ee);this.sourceRuleResults.set($,Ra(ae)),this.targetRuleResults.set($,Ra(ue))}var ce=this.sourceRuleResults.get($),Ne=ce.isAllPass,Se=this.targetRuleResults.get($),Te=Se.isAllPass;Ne&&Te?C.setElementState(Et.ALLOW_CONNECT):C.setElementState(Et.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==Et.DEFAULT&&this.preTargetNode.setElementState(Et.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,a=o.startX,s=o.startY,p=o.endX,g=o.endY,E=Yr(a,s,p,g);return E>10}},{key:"render",value:function(){var o=this,a=this.state,s=a.startX,p=a.startY,g=a.endX,E=a.endY,w=this.props,C=w.anchorData.edgeAddable,z=w.edgeStyle;return Object(oe.g)("g",{className:"lf-anchor"},Object(oe.g)("g",{onMouseDown:function(ee){C!==!1&&o.dragHandler.handleMouseDown(ee)}},this.getAnchorShape()),this.isShowLine()&&Object(oe.g)(no,Si({x1:s,y1:p,x2:g,y2:E},z,{"pointer-events":"none"})))}}]),t}(oe.a),d1=c1;i(63);function fg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function p1(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?fg(Object(t),!0).forEach(function(n){h1(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function h1(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Xu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(t){return typeof t}:Xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function v1(e,r){return b1(e)||m1(e,r)||g1(e,r)||y1()}function y1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g1(e,r){if(!!e){if(typeof e=="string")return cg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cg(e,r)}}function cg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function m1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function b1(e){if(Array.isArray(e))return e}function dg(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.value,s=e.fontSize,p=e.fill,g=p===void 0?"currentColor":p,E=e.overflowMode,w=E===void 0?"default":E,C=e.textWidth,z=C===void 0?"":C,$=e.model,ee={textAnchor:"middle","dominant-baseline":"middle",x:t,y:o,fill:g};if(Object.entries(e).forEach(function(Te){var He=v1(Te,2),Re=He[0],et=He[1],ke=Xu(et);ke!=="object"&&(ee[Re]=et)}),a){var ae=String(a).split(/[\r\n]/g),ue=ae.length;if(w!=="default"){var ce=$.BaseType,Ne=$.modelType;if(ce===kt.NODE&&Ne!==pt.TEXT_NODE||ce===kt.EDGE&&z)return O1(e)}if(ue>1){var Se=ae.map(function(Te,He){var Re=s+2,et=(He-(ue-1)/2)*Re;return Object(oe.g)("tspan",{className:"lf-text-tspan",x:t,y:o+et},Te)});return Object(oe.g)("text",ee,Se)}return Object(oe.g)("text",ee,a)}}function O1(e){var r=e.value,t=e.fontSize,n=e.model,o=e.fontFamily,a=o===void 0?"":o,s=e.lineHeight,p=e.wrapPadding,g=p===void 0?"0, 0":p,E=e.overflowMode,w=e.x,C=e.y,z=n.width,$=n.textHeight,ee=e.textWidth||z,ae=String(r).split(/[\r\n]/g),ue=ae.length,ce=Vp({rows:ae,style:{fontSize:"".concat(t,"px"),width:"".concat(ee,"px"),fontFamily:a,lineHeight:s,padding:g},rowsLength:ue,className:"lf-get-text-height"}),Ne=n.height>ce?n.height:ce;$&&(Ne=$);var Se=E==="ellipsis";return Object(oe.g)("g",null,Object(oe.g)("foreignObject",{width:ee,height:Ne,x:w-ee/2,y:C-Ne/2},Object(oe.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Ne,width:ee,padding:g}},Object(oe.g)("div",{className:Se?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:p1({},e)},ae.map(function(Te){return Object(oe.g)("div",{className:"lf-node-text--auto-wrap-inner"},Te)})))))}function Yu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yu=function(t){return typeof t}:Yu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function fc(){return fc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},fc.apply(this,arguments)}function E1(e,r){return T1(e)||P1(e,r)||S1(e,r)||x1()}function x1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S1(e,r){if(!!e){if(typeof e=="string")return pg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pg(e,r)}}function pg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function P1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function T1(e){if(Array.isArray(e))return e}function M1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w1(e,r,t){return r&&hg(e.prototype,r),t&&hg(e,t),e}function A1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&cc(e,r)}function cc(e,r){return cc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},cc(e,r)}function N1(e){var r=j1();return function(){var n=Vu(e),o;if(r){var a=Vu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return D1(this,o)}}function D1(e,r){if(r&&(Yu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ln(e)}function Ln(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vu(e){return Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Vu(e)}function oo(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vg=function(e){A1(t,e);var r=N1(t);function t(n){var o;M1(this,t),o=r.call(this),oo(Ln(o),"dragHandler",void 0),oo(Ln(o),"sumDeltaX",0),oo(Ln(o),"sumDeltaY",0),oo(Ln(o),"stepDrag",void 0),oo(Ln(o),"onDraging",function(p){var g=p.deltaX,E=p.deltaY,w=o.props,C=w.model,z=w.graphModel.transformModel,$=z.fixDeltaXY(g,E),ee=E1($,2),ae=ee[0],ue=ee[1];C.moveText(ae,ue)}),oo(Ln(o),"dblClickHandler",function(){var p=o.props.editable;if(p){var g=o.props.model;g.setElementState(Et.TEXT_EDIT)}}),oo(Ln(o),"mouseDownHandle",function(p){var g=o.props,E=g.draggable,w=g.graphModel.editConfigModel.nodeTextDraggable;(E||w)&&o.stepDrag.handleMouseDown(p)});var a=n.model,s=n.draggable;return o.stepDrag=new ro({onDraging:o.onDraging,step:1,model:a,isStopPropagation:s}),o}return w1(t,[{key:"getShape",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=a.text,g=s.editConfigModel,E=p.value,w=p.x,C=p.y,z=p.editable,$=p.draggable,ee={x:w,y:C,className:"",value:E};z?ee.className="lf-element-text":$||g.nodeTextDraggable?ee.className="lf-text-draggable":ee.className="lf-text-disabled";var ae=a.getTextStyle();return Object(oe.g)(dg,fc({},ee,ae,{model:a}))}},{key:"render",value:function(){var o=this.props.model.text;if(o)return Object(oe.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(oe.a),C1=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Wu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wu=function(t){return typeof t}:Wu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function Ku(e,r){return B1(e)||_1(e,r)||I1(e,r)||R1()}function R1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I1(e,r){if(!!e){if(typeof e=="string")return yg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yg(e,r)}}function yg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function B1(e){if(Array.isArray(e))return e}function L1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function z1(e,r,t){return r&&gg(e.prototype,r),t&&gg(e,t),e}function F1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&dc(e,r)}function dc(e,r){return dc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},dc(e,r)}function H1(e){var r=G1();return function(){var n=Zu(e),o;if(r){var a=Zu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return k1(this,o)}}function k1(e,r){if(r&&(Wu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rr(e)}function rr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zu(e){return Zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zu(e)}function ur(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vn=function(e){F1(t,e);var r=H1(t);function t(n){var o;L1(this,t),o=r.call(this),ur(rr(o),"t",void 0),ur(rr(o),"moveOffset",void 0),ur(rr(o),"stepDrag",void 0),ur(rr(o),"contextMenuTime",void 0),ur(rr(o),"startTime",void 0),ur(rr(o),"clickTimer",void 0),ur(rr(o),"onDragStart",function(E){var w=E.event,C=w.clientX,z=w.clientY,$=o.props,ee=$.model,ae=$.graphModel,ue=ae.getPointByClient({x:C,y:z}),ce=ue.canvasOverlayPosition,Ne=ce.x,Se=ce.y;o.moveOffset={x:ee.x-Ne,y:ee.y-Se}}),ur(rr(o),"onDraging",function(E){var w=E.event,C=o.props,z=C.model,$=C.graphModel,ee=$.editConfigModel,ae=ee.stopMoveGraph,ue=ee.autoExpand,ce=$.transformModel,Ne=$.width,Se=$.height,Te=$.gridSize;z.isDragging=!0;var He=w.clientX,Re=w.clientY,et=$.getPointByClient({x:He,y:Re}),ke=et.canvasOverlayPosition,ht=ke.x,yt=ke.y,lr=ce.CanvasPointToHtmlPoint([ht,yt]),Er=Ku(lr,2),nn=Er[0],Fn=Er[1];if(ht=ht+o.moveOffset.x,yt=yt+o.moveOffset.y,ht=jn(ht,Te),yt=jn(yt,Te),!Ne||!Se){$.moveNode2Coordinate(z.id,ht,yt);return}var uo=nn<0||Fn<0||nn>Ne||Fn>Se;if(!(ue&&!ae&&uo)){var Xo=ce.CanvasPointToHtmlPoint([ht-z.width/2,yt-z.height/2]),Hn=Ku(Xo,2),Yo=Hn[0],rd=Hn[1],NC=ce.CanvasPointToHtmlPoint([ht+z.width/2,yt+z.height/2]),bm=Ku(NC,2),DC=bm[0],jC=bm[1],Gl=Math.max(Te,20),Vo=[];Yo<0?Vo=[Gl,0]:DC>$.width?Vo=[-Gl,0]:rd<0?Vo=[0,Gl]:jC>$.height&&(Vo=[0,-Gl]),o.t&&ku(o.t),Vo.length>0&&!ae&&ue?o.t=ag(function(){var CC=Vo,Om=Ku(CC,2),Em=Om[0],xm=Om[1];ce.translate(Em,xm),$.moveNode(z.id,-Em/ce.SCALE_X,-xm/ce.SCALE_X)}):$.moveNode2Coordinate(z.id,ht,yt)}}),ur(rr(o),"onDragEnd",function(){o.t&&ku(o.t);var E=o.props.model;E.isDragging=!1}),ur(rr(o),"handleClick",function(E){if(!!o.startTime){var w=new Date().getTime()-o.startTime;if(!(w>200)){var C=o.props,z=C.model,$=C.graphModel,ee=z.getData(),ae=$.getPointByClient({x:E.clientX,y:E.clientY}),ue={data:ee,e:E,position:ae},ce=E.button===2,Ne=E.detail===2;if(!ce){var Se=$.editConfigModel;$.selectNodeById(z.id,Hp(E,Se)),o.toFront(),Ne?(Se.nodeTextEdit&&z.text.editable&&(z.setSelected(!1),$.setElementStateById(z.id,Et.TEXT_EDIT)),$.eventCenter.emit(at.NODE_DBCLICK,ue)):($.eventCenter.emit(at.ELEMENT_CLICK,ue),$.eventCenter.emit(at.NODE_CLICK,ue))}}}}),ur(rr(o),"handleContextMenu",function(E){E.preventDefault();var w=o.props,C=w.model,z=w.graphModel,$=C.getData(),ee=z.getPointByClient({x:E.clientX,y:E.clientY});z.setElementStateById(C.id,Et.SHOW_MENU,ee.domOverlayPosition),z.selectNodeById(C.id),z.eventCenter.emit(at.NODE_CONTEXTMENU,{data:$,e:E,position:ee}),o.toFront()}),ur(rr(o),"handleMouseDown",function(E){var w=o.props,C=w.model,z=w.graphModel;o.startTime=new Date().getTime();var $=z.editConfigModel;$.adjustNodePosition&&C.draggable&&o.stepDrag&&o.stepDrag.handleMouseDown(E)}),ur(rr(o),"setHoverON",function(E){var w=o.props,C=w.model,z=w.graphModel;if(!C.isHovered){var $=C.getData();C.setHovered(!0),z.eventCenter.emit(at.NODE_MOUSEENTER,{data:$,e:E})}}),ur(rr(o),"setHoverOFF",function(E){var w=o.props,C=w.model,z=w.graphModel,$=C.getData();!C.isHovered||(C.setHovered(!1),z.eventCenter.emit(at.NODE_MOUSELEAVE,{data:$,e:E}))}),ur(rr(o),"onMouseOut",function(E){C1&&o.setHoverOFF(E)});var a=n.graphModel,s=a.gridSize,p=a.eventCenter,g=n.model;return o.stepDrag=new ro({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,step:s,eventType:"NODE",isStopPropagation:!1,eventCenter:p,model:g}),o}return z1(t,[{key:"getAnchorShape",value:function(o){return null}},{key:"getAnchors",value:function(){var o=this,a=this.props,s=a.model,p=a.graphModel,g=s.isSelected,E=s.isHitable,w=s.isDragging,C=s.isShowAnchor;return E&&(g||C)&&!w?Pa(s.anchors,function(z,$){var ee=s.getAnchorLineStyle(z),ae=s.getAnchorStyle(z);return Object(oe.g)(d1,{anchorData:z,node:o,style:ae,edgeStyle:ee,anchorIndex:$,nodeModel:s,graphModel:p,setHoverOFF:o.setHoverOFF})}):[]}},{key:"getText",value:function(){var o=this.props,a=o.model,s=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";if(a.text){var p=s.editConfigModel,g=!1;return(a.text.draggable||p.nodeTextDraggable)&&(g=!0),Object(oe.g)(vg,{editable:p.nodeTextEdit&&a.text.editable,model:a,graphModel:s,draggable:g})}}},{key:"getStateClassName",value:function(){var o=this.props.model,a=o.state,s=o.isDraging,p=o.isSelected,g="lf-node";switch(a){case Et.ALLOW_CONNECT:g+=" lf-node-allow";break;case Et.NOT_ALLOW_CONNECT:g+=" lf-node-not-allow";break;default:g+=" lf-node-default";break}return s&&(g+=" lf-isDragging"),p&&(g+=" lf-node-selected"),g}},{key:"toFront",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=s.overlapMode;p!==mr.INCREASE&&a.autoToFront&&s.toFront(a.id)}},{key:"render",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=s.editConfigModel,g=p.hideAnchors,E=p.adjustNodePosition,w=s.gridSize,C=s.transformModel.SCALE_X,z=a.isHitable,$=a.draggable,ee=Object(oe.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),g?null:this.getAnchors()),ae;return z?(E&&$&&this.stepDrag.setStep(w*C),ae=Object(oe.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},ee)):ae=Object(oe.g)("g",{className:this.getStateClassName()},ee),ae}}],[{key:"getModel",value:function(o){return o}}]),t}(oe.a);function Ju(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ju=function(t){return typeof t}:Ju=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function pc(){return pc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},pc.apply(this,arguments)}function $1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U1(e,r,t){return r&&mg(e.prototype,r),t&&mg(e,t),e}function X1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&hc(e,r)}function hc(e,r){return hc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},hc(e,r)}function Y1(e){var r=K1();return function(){var n=Qu(e),o;if(r){var a=Qu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return V1(this,o)}}function V1(e,r){if(r&&(Ju(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W1(e)}function W1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qu(e){return Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qu(e)}var vc=function(e){X1(t,e);var r=Y1(t);function t(){return $1(this,t),r.apply(this,arguments)}return U1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(oe.g)(In,pc({},a,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}]),t}(vn);function qu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qu=function(t){return typeof t}:qu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function yc(){return yc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},yc.apply(this,arguments)}function Z1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J1(e,r,t){return r&&bg(e.prototype,r),t&&bg(e,t),e}function Q1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&gc(e,r)}function gc(e,r){return gc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},gc(e,r)}function q1(e){var r=rN();return function(){var n=el(e),o;if(r){var a=el(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return eN(this,o)}}function eN(e,r){if(r&&(qu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tN(e)}function tN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function el(e){return el=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},el(e)}var mc=function(e){Q1(t,e);var r=q1(t);function t(){return Z1(this,t),r.apply(this,arguments)}return J1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,s=o.y,p=o.r,g=o.getNodeStyle();return Object(oe.g)(bi,yc({},g,{x:a,y:s,r:p}))}}]),t}(vn);function tl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tl=function(t){return typeof t}:tl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tl(e)}function nN(e,r){return uN(e)||aN(e,r)||iN(e,r)||oN()}function oN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iN(e,r){if(!!e){if(typeof e=="string")return Og(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Og(e,r)}}function Og(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function aN(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function uN(e){if(Array.isArray(e))return e}function Eg(e){var r=e.points,t=e.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(o){var a=nN(o,2),s=a[0],p=a[1],g=tl(p);g!=="object"&&(n[s]=p)}),t?n.className="lf-basic-shape ".concat(t):n.className="lf-basic-shape",n.points=r.map(function(o){return o.join(",")}).join(" "),Object(oe.g)("polygon",n)}function rl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rl=function(t){return typeof t}:rl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rl(e)}function bc(){return bc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},bc.apply(this,arguments)}function lN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function xg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sN(e,r,t){return r&&xg(e.prototype,r),t&&xg(e,t),e}function fN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Oc(e,r)}function Oc(e,r){return Oc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Oc(e,r)}function cN(e){var r=hN();return function(){var n=nl(e),o;if(r){var a=nl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return dN(this,o)}}function dN(e,r){if(r&&(rl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pN(e)}function pN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nl(e){return nl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},nl(e)}var Ec=function(e){fN(t,e);var r=cN(t);function t(){return lN(this,t),r.apply(this,arguments)}return sN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,s=o.y,p=o.width,g=o.height,E=o.points,w=o.getNodeStyle(),C={transform:"matrix(1 0 0 1 ".concat(a-p/2," ").concat(s-g/2,")")};return Object(oe.g)("g",C,Object(oe.g)(Eg,bc({},w,{points:E,x:a,y:s})))}}]),t}(vn);function ol(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ol=function(t){return typeof t}:ol=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function xc(){return xc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},xc.apply(this,arguments)}function vN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yN(e,r,t){return r&&Sg(e.prototype,r),t&&Sg(e,t),e}function gN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Sc(e,r)}function Sc(e,r){return Sc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Sc(e,r)}function mN(e){var r=EN();return function(){var n=il(e),o;if(r){var a=il(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return bN(this,o)}}function bN(e,r){if(r&&(ol(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ON(e)}function ON(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function il(e){return il=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},il(e)}var Pc=function(e){gN(t,e);var r=mN(t);function t(){return vN(this,t),r.apply(this,arguments)}return yN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(oe.g)("g",null,Object(oe.g)(Eg,xc({},a,{points:o.points,x:o.x,y:o.y})))}}]),t}(vn);function al(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?al=function(t){return typeof t}:al=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function xN(e,r){return MN(e)||TN(e,r)||PN(e,r)||SN()}function SN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PN(e,r){if(!!e){if(typeof e=="string")return Pg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pg(e,r)}}function Pg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function TN(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function MN(e){if(Array.isArray(e))return e}function wN(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.rx,s=a===void 0?4:a,p=e.ry,g=p===void 0?4:p,E=e.className,w={cx:t,cy:o,rx:s,ry:g,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(C){var z=xN(C,2),$=z[0],ee=z[1],ae=al(ee);ae!=="object"&&(w[$]=ee)}),E?w.className="lf-basic-shape ".concat(E):w.className="lf-basic-shape",Object(oe.g)("ellipse",w)}function ul(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ul=function(t){return typeof t}:ul=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ul(e)}function Tc(){return Tc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Tc.apply(this,arguments)}function AN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Tg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function NN(e,r,t){return r&&Tg(e.prototype,r),t&&Tg(e,t),e}function DN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Mc(e,r)}function Mc(e,r){return Mc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Mc(e,r)}function jN(e){var r=IN();return function(){var n=ll(e),o;if(r){var a=ll(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return CN(this,o)}}function CN(e,r){if(r&&(ul(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RN(e)}function RN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ll(e){return ll=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ll(e)}var wc=function(e){DN(t,e);var r=jN(t);function t(){return AN(this,t),r.apply(this,arguments)}return NN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(oe.g)(wN,Tc({},a,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}]),t}(vn);function sl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sl=function(t){return typeof t}:sl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function Mg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function wg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Mg(Object(t),!0).forEach(function(n){_N(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function _N(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function BN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ag(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LN(e,r,t){return r&&Ag(e.prototype,r),t&&Ag(e,t),e}function zN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ac(e,r)}function Ac(e,r){return Ac=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ac(e,r)}function FN(e){var r=GN();return function(){var n=fl(e),o;if(r){var a=fl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return HN(this,o)}}function HN(e,r){if(r&&(sl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kN(e)}function kN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fl(e){return fl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fl(e)}var Nc=function(e){zN(t,e);var r=FN(t);function t(){return BN(this,t),r.apply(this,arguments)}return LN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),s=o.text;if(s&&s.value&&a.background&&a.background.fill!=="transparnet"){var p=s.x,g=s.y,E=o.width,w=o.height,C=wg(wg({},a.background),{},{x:p,y:g-1,width:E,height:w});return Object(oe.g)(In,C)}}},{key:"getShape",value:function(){return Object(oe.g)("g",null,this.getBackground())}}]),t}(vn);function cl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cl=function(t){return typeof t}:cl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cl(e)}function Dc(){return Dc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Dc.apply(this,arguments)}function $N(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UN(e,r,t){return r&&Ng(e.prototype,r),t&&Ng(e,t),e}function XN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jc(e,r)}function jc(e,r){return jc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jc(e,r)}function YN(e){var r=WN();return function(){var n=dl(e),o;if(r){var a=dl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return VN(this,o)}}function VN(e,r){if(r&&(cl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pi(e)}function Pi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dl(e){return dl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},dl(e)}function pl(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Cc=function(e){XN(t,e);var r=YN(t);function t(){var n;$N(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),pl(Pi(n),"ref",void 0),pl(Pi(n),"currentProperties",void 0),pl(Pi(n),"preProperties",void 0),pl(Pi(n),"setRef",function(p){n.ref=p}),n}return UN(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!(this.preProperties&&this.preProperties===this.currentProperties))return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,a=o.x,s=o.y,p=o.height,g=o.width,E=o.getNodeStyle();return this.currentProperties=JSON.stringify(o.properties),Object(oe.g)("foreignObject",Dc({},E,{x:a-g/2,y:s-p/2,width:g,height:p,ref:this.setRef}))}}]),t}(vn);function hl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hl=function(t){return typeof t}:hl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function Rc(){return Rc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Rc.apply(this,arguments)}function Dg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function io(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Dg(Object(t),!0).forEach(function(n){Bc(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function KN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function jg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ZN(e,r,t){return r&&jg(e.prototype,r),t&&jg(e,t),e}function JN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ic(e,r)}function Ic(e,r){return Ic=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ic(e,r)}function QN(e){var r=eD();return function(){var n=vl(e),o;if(r){var a=vl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return qN(this,o)}}function qN(e,r){if(r&&(hl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _c(e)}function _c(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vl(e){return vl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vl(e)}function Bc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var tD=function(e){JN(t,e);var r=QN(t);function t(n){var o;return KN(this,t),o=r.call(this,n),Bc(_c(o),"setHoverON",function(){o.setState({isHoverd:!0})}),Bc(_c(o),"setHoverOFF",function(){o.setState({isHoverd:!1})}),o.state={isHoverd:!1},o}return ZN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),s=o.text,p=a.background||{},g=this.state.isHoverd;if(g&&a.hover&&a.hover.background&&(p=io(io({},p),a.hover.background)),s&&s.value&&p.fill!=="transparent"){var E=a.fontSize,w=a.overflowMode,C=a.lineHeight,z=a.wrapPadding,$=a.textWidth,ee=s.value,ae=s.x,ue=s.y,ce=String(ee).split(/[\r\n]/g),Ne=ce.length,Se;if(w==="autoWrap"&&$){var Te=Vp({rows:ce,style:{fontSize:"".concat(E,"px"),width:"".concat($,"px"),lineHeight:C,padding:z},rowsLength:Ne,className:"lf-get-text-height"});Se=io(io({},p),{},{x:ae-1,y:ue-1,width:$,height:Te})}else{ce&&ce.forEach(function(ht){Lh(ht)});var He=df({rows:ce,fontSize:E,rowsLength:Ne}),Re=He.width,et=He.height;if(typeof p.wrapPadding=="string"){var ke=p.wrapPadding.split(",").filter(function(ht){return ht.trim()}).map(function(ht){return parseFloat(ht.trim())});ke.length>0&&ke.length<=4&&(ke.length===1?ke=[ke[0],ke[0],ke[0],ke[0]]:ke.length===2?ke=[ke[0],ke[1],ke[0],ke[1]]:ke.length===3&&(ke=[ke[0],ke[1],ke[2],ke[1]]),Re+=ke[1]+ke[3],et+=ke[0]+ke[2],ae=ae+(ke[1]-ke[3])/2,ue=ue+(ke[2]-ke[0])/2)}Se=io(io({},p),{},{x:ae-1,y:ue-1,width:Re,height:et})}return Object(oe.g)(In,Se)}}},{key:"getShape",value:function(){var o=this.props.model,a=o.text,s=a.value,p=a.x,g=a.y;if(!!s){var E=o.getTextStyle(),w=io({x:p,y:g,className:"lf-element-text",value:s},E);return Object(oe.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(oe.g)(dg,Rc({},w,{model:o})))}}}]),t}(vg);function yl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yl=function(t){return typeof t}:yl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}function Lc(){return Lc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Lc.apply(this,arguments)}function Cg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Cg(Object(t),!0).forEach(function(n){zr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function rD(e,r){return aD(e)||iD(e,r)||oD(e,r)||nD()}function nD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oD(e,r){if(!!e){if(typeof e=="string")return Rg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rg(e,r)}}function Rg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function iD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function aD(e){if(Array.isArray(e))return e}function uD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ig(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lD(e,r,t){return r&&Ig(e.prototype,r),t&&Ig(e,t),e}function sD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zc(e,r)}function zc(e,r){return zc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},zc(e,r)}function fD(e){var r=dD();return function(){var n=gl(e),o;if(r){var a=gl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return cD(this,o)}}function cD(e,r){if(r&&(yl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lr(e)}function Lr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gl(e){return gl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gl(e)}function zr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var qr;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(qr||(qr={}));var _g=function(e){sD(t,e);var r=fD(t);function t(){var n;return uD(this,t),n=r.call(this),zr(Lr(n),"dragHandler",void 0),zr(Lr(n),"oldEdge",void 0),zr(Lr(n),"preTargetNode",void 0),zr(Lr(n),"targetRuleResults",void 0),zr(Lr(n),"sourceRuleResults",void 0),zr(Lr(n),"onDragStart",function(){var o=n.props,a=o.x,s=o.y,p=o.edgeModel,g=p.startPoint,E=p.endPoint,w=p.pointsList;n.oldEdge={startPoint:g,endPoint:E,pointsList:w},n.setState({endX:a,endY:s,draging:!0}),p.isHitable=!1}),zr(Lr(n),"onDraging",function(o){var a=o.deltaX,s=o.deltaY,p=n.state,g=p.endX,E=p.endY,w=n.props,C=w.graphModel,z=w.type,$=C.transformModel,ee=$.moveCanvasPointByHtml([g,E],a,s),ae=rD(ee,2),ue=ae[0],ce=ae[1];n.setState({endX:ue,endY:ce,draging:!0});var Ne=n.props.edgeModel,Se=ja({x:g,y:E},C);if(Se&&Se.node&&n.isAllowAdjust(Se)){var Te,He=Ne.startPoint,Re=Ne.endPoint,et=Ne.sourceNode,ke=Ne.targetNode;z===qr.SOURCE?Te={startPoint:{x:Se.anchor.x,y:Se.anchor.y},endPoint:{x:Re.x,y:Re.y},sourceNode:Se.node,targetNode:ke}:z===qr.TARGET&&(Te={startPoint:{x:He.x,y:He.y},endPoint:{x:Se.anchor.x,y:Se.anchor.y},sourceNode:et,targetNode:Se.node}),Ne.updateAfterAdjustStartAndEnd(Te)}else z===qr.SOURCE?Ne.updateStartPoint({x:ue,y:ce}):z===qr.TARGET&&Ne.updateEndPoint({x:ue,y:ce})}),zr(Lr(n),"onDragEnd",function(){var o;n.setState({draging:!1});var a=n.props,s=a.graphModel,p=a.edgeModel,g=a.type;p.isHitable=!0;var E=n.state,w=E.endX,C=E.endY,z=E.draging,$=ja({x:w,y:C},s);if(!!z){if($&&$.node&&n.isAllowAdjust($)){var ee,ae=p.getData(),ue=yn(yn({},ae),{},{sourceAnchorId:"",targetAnchorId:"",text:(ae==null||(ee=ae.text)===null||ee===void 0?void 0:ee.value)||""});if(g===qr.SOURCE){var ce=s.edgeGenerator(s.getNodeModelById($.node.id).getData(),s.getNodeModelById(p.targetNodeId).getData(),ue);ue=yn(yn({},ce),{},{sourceNodeId:$.node.id,sourceAnchorId:$.anchor.id,startPoint:{x:$.anchor.x,y:$.anchor.y},targetNodeId:p.targetNodeId,endPoint:yn({},p.endPoint)})}else if(g===qr.TARGET){var Ne=s.edgeGenerator(s.getNodeModelById(p.sourceNodeId).getData(),s.getNodeModelById($.node.id).getData(),ue);ue=yn(yn({},Ne),{},{sourceNodeId:p.sourceNodeId,startPoint:yn({},p.startPoint),targetNodeId:$.node.id,targetAnchorId:$.anchor.id,endPoint:{x:$.anchor.x,y:$.anchor.y}})}s.deleteEdgeById(p.id);var Se=s.addEdge(yn({},ue));s.eventCenter.emit(at.EDGE_EXCHANGE_NODE,{data:{newEdge:Se.getData(),oldEdge:p.getData()}})}else n.recoveryEdge();(o=n.preTargetNode)===null||o===void 0||o.setElementState(Et.DEFAULT)}}),zr(Lr(n),"recoveryEdge",function(){var o=n.props.edgeModel,a=n.oldEdge,s=a.startPoint,p=a.endPoint,g=a.pointsList;o.updateStartPoint(s),o.updateEndPoint(p),o.modelType!==pt.LINE_EDGE&&(o.pointsList=g,o.initPoints())}),zr(Lr(n),"getAdjustPointStyle",function(){var o=n.props.graphModel.theme,a=o.edgeAdjust;return a}),n.state={draging:!1,endX:0,endY:0},n.targetRuleResults=new Map,n.sourceRuleResults=new Map,n.dragHandler=Mf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd}),n}return lD(t,[{key:"isAllowAdjust",value:function(o){var a=this.props,s=a.edgeModel;s.id;var p=s.sourceNode,g=s.targetNode,E=s.sourceAnchorId,w=s.targetAnchorId,C=a.type,z=null,$=null,ee=null,ae=null;if(C===qr.SOURCE?(z=o.node,$=g,ee=o.anchor,ae=g.getAnchorInfo(w)):(z=p,$=o.node,ae=o.anchor,ee=p.getAnchorInfo(E)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(Et.DEFAULT),this.preTargetNode=o.node,ae.id===ee.id)return!1;var ue="".concat(z.id,"_").concat($.id,"_").concat(ee.id,"_").concat(ae.id);if(!this.targetRuleResults.has(ue)){var ce=z.isAllowConnectedAsSource($,ee,ae),Ne=$.isAllowConnectedAsTarget(z,ee,ae);this.sourceRuleResults.set(ue,Ra(ce)),this.targetRuleResults.set(ue,Ra(Ne))}var Se=this.sourceRuleResults.get(ue),Te=Se.isAllPass,He=this.targetRuleResults.get(ue),Re=He.isAllPass,et=Te&&Re?Et.ALLOW_CONNECT:Et.NOT_ALLOW_CONNECT;return C===qr.SOURCE?z.setElementState(et):$.setElementState(et),Te&&Re}},{key:"render",value:function(){var o=this.props,a=o.x,s=o.y,p=this.state.draging,g=this.getAdjustPointStyle();return Object(oe.g)("g",null,Object(oe.g)(bi,Lc({className:"lf-edge-adjust-point"},g,{x:a,y:s,onMouseDown:this.dragHandler,"pointer-events":p?"none":""})))}}]),t}(oe.a);function ml(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ml=function(t){return typeof t}:ml=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function bl(){return bl=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},bl.apply(this,arguments)}function Bg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Lg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Bg(Object(t),!0).forEach(function(n){Hr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function pD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hD(e,r,t){return r&&zg(e.prototype,r),t&&zg(e,t),e}function vD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Fc(e,r)}function Fc(e,r){return Fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Fc(e,r)}function yD(e){var r=mD();return function(){var n=Ol(e),o;if(r){var a=Ol(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return gD(this,o)}}function gD(e,r){if(r&&(ml(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fr(e)}function Fr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ol(e){return Ol=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ol(e)}function Hr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ti=function(e){vD(t,e);var r=yD(t);function t(){var n;pD(this,t);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r.call.apply(r,[this].concat(a)),Hr(Fr(n),"startTime",void 0),Hr(Fr(n),"contextMenuTime",void 0),Hr(Fr(n),"clickTimer",void 0),Hr(Fr(n),"handleHover",function(p,g){var E=n.props,w=E.model,C=E.graphModel.eventCenter;w.setHovered(p);var z=p?at.EDGE_MOUSEENTER:at.EDGE_MOUSELEAVE,$=w.getData();C.emit(z,{data:$,e:g})}),Hr(Fr(n),"setHoverON",function(p){var g=n.props.model.isHovered;g||n.handleHover(!0,p)}),Hr(Fr(n),"setHoverOFF",function(p){n.handleHover(!1,p)}),Hr(Fr(n),"handleContextMenu",function(p){p.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var g=n.props,E=g.model,w=g.graphModel,C=w.getPointByClient({x:p.clientX,y:p.clientY});w.setElementStateById(E.id,Et.SHOW_MENU,C.domOverlayPosition),n.toFront(),w.selectEdgeById(E.id);var z=E==null?void 0:E.getData();w.eventCenter.emit(at.EDGE_CONTEXTMENU,{data:z,e:p,position:C})}),Hr(Fr(n),"handleMouseDown",function(p){p.stopPropagation(),n.startTime=new Date().getTime()}),Hr(Fr(n),"handleMouseUp",function(p){if(!!n.startTime){var g=new Date().getTime()-n.startTime;if(!(g>200)){var E=p.button===2;if(!E){var w=p.detail===2,C=n.props,z=C.model,$=C.graphModel,ee=z==null?void 0:z.getData(),ae=$.getPointByClient({x:p.clientX,y:p.clientY});if(w){var ue=$.editConfigModel,ce=$.textEditElement;if(ce&&ce.id===z.id&&$.setElementStateById(z.id,Et.DEFAULT),ue.edgeTextEdit&&z.text.editable&&$.setElementStateById(z.id,Et.TEXT_EDIT),z.modelType===pt.POLYLINE_EDGE){var Ne=z,Se=$.getPointByClient({x:p.x,y:p.y}),Te=Se.canvasOverlayPosition,He=Te.x,Re=Te.y,et=Fh({x:He,y:Re},Ne.points);Ne.dbClickPosition=et}$.eventCenter.emit(at.EDGE_DBCLICK,{data:ee,e:p,position:ae})}else $.eventCenter.emit(at.ELEMENT_CLICK,{data:ee,e:p,position:ae}),$.eventCenter.emit(at.EDGE_CLICK,{data:ee,e:p,position:ae});var ke=$.editConfigModel;$.selectEdgeById(z.id,Hp(p,ke)),n.toFront()}}}}),Hr(Fr(n),"getIsDraging",function(){return!1}),n}return hD(t,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,a=o.model,s=o.graphModel;if(a.state===Et.TEXT_EDIT)return"";var p=!1,g=s.editConfigModel;return(a.text.draggable||g.edgeTextDraggable)&&(p=!0),Object(oe.g)(tD,{editable:g.edgeTextEdit&&a.text.editable,model:a,graphModel:s,draggable:p})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint,p=o.isSelected,g=this.state,E=g.hover;return{start:a,end:s,hover:E,isSelected:p}}},{key:"getArrowStyle",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=a.getEdgeStyle(),g=a.getEdgeAnimationStyle(),E=s.theme.arrow,w=a.isAnimation?g.stroke:p.stroke;return Lg(Lg({},p),{},{fill:w,stroke:w},E)}},{key:"getArrow",value:function(){var o=this.props.model.id,a=this.getArrowStyle(),s=a.refY,p=s===void 0?0:s,g=a.refX,E=g===void 0?2:g;return Object(oe.g)("g",null,Object(oe.g)("defs",null,Object(oe.g)("marker",{id:"marker-start-".concat(o),refX:E,refY:p,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(oe.g)("marker",{id:"marker-end-".concat(o),refX:E,refY:p,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var o=this.getArrowStyle(),a=o.stroke,s=o.strokeWidth,p=o.offset,g=o.verticalLength;return Object(oe.g)("path",{stroke:a,fill:a,strokeWidth:s,d:"M 0 0 L ".concat(p," -").concat(g," L ").concat(p," ").concat(g," Z")})}},{key:"getEndArrow",value:function(){var o=this.getArrowStyle(),a=o.stroke,s=o.strokeWidth,p=o.offset,g=o.verticalLength;return Object(oe.g)("path",{stroke:a,fill:a,strokeWidth:s,transform:"rotate(180)",d:"M 0 0 L ".concat(p," -").concat(g," L ").concat(p," ").concat(g," Z")})}},{key:"getAdjustPoints",value:function(){var o=this.props,a=o.model,s=o.graphModel,p=a.getAdjustStart(),g=a.getAdjustEnd();return Object(oe.g)("g",null,Object(oe.g)(_g,bl({type:"SOURCE"},p,{edgeModel:a,graphModel:s})),Object(oe.g)(_g,bl({type:"TARGET"},g,{edgeModel:a,graphModel:s})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(oe.g)("g",null)}},{key:"getAppend",value:function(){return Object(oe.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,a=o.graphModel,s=o.model,p=a.overlapMode;p!==mr.INCREASE&&a.toFront(s.id)}},{key:"render",value:function(){var o=this.props,a=o.model,s=a.isSelected,p=a.isHitable,g=o.graphModel,E=this.getIsDraging(),w=g.editConfigModel.adjustEdgeStartAndEnd,C=g.animation,z=s&&C.edge&&g.getSelectElements().edges.length===1;return Object(oe.g)("g",null,Object(oe.g)("g",{className:["lf-edge",!p&&"pointer-none",s&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),z&&this.getAnimation(),this.getText(),this.getArrow()),w&&s&&!E?this.getAdjustPoints():"")}}]),t}(oe.a);function El(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?El=function(t){return typeof t}:El=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function bD(e,r){return SD(e)||xD(e,r)||ED(e,r)||OD()}function OD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ED(e,r){if(!!e){if(typeof e=="string")return Fg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fg(e,r)}}function Fg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function xD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function SD(e){if(Array.isArray(e))return e}function PD(e){var r={d:""};return Object.entries(e).forEach(function(t){var n=bD(t,2),o=n[0],a=n[1],s=El(a);(o==="style"||s!=="object")&&(r[o]=a)}),Object(oe.g)("path",r)}var Go=PD;function xl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xl=function(t){return typeof t}:xl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}function Sl(){return Sl=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Sl.apply(this,arguments)}function TD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Hg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MD(e,r,t){return r&&Hg(e.prototype,r),t&&Hg(e,t),e}function wD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Hc(e,r)}function Hc(e,r){return Hc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Hc(e,r)}function AD(e){var r=jD();return function(){var n=Pl(e),o;if(r){var a=Pl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return ND(this,o)}}function ND(e,r){if(r&&(xl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DD(e)}function DD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pl(e){return Pl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Pl(e)}var kc=function(e){wD(t,e);var r=AD(t);function t(){return TD(this,t),r.apply(this,arguments)}return MD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint,p=o.isAnimation,g=o.arrowConfig,E=o.getEdgeStyle(),w=o.getEdgeAnimationStyle(),C=w.strokeDasharray,z=w.stroke,$=w.strokeDashoffset,ee=w.animationName,ae=w.animationDuration,ue=w.animationIterationCount,ce=w.animationTimingFunction,Ne=w.animationDirection;return Object(oe.g)(no,Sl({},E,{x1:a.x,y1:a.y,x2:s.x,y2:s.y},g,p?{strokeDasharray:C,stroke:z,style:{strokeDashoffset:$,animationName:ee,animationDuration:ae,animationIterationCount:ue,animationTimingFunction:ce,animationDirection:Ne}}:{}))}},{key:"getShape",value:function(){return Object(oe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),s=a.stroke,p=a.className,g=a.strokeDasharray,E=o.startPoint,w=o.endPoint,C=o.getEdgeStyle();return Object(oe.g)("g",null,Object(oe.g)(no,Sl({},C,{x1:E.x,y1:E.y,x2:w.x,y2:w.y,className:p,strokeDasharray:g,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,a=o.startPoint,s=o.endPoint,p={start:a,end:s},g=PT(p),E=g.d,w=g.strokeWidth,C=g.fill,z=g.strokeDasharray,$=g.stroke;return Object(oe.g)(Go,{d:E,fill:C,strokeWidth:w,stroke:$,strokeDasharray:z})}}]),t}(Ti);function Tl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tl=function(t){return typeof t}:Tl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function CD(e,r){return BD(e)||_D(e,r)||ID(e,r)||RD()}function RD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ID(e,r){if(!!e){if(typeof e=="string")return kg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kg(e,r)}}function kg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _D(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function BD(e){if(Array.isArray(e))return e}function LD(e){var r={points:"",fill:"none"};return Object.entries(e).forEach(function(t){var n=CD(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var s=Tl(a);s!=="object"&&(r[o]=a)}}),Object(oe.g)("polyline",r)}var Gg=LD;function Ml(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ml=function(t){return typeof t}:Ml=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(e)}function $g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function wl(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?$g(Object(t),!0).forEach(function(n){tn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Al(){return Al=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Al.apply(this,arguments)}function zD(e,r){return GD(e)||kD(e,r)||HD(e,r)||FD()}function FD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HD(e,r){if(!!e){if(typeof e=="string")return Ug(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ug(e,r)}}function Ug(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function kD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function GD(e){if(Array.isArray(e))return e}function $D(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Xg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UD(e,r,t){return r&&Xg(e.prototype,r),t&&Xg(e,t),e}function XD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gc(e,r)}function Gc(e,r){return Gc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Gc(e,r)}function YD(e){var r=WD();return function(){var n=Nl(e),o;if(r){var a=Nl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return VD(this,o)}}function VD(e,r){if(r&&(Ml(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return en(e)}function en(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nl(e){return Nl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Nl(e)}function tn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var $c=function(e){XD(t,e);var r=YD(t);function t(){var n;return $D(this,t),n=r.call(this),tn(en(n),"drag",void 0),tn(en(n),"isDraging",void 0),tn(en(n),"appendInfo",void 0),tn(en(n),"dragHandler",void 0),tn(en(n),"onDragStart",function(){var o=n.props.model;o.dragAppendStart()}),tn(en(n),"onDraging",function(o){var a=o.deltaX,s=o.deltaY,p=n.props,g=p.model,E=p.graphModel;n.isDraging=!0;var w=E.transformModel,C=E.editConfigModel,z=w.fixDeltaXY(a,s),$=zD(z,2),ee=$[0],ae=$[1],ue=g,ce=C.adjustEdgeMiddle;ce?n.appendInfo=ue.dragAppendSimple(n.appendInfo,{x:ee,y:ae}):n.appendInfo=ue.dragAppend(n.appendInfo,{x:ee,y:ae})}),tn(en(n),"onDragEnd",function(){var o=n.props,a=o.model,s=o.graphModel.eventCenter,p=a;p.dragAppendEnd(),n.isDraging=!1,n.appendInfo=void 0,s.emit(at.EDGE_ADJUST,{data:p.getData()})}),tn(en(n),"beforeDragStart",function(o,a){a.dragAble&&n.dragHandler(o),n.appendInfo=a}),tn(en(n),"getIsDraging",function(){return n.isDraging}),n.drag=Mf({onDragStart:n.onDragStart,onDraging:n.onDraging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return UD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.points,s=o.isAnimation,p=o.arrowConfig,g=o.getEdgeStyle(),E=o.getEdgeAnimationStyle(),w=E.strokeDasharray,C=E.stroke,z=E.strokeDashoffset,$=E.animationName,ee=E.animationDuration,ae=E.animationIterationCount,ue=E.animationTimingFunction,ce=E.animationDirection;return Object(oe.g)(Gg,Al({points:a},g,p,s?{strokeDasharray:w,stroke:C,style:{strokeDashoffset:z,animationName:$,animationDuration:ee,animationIterationCount:ae,animationTimingFunction:ue,animationDirection:ce}}:{}))}},{key:"getShape",value:function(){return Object(oe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),s=a.stroke,p=a.className,g=a.strokeDasharray,E=o.getEdgeStyle();return Object(oe.g)("g",null,Object(oe.g)(Gg,Al({points:o.points},E,{className:p,strokeDasharray:g,stroke:s})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.points,s=o.isSelected,p=this.state,g=p.hover,E={start:null,end:null,hover:g,isSelected:s},w=Ao(a);return w.length>=2&&(E.start=w[w.length-2],E.end=w[w.length-1]),E}},{key:"getAppendAttributes",value:function(o){var a=o.start,s=o.end,p;if(a.x===s.x&&a.y===s.y)p="";else{var g={start:a,end:s,offset:10,verticalLength:5},E=vi(wl(wl({},g),{},{type:"start"})),w=vi(wl(wl({},g),{},{type:"end"}));p="M".concat(E.leftX," ").concat(E.leftY,` 
      L`).concat(E.rightX," ").concat(E.rightY,` 
      L`).concat(w.rightX," ").concat(w.rightY,`
      L`).concat(w.leftX," ").concat(w.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var a=this.getAppendAttributes(o),s=a.d,p=a.strokeWidth,g=a.fill,E=a.strokeDasharray,w=a.stroke;return Object(oe.g)(Go,{d:s,fill:g,strokeWidth:p,stroke:w,strokeDasharray:E})}},{key:"getAppendWidth",value:function(){for(var o=this,a=this.props,s=a.model,p=a.graphModel,g=s.pointsList,E=s.draggable,w=[],C=g.length,z=function(ae){var ue="lf-polyline-append",ce={start:{x:g[ae].x,y:g[ae].y},end:{x:g[ae+1].x,y:g[ae+1].y},startIndex:ae,endIndex:ae+1,direction:"",dragAble:!0},Ne=Object(oe.g)("g",{className:ue},o.getAppendShape(ce)),Se=p.editConfigModel,Te=Se.adjustEdge,He=Se.adjustEdgeMiddle;if(!Te||!E)o.dragHandler=function(){};else{o.dragHandler=o.drag;var Re=ce.startIndex,et=ce.endIndex,ke=He&&(Re===0||et===C-1);ce.dragAble=!ke,ce.start.x===ce.end.x?(ce.dragAble&&(ue+="-ew-resize"),ce.direction=Dt.VERTICAL):ce.start.y===ce.end.y&&(ce.dragAble&&(ue+="-ns-resize"),ce.direction=Dt.HORIZONTAL),Ne=Object(oe.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(yt){return o.beforeDragStart(yt,ce)}},Object(oe.g)("g",{className:ue},o.getAppendShape(ce)))}w.push(Ne)},$=0;$<C-1;$++)z($);return Object(oe.g)("g",null,w)}}]),t}(Ti);function Dl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dl=function(t){return typeof t}:Dl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(e)}function KD(e,r){return qD(e)||QD(e,r)||JD(e,r)||ZD()}function ZD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JD(e,r){if(!!e){if(typeof e=="string")return Yg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Yg(e,r)}}function Yg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function QD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function qD(e){if(Array.isArray(e))return e}function jl(){return jl=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},jl.apply(this,arguments)}function ej(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Vg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tj(e,r,t){return r&&Vg(e.prototype,r),t&&Vg(e,t),e}function rj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Uc(e,r)}function Uc(e,r){return Uc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Uc(e,r)}function nj(e){var r=aj();return function(){var n=Cl(e),o;if(r){var a=Cl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return oj(this,o)}}function oj(e,r){if(r&&(Dl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ij(e)}function ij(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cl(e){return Cl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cl(e)}var Xc=function(e){rj(t,e);var r=nj(t);function t(){return ej(this,t),r.apply(this,arguments)}return tj(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.getEdgeStyle(),s=o.path,p=o.isAnimation,g=o.arrowConfig,E=o.getEdgeAnimationStyle(),w=E.strokeDasharray,C=E.stroke,z=E.strokeDashoffset,$=E.animationName,ee=E.animationDuration,ae=E.animationIterationCount,ue=E.animationTimingFunction,ce=E.animationDirection;return Object(oe.g)(Go,jl({d:s},a,g,p?{strokeDasharray:w,stroke:C,style:{strokeDashoffset:z,animationName:$,animationDuration:ee,animationIterationCount:ae,animationTimingFunction:ue,animationDirection:ce}}:{}))}},{key:"getShape",value:function(){return Object(oe.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,a=o.getAnimation(),s=a.stroke,p=a.className,g=a.strokeDasharray,E=o.getEdgeStyle();return Object(oe.g)("g",null,Object(oe.g)(Go,jl({d:o.path},E,{className:p,strokeDasharray:g,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(oe.g)(Go,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=this.state,s=a.hover,p=o,g=p.path,E=p.isSelected,w=TT(g),C=KD(w,2),z=C[0],$=C[1],ee={start:z,end:$,hover:s,isSelected:E};return ee}}]),t}(Ti);function Rl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rl=function(t){return typeof t}:Rl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(e)}function Wg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function uj(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Wg(Object(t),!0).forEach(function(n){lj(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function lj(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function sj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Kg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fj(e,r,t){return r&&Kg(e.prototype,r),t&&Kg(e,t),e}function cj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Yc(e,r)}function Yc(e,r){return Yc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Yc(e,r)}function dj(e){var r=vj();return function(){var n=Il(e),o;if(r){var a=Il(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return pj(this,o)}}function pj(e,r){if(r&&(Rl(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hj(e)}function hj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Il(e){return Il=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Il(e)}var yj=function(e){cj(t,e);var r=dj(t);function t(){return sj(this,t),r.apply(this,arguments)}return fj(t,[{key:"getArrowAttributes",value:function(){var o=this.props,a=o.arrowInfo,s=o.style,p=a.start,g=a.end,E={start:p,end:g,offset:s.offset,verticalLength:s.verticalLength,type:"end"},w=vi(E),C=w.leftX,z=w.leftY,$=w.rightX,ee=w.rightY;return uj({d:"M".concat(C," ").concat(z," L").concat(g.x," ").concat(g.y," L").concat($," ").concat(ee," z")},s)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),a=o.d,s=o.strokeWidth,p=o.stroke,g=o.fill;return Object(oe.g)(Go,{d:a,fill:g,strokeWidth:s,stroke:p})}},{key:"render",value:function(){return Object(oe.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(oe.a);function gj(e,r){return Vs(e,r)}var Zg=gj;function mj(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var bj=mj,Oj=function(){return Sr.a.Date.now()},Vc=Oj,Ej=/\s/;function xj(e){for(var r=e.length;r--&&Ej.test(e.charAt(r)););return r}var Sj=xj,Pj=/^\s+/;function Tj(e){return e&&e.slice(0,Sj(e)+1).replace(Pj,"")}var Mj=Tj,Jg=0/0,wj=/^[-+]0x[0-9a-f]+$/i,Aj=/^0b[01]+$/i,Nj=/^0o[0-7]+$/i,Dj=parseInt;function jj(e){if(typeof e=="number")return e;if(xa(e))return Jg;if(Mt(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Mt(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=Mj(e);var t=Aj.test(e);return t||Nj.test(e)?Dj(e.slice(2),t?2:8):wj.test(e)?Jg:+e}var Qg=jj,Cj="Expected a function",Rj=Math.max,Ij=Math.min;function _j(e,r,t){var n,o,a,s,p,g,E=0,w=!1,C=!1,z=!0;if(typeof e!="function")throw new TypeError(Cj);r=Qg(r)||0,Mt(t)&&(w=!!t.leading,C="maxWait"in t,a=C?Rj(Qg(t.maxWait)||0,r):a,z="trailing"in t?!!t.trailing:z);function $(Re){var et=n,ke=o;return n=o=void 0,E=Re,s=e.apply(ke,et),s}function ee(Re){return E=Re,p=setTimeout(ce,r),w?$(Re):s}function ae(Re){var et=Re-g,ke=Re-E,ht=r-et;return C?Ij(ht,a-ke):ht}function ue(Re){var et=Re-g,ke=Re-E;return g===void 0||et>=r||et<0||C&&ke>=a}function ce(){var Re=Vc();if(ue(Re))return Ne(Re);p=setTimeout(ce,ae(Re))}function Ne(Re){return p=void 0,z&&n?$(Re):(n=o=void 0,s)}function Se(){p!==void 0&&clearTimeout(p),E=0,n=g=o=p=void 0}function Te(){return p===void 0?s:Ne(Vc())}function He(){var Re=Vc(),et=ue(Re);if(n=arguments,o=this,g=Re,et){if(p===void 0)return ee(g);if(C)return clearTimeout(p),p=setTimeout(ce,r),$(g)}return p===void 0&&(p=setTimeout(ce,r)),s}return He.cancel=Se,He.flush=Te,He}var Bj=_j,Lj=i(166);function zj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function qg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fj(e,r,t){return r&&qg(e.prototype,r),t&&qg(e,t),e}function zn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Hj=function(){function e(r){zj(this,e),zn(this,"undos",[]),zn(this,"redos",[]),zn(this,"callbacks",[]),zn(this,"stopWatch",null),zn(this,"curData",null),zn(this,"maxSize",50),zn(this,"waitTime",100),zn(this,"eventCenter",void 0),this.eventCenter=r}return Fj(e,[{key:"add",value:function(t){Zg(bj(this.undos),t)||(this.undos.push(t),Zg(this.curData,t)||(this.redos=[]),this.eventCenter.emit(at.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(!!this.undoAble()){var t=this.undos.pop();this.redos.push(t);var n=this.undos.pop();return this.curData=jt(n),n}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(!!this.redoAble()){var t=this.redos.pop();return this.curData=jt(t),t}}},{key:"watch",value:function(t){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(Lj.a)(t,Bj(function(){var o=t.modelToHistoryData();o&&n.add(o)},this.waitTime))}}]),e}(),kj=Hj;function _l(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_l=function(t){return typeof t}:_l=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(e)}var em,tm,rm;function Gj(e,r){return Yj(e)||Xj(e,r)||Uj(e,r)||$j()}function $j(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uj(e,r){if(!!e){if(typeof e=="string")return nm(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nm(e,r)}}function nm(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Xj(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Yj(e){if(Array.isArray(e))return e}function om(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function $o(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?om(Object(t),!0).forEach(function(n){ao(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):om(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Vj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function im(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wj(e,r,t){return r&&im(e.prototype,r),t&&im(e,t),e}function Kj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Wc(e,r)}function Wc(e,r){return Wc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Wc(e,r)}function Zj(e){var r=Qj();return function(){var n=Bl(e),o;if(r){var a=Bl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Jj(this,o)}}function Jj(e,r){if(r&&(_l(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uo(e)}function Uo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bl(e){return Bl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bl(e)}function ao(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Kc=kr(em=(rm=tm=function(e){Kj(t,e);var r=Zj(t);function t(){var n;return Vj(this,t),n=r.call(this),ao(Uo(n),"ref",Object(oe.f)()),ao(Uo(n),"__prevText",{type:"",text:"",id:""}),ao(Uo(n),"keyupHandler",function(o){var a=n.props.graphModel.textEditElement;o.key==="Enter"&&o.altKey&&a.setElementState(0)}),ao(Uo(n),"inputHandler",function(o){var a=o.target,s=a.innerText,p=n.props.graphModel.textEditElement;n.__prevText={type:p.type,text:s.replace(/(\r\n)+$|(\n)+$/,""),id:p.id}}),ao(Uo(n),"keydownHandler",function(o){o.stopPropagation()}),n.state={style:{left:0,top:0}},n}return Wj(t,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var o=this.props.graphModel,a=o.eventCenter,s=o.editConfigModel,p=s.edgeTextEdit,g=s.nodeTextEdit;(p||g)&&a.on("".concat(at.GRAPH_TRANSFORM,",").concat(at.NODE_CLICK,",").concat(at.BLANK_CLICK," "),function(){o.textEditElement&&o.textEditElement.setElementState(Et.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var o=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,s=a.text,p=a.id;o.updateText(p,s),o.eventCenter.emit(at.TEXT_UPDATE,$o({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(o){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(o),a.collapse(!1);var s=window.getSelection();s.removeAllRanges(),s.addRange(a)}}},{key:"render",value:function(){var o,a=this.props.graphModel.textEditElement,s=this.state.style;return a?Object(oe.g)("div",{contentEditable:!0,className:"lf-text-input",style:s,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(o=a.text)===null||o===void 0?void 0:o.value):null}}],[{key:"getDerivedStateFromProps",value:function(o){var a=o.graphModel,s=a.transformModel,p=a.theme,g=a.textEditElement,E;if(g){var w;if(!((w=g.text)!==null&&w!==void 0&&w.value))if(g.BaseType===kt.EDGE){g=g;var C=g.text,z=g.textPosition,$=z.x,ee=z.y;C.x=$,C.y=ee,g.setText(C)}else g=g;var ae={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(g.BaseType===kt.EDGE){var ue=p.edgeText,ce=ue.overflowMode,Ne=ue.lineHeight,Se=ue.wrapPadding,Te=ue.textWidth;Te&&ce==="autoWrap"&&(E=$o($o({},ae),{},{width:Te,minWidth:Te,lineHeight:Ne,padding:Se}))}else if(g.BaseType===kt.NODE){var He=p.nodeText,Re=He.overflowMode,et=He.lineHeight,ke=He.wrapPadding,ht=He.textWidth,yt=g,lr=yt.width,Er=yt.modelType;(Er!==pt.TEXT_NODE&&Re==="autoWrap"||Er===pt.TEXT_NODE&&ht)&&(E=$o($o({},ae),{},{width:ht||lr,minWidth:ht||lr,lineHeight:et,padding:ke}))}var nn=g.text,Fn=nn.x,uo=nn.y,Xo=s.CanvasPointToHtmlPoint([Fn,uo]),Hn=Gj(Xo,2),Yo=Hn[0],rd=Hn[1];return{style:$o({left:Yo,top:rd},E)}}}}]),t}(oe.a),ao(tm,"toolName","textEdit"),rm))||em,qj=function(r){var t=r.x,n=r.y,o=r.width,a=r.height;return{x:t-o/2,y:n-a/2,x1:t+o/2,y1:n+a/2}},eC=function(r){var t=r.startPoint,n=r.endPoint,o=(t.x+n.x)/2,a=(t.y+n.y)/2,s=Math.abs(t.x-n.x)+10,p=Math.abs(t.y-n.y)+10;return{x:o-s/2,y:a-p/2,x1:o+s/2,y1:a+p/2}},tC=function(r){var t=r.points,n=Ao(t),o=yi(n,8),a=o.x,s=o.y,p=o.width,g=o.height;return{x:a-p/2,y:s-g/2,x1:a+p/2,y1:s+g/2}},rC=function(r){var t=r.path,n=Ua(t),o=yi(n,8),a=o.x,s=o.y,p=o.width,g=o.height;return{x:a-p/2,y:s-g/2,x1:a+p/2,y1:s+g/2}},nC=function(r){if(r.modelType===pt.LINE_EDGE)return eC(r);if(r.modelType===pt.POLYLINE_EDGE)return tC(r);if(r.modelType===pt.BEZIER_EDGE)return rC(r)};function Ll(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ll=function(t){return typeof t}:Ll=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}var am,um,lm;function sm(e,r){return aC(e)||iC(e,r)||fm(e,r)||oC()}function oC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iC(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,s,p;try{for(t=t.call(e);!(o=(s=t.next()).done)&&(n.push(s.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function aC(e){if(Array.isArray(e))return e}function uC(e){return fC(e)||sC(e)||fm(e)||lC()}function lC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fm(e,r){if(!!e){if(typeof e=="string")return Zc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Zc(e,r)}}function sC(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fC(e){if(Array.isArray(e))return Zc(e)}function Zc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function cC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dC(e,r,t){return r&&cm(e.prototype,r),t&&cm(e,t),e}function pC(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Jc(e,r)}function Jc(e,r){return Jc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Jc(e,r)}function hC(e){var r=yC();return function(){var n=zl(e),o;if(r){var a=zl(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return vC(this,o)}}function vC(e,r){if(r&&(Ll(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mi(e)}function Mi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zl(e){return zl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zl(e)}function wi(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Qc=kr(am=(lm=um=function(e){pC(t,e);var r=hC(t);function t(n){var o;cC(this,t),o=r.call(this),wi(Mi(o),"stepDrag",void 0),wi(Mi(o),"handleMouseDown",function(g){o.stepDrag.handleMouseDown(g)}),wi(Mi(o),"onDraging",function(g){var E=g.deltaX,w=g.deltaY,C=o.props.graphModel,z=C.getSelectElements(!0);C.moveNodes(z.nodes.map(function($){return $.id}),E,w)}),wi(Mi(o),"handleContextMenu",function(g){g.preventDefault();var E=o.props,w=E.graphModel,C=E.graphModel,z=C.eventCenter,$=C.selectElements,ee=w.getPointByClient({x:g.clientX,y:g.clientY}),ae={nodes:[],edges:[]},ue=uC($.values());ue.forEach(function(ce){ce.BaseType===kt.NODE&&ae.nodes.push(ce.getData()),ce.BaseType===kt.EDGE&&ae.edges.push(ce.getData())}),z.emit(at.SELECTION_CONTEXTMENU,{data:ae,e:g,position:ee})});var a=n.graphModel,s=a.gridSize,p=a.eventCenter;return o.stepDrag=new ro({onDraging:o.onDraging,step:s,eventType:"SELECTION",eventCenter:p}),o}return dC(t,[{key:"render",value:function(){var o=this.props.graphModel,a=o.selectElements,s=o.transformModel;if(!(a.size<=1)){var p=Number.MAX_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;a.forEach(function(ue){var ce={x:0,y:0,x1:0,y1:0};ue.BaseType===kt.NODE&&(ce=qj(ue)),ue.BaseType===kt.EDGE&&(ce=nC(ue)),p=Math.min(p,ce.x),g=Math.min(g,ce.y),E=Math.max(E,ce.x1),w=Math.max(w,ce.y1)});var C=s.CanvasPointToHtmlPoint([p,g]),z=sm(C,2);p=z[0],g=z[1];var $=s.CanvasPointToHtmlPoint([E,w]),ee=sm($,2);E=ee[0],w=ee[1];var ae={left:"".concat(p-10,"px"),top:"".concat(g-10,"px"),width:"".concat(E-p+20,"px"),height:"".concat(w-g+20,"px")};return Object(oe.g)("div",{className:"lf-multiple-select",style:ae,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(oe.a),wi(um,"toolName","multipleSelect"),lm))||am;function gC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mC(e,r,t){return r&&dm(e.prototype,r),t&&dm(e,t),e}function Fl(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var bC=function(){function e(r){gC(this,e),Fl(this,"tools",void 0),Fl(this,"components",void 0),Fl(this,"toolMap",new Map),Fl(this,"instance",void 0),this.instance=r,this.isDisabledTool(Kc.toolName)||this.registerTool(Kc.toolName,Kc),this.isDisabledTool(Qc.toolName)||this.registerTool(Qc.toolName,Qc)}return mC(e,[{key:"isDisabledTool",value:function(t){return this.instance.options.disabledTools.indexOf(t)!==-1}},{key:"registerTool",value:function(t,n){this.toolMap.set(t,n)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),OC=i(167),EC=i.n(OC);function xC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function pm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SC(e,r,t){return r&&pm(e.prototype,r),t&&pm(e,t),e}function qc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var hm=function(){function e(r){xC(this,e),qc(this,"mousetrap",void 0),qc(this,"options",void 0),qc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var t=r.lf;this.target=t.container,this.mousetrap=new EC.a(this.target),r.keyboard.enabled&&this.enable(!0)}return SC(e,[{key:"initShortcuts",value:function(){var t=this,n=this.options.keyboard.shortcuts;if(n)if(d(n))n.forEach(function(p){var g=p.keys,E=p.callback,w=p.action;return t.on(g,E,w)});else{var o=n.keys,a=n.callback,s=n.action;this.on(o,a,s)}}},{key:"on",value:function(t,n,o){this.mousetrap.bind(this.getKeys(t),n,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(t,n){this.mousetrap.unbind(this.getKeys(t),n)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(o){return n.formatkey(o)})}},{key:"formatkey",value:function(t){var n=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return n}}]),e}(),PC=hm,rn=null;function vm(e,r){return e.x+=r,e.y+=r,e.text&&(e.text.x+=r,e.text.y+=r),e}function ym(e,r){return e.startPoint&&(e.startPoint.x+=r,e.startPoint.y+=r),e.endPoint&&(e.endPoint.x+=r,e.endPoint.y+=r),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(t){t.x+=r,t.y+=r}),e.text&&(e.text.x+=r,e.text.y+=r),e}var Hl=40;function TC(e,r){var t=e.keyboard,n=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(!!n.enabled&&!r.textEditElement){var o=e.options.guards,a=r.getSelectElements(!1),s=o&&o.beforeClone?o.beforeClone(a):!0;return s?(rn=a,rn.nodes.forEach(function(p){return vm(p,Hl)}),rn.edges.forEach(function(p){return ym(p,Hl)}),!1):(rn=null,!1)}}),t.on(["cmd + v","ctrl + v"],function(){if(!!n.enabled&&!r.textEditElement){if(rn&&(rn.nodes||rn.edges)){e.clearSelectElements();var o=e.addElements(rn);if(!o)return;o.nodes.forEach(function(a){return e.selectElementById(a.id,!0)}),o.edges.forEach(function(a){return e.selectElementById(a.id,!0)}),rn.nodes.forEach(function(a){return vm(a,Hl)}),rn.edges.forEach(function(a){return ym(a,Hl)})}return!1}}),t.on(["cmd + z","ctrl + z"],function(){if(!!n.enabled&&!r.textEditElement)return e.undo(),!1}),t.on(["cmd + y","ctrl + y"],function(){if(!!n.enabled&&!r.textEditElement)return e.redo(),!1}),t.on(["backspace"],function(){if(!!n.enabled&&!r.textEditElement){var o=r.getSelectElements(!0);return e.clearSelectElements(),o.edges.forEach(function(a){return e.deleteEdge(a.id)}),o.nodes.forEach(function(a){return e.deleteNode(a.id)}),!1}})}function MC(e,r){e.on("node:mousemove",function(t){var n=t.data;r.setNodeSnapLine(n)}),e.on("node:mouseup",function(){r.clearSnapline()})}function kl(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kl=function(t){return typeof t}:kl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function gm(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ed(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?gm(Object(t),!0).forEach(function(n){Lt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gm(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function wC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AC(e,r,t){return r&&mm(e.prototype,r),t&&mm(e,t),e}function Lt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var td=function(){function e(r){var t=this;wC(this,e),Lt(this,"container",void 0),Lt(this,"width",void 0),Lt(this,"height",void 0),Lt(this,"graphModel",void 0),Lt(this,"history",void 0),Lt(this,"viewMap",new Map),Lt(this,"tool",void 0),Lt(this,"keyboard",void 0),Lt(this,"dnd",void 0),Lt(this,"options",void 0),Lt(this,"snaplineModel",void 0),Lt(this,"components",[]),Lt(this,"plugins",void 0),Lt(this,"extension",{}),Lt(this,"adapterIn",void 0),Lt(this,"adapterOut",void 0),Lt(this,"getView",function(n){return t.viewMap.get(n)}),r=Fv(r),this.options=r,this.container=r.container,this.plugins=r.plugins,this.graphModel=new HT(ed({},r)),this.tool=new bC(this),this.history=new kj(this.graphModel.eventCenter),this.dnd=new Tw({lf:this}),this.keyboard=new PC({lf:this,keyboard:r.keyboard}),!r.isSilentMode&&r.snapline!==!1&&(this.snaplineModel=new ig(this.graphModel),MC(this.graphModel.eventCenter,this.snaplineModel)),TC(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(r.disabledPlugins)}return AC(e,[{key:"register",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(typeof t!="string"){this.registerElement(t);return}var a={BaseEdge:Ti,BaseEdgeModel:hf,BaseNode:vn,BaseNodeModel:pn,RectNode:vc,RectNodeModel:nc,CircleNode:mc,CircleNodeModel:Yf,PolygonNode:Ec,PolygonNodeModel:ec,TextNode:Nc,TextNodeModel:ic,LineEdge:kc,LineEdgeModel:gf,DiamondNode:Pc,DiamondNodeModel:Kf,PolylineEdge:$c,PolylineEdgeModel:Of,BezierEdge:Xc,BezierEdgeModel:$f,EllipseNode:wc,EllipseNodeModel:Jf,HtmlNode:Cc,HtmlNodeModel:uc,h:oe.g,type:t};this.viewMap.forEach(function(w){var C=w.extendKey;C&&(a[C]=w)}),this.graphModel.modelMap.forEach(function(w){var C=w.extendKey;C&&(a[C]=w)});var s=n(a),p=s.view,g=s.model,E=p;o&&!E.isObervered&&(E.isObervered=!0,E=mt(E)),this.setView(t,E),this.graphModel.setModel(t,g)}},{key:"registerElement",value:function(t){var n=t.view;t.isObserverView!==!1&&!n.isObervered&&(n.isObervered=!0,n=mt(n)),this.setView(t.type,n),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(function(o){t.registerElement(o)})}},{key:"defaultRegister",value:function(){this.registerElement({view:vc,model:nc,type:"rect"}),this.registerElement({type:"circle",view:mc,model:Yf}),this.registerElement({type:"polygon",view:Ec,model:ec}),this.registerElement({type:"line",view:kc,model:gf}),this.registerElement({type:"polyline",view:$c,model:Of}),this.registerElement({type:"bezier",view:Xc,model:$f}),this.registerElement({type:"text",view:Nc,model:ic}),this.registerElement({type:"ellipse",view:wc,model:Jf}),this.registerElement({type:"diamond",view:Pc,model:Kf}),this.registerElement({type:"html",view:Cc,model:uc})}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.graphModel.selectElementById(t,n),n||this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var n=this.graphModel.transformModel,o=t.coordinate,a=t.id;if(!o){var s=this.getNodeModelById(a);s&&(o=s.getData());var p=this.getEdgeModelById(a);p&&(o=p.textPosition)}var g=o,E=g.x,w=g.y;n.focusOn(E,w,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,n){this.graphModel.resize(t,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,n){this.graphModel.updateText(t,n)}},{key:"deleteElement",value:function(t){var n,o,a,s=this.getModelById(t);if(!s)return!1;var p=(n={},Lt(n,kt.NODE,this.deleteNode),Lt(n,kt.EDGE,this.deleteEdge),n),g=s.BaseType;return(o=(a=p[g])===null||a===void 0?void 0:a.call(this,t))!==null&&o!==void 0?o:!1}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,n){this.graphModel.changeNodeType(t,n)}},{key:"changeEdgeType",value:function(t,n){this.graphModel.changeEdgeType(t,n)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var n=this.graphModel.getNodeModelById(t);if(!n)return!1;var o=n.getData(),a=this.options.guards,s=a&&a.beforeDelete?a.beforeDelete(o):!0;return s&&this.graphModel.deleteNode(t),s}},{key:"cloneNode",value:function(t){var n=this.graphModel.getNodeModelById(t),o=n.getData(),a=this.options.guards,s=a&&a.beforeClone?a.beforeClone(o):!0;if(s)return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,n){return this.graphModel.changeNodeId(t,n)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var n=this.options.guards,o=this.graphModel.edgesMap[t];if(!o)return!1;var a=o.model.getData(),s=n&&n.beforeDelete?n.beforeDelete(a):!0;return s&&this.graphModel.deleteEdgeById(t),s}},{key:"deleteEdgeByNodeId",value:function(t){var n=t.sourceNodeId,o=t.targetNodeId;n&&o?this.graphModel.deleteEdgeBySourceAndTarget(n,o):n?this.graphModel.deleteEdgeBySource(n):o&&this.graphModel.deleteEdgeByTarget(o)}},{key:"changeEdgeId",value:function(t,n){return this.graphModel.changeEdgeId(t,n)}},{key:"getEdgeModelById",value:function(t){var n,o=this.graphModel.edgesMap;return(n=o[t])===null||n===void 0?void 0:n.model}},{key:"getEdgeModels",value:function(t){var n=this.graphModel.edges,o=t.sourceNodeId,a=t.targetNodeId;if(o&&a){var s=[];return n.forEach(function(E){E.sourceNodeId===o&&E.targetNodeId===a&&s.push(E)}),s}if(o){var p=[];return n.forEach(function(E){E.sourceNodeId===o&&p.push(E)}),p}if(a){var g=[];return n.forEach(function(E){E.targetNodeId===a&&g.push(E)}),g}return[]}},{key:"getEdgeDataById",value:function(t){var n;return(n=this.getEdgeModelById(t))===null||n===void 0?void 0:n.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.setProperties(er(n))}},{key:"deleteProperty",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.deleteProperty(n)}},{key:"getProperties",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,n){return this.graphModel.setElementZIndex(t,n)}},{key:"addElements",value:function(t){for(var n=this,o=t.nodes,a=t.edges,s={},p={nodes:[],edges:[]},g=0;g<o.length;g++){var E=o[g],w=E.id,C=this.addNode(E);if(!C)return;w&&(s[w]=C.id),p.nodes.push(C)}return a.forEach(function(z){var $=z.sourceNodeId,ee=z.targetNodeId;s[$]&&(z.sourceNodeId=s[$]),s[ee]&&(z.targetNodeId=s[ee]);var ae=n.graphModel.addEdge(z);p.edges.push(ae)}),p}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return this.graphModel.getAreaElement(t,n,o,a,s).map(function(p){return p.getData()})}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,n){return this.graphModel.getPointByClient({x:t,y:n})}},{key:"undo",value:function(){if(!!this.history.undoAble()){var t=er(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(!!this.history.redoAble()){var t=er(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,n){var o=this.graphModel.transformModel;return o.zoom(t,n)}},{key:"resetZoom",value:function(){var t=this.graphModel.transformModel;t.resetZoom()}},{key:"setZoomMiniSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel,n=t.SCALE_X,o=t.SCALE_Y,a=t.TRANSLATE_X,s=t.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:o,TRANSLATE_X:a,TRANSLATE_Y:s}}},{key:"translate",value:function(t,n){var o=this.graphModel.transformModel;o.translate(t,n)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,n=t.TRANSLATE_X,o=t.TRANSLATE_Y;this.translate(-n,-o)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,n){n===void 0&&(n=t),this.graphModel.fitView(t,n)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,n){this.graphModel.eventCenter.on(t,n)}},{key:"off",value:function(t,n){this.graphModel.eventCenter.off(t,n)}},{key:"once",value:function(t,n){this.graphModel.eventCenter.once(t,n)}},{key:"emit",value:function(t,n){this.graphModel.eventCenter.emit(t,n)}},{key:"installPlugins",value:function(){var t,n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(t=this.plugins)!==null&&t!==void 0?t:e.extensions;a.forEach(function(s){var p=s.pluginName||s.name;o.indexOf(p)===-1&&n.installPlugin(s)})}},{key:"installPlugin",value:function(t){if(kl(t)==="object"){var n=t.install,o=t.render;n&&n.call(t,this,e),o&&this.components.push(o.bind(t)),this.extension[t.pluginName]=t;return}var a=t,s=new a({lf:this,LogicFlow:e});s.render&&this.components.push(s.render.bind(s)),this.extension[a.pluginName]=s}},{key:"updateAttributes",value:function(t,n){this.graphModel.updateAttributes(t,n)}},{key:"createFakerNode",value:function(t){var n=this.graphModel.modelMap.get(t.type);if(!n){console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(t.type,"\u7C7B\u578B\u7684\u8282\u70B9"));return}var o=new n(ed(ed({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(o),o}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,n){this.viewMap.set(t,n)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(er(t)),!this.options.isSilentMode&&this.options.history!==!1&&this.history.watch(this.graphModel),Object(oe.j)(Object(oe.g)(xw,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(at.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var n=t.pluginName;n||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(t.name||t.constructor.name,"\u6307\u5B9ApluginName!")),n=t.name);var o=this.extensions.get(n);o&&o.destroy&&o.destroy(),this.extensions.set(n,t)}}]),e}();Lt(td,"extensions",new Map);function kr(e){return mt(e)}c.default=td}])})})(Ke,Ke.exports);const $l=Qm(Ke.exports),kC=[{type:"bpmn:startEvent",text:"\u5F00\u59CB",class:"bpmn-start"},{type:"bpmn:endEvent",text:"\u7ED3\u675F",class:"bpmn-end"},{type:"bpmn:exclusiveGateway",text:"\u7F51\u5173",class:"bpmn-exclusiveGateway"},{type:"bpmn:userTask",text:"\u7528\u6237",class:"bpmn-user"}];function GC(m,v){return v={exports:{}},m(v,v.exports),v.exports}var $C=GC(function(m){var v=m.exports=function(u,c){if(c||(c=16),u===void 0&&(u=128),u<=0)return"0";for(var i=Math.log(Math.pow(2,u))/Math.log(c),l=2;i===1/0;l*=2)i=Math.log(Math.pow(2,u/l))/Math.log(c)*l;for(var f=i-Math.floor(i),y="",l=0;l<Math.floor(i);l++){var b=Math.floor(Math.random()*c).toString(c);y=b+y}if(f){var x=Math.pow(c,f),b=Math.floor(Math.random()*x).toString(c);y=b+y}var S=parseInt(y,c);return S!==1/0&&S>=Math.pow(2,u)?v(u,c):y};v.rack=function(u,c,i){var l=function(y){var b=0;do{if(b++>10)if(i)u+=i;else throw new Error("too many ID collisions, use more bits");var x=v(u,c)}while(Object.hasOwnProperty.call(f,x));return f[x]=y,x},f=l.hats={};return l.get=function(y){return l.hats[y]},l.set=function(y,b){return l.hats[y]=b,l},l.bits=u||128,l.base=c||16,l}});function an(m){if(!(this instanceof an))return new an(m);m=m||[128,36,1],this._seed=m.length?$C.rack(m[0],m[1],m[2]):m}an.prototype.next=function(m){return this._seed(m||!0)};an.prototype.nextPrefixed=function(m,v){var u;do u=m+this.next(!0);while(this.assigned(u));return this.claim(u,v),u};an.prototype.claim=function(m,v){this._seed.set(m,v||!0)};an.prototype.assigned=function(m){return this._seed.get(m)||!1};an.prototype.unclaim=function(m){delete this._seed.hats[m]};an.prototype.clear=function(){var m=this._seed.hats,v;for(v in m)this.unclaim(v)};var UC=new an([32,32,1]);function qo(){return UC.next()}var ib=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),XC=function(m){ib(v,m);function v(u,c){var i=this;return u.id||(u.id="Event_"+qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedTargetRules=function(){var u=m.prototype.getConnectedTargetRules.call(this),c={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return u.push(c),u},v.extendKey="StartEventModel",v}(Ke.exports.CircleNodeModel),YC=function(m){ib(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.extendKey="StartEventNode",v}(Ke.exports.CircleNode),VC={type:"bpmn:startEvent",view:YC,model:XC},ab=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Yl=globalThis&&globalThis.__assign||function(){return Yl=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Yl.apply(this,arguments)},WC=function(m){ab(v,m);function v(u,c){var i=this;return u.id||(u.id="Event_"+qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedSourceRules=function(){var u=m.prototype.getConnectedSourceRules.call(this),c={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return u.push(c),u},v.extendKey="EndEventModel",v}(Ke.exports.CircleNodeModel),KC=function(m){ab(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},v.prototype.getShape=function(){var u=this.props.model,c=u.getNodeStyle(),i=u.x,l=u.y,f=u.r,y=m.prototype.getShape.call(this);return Ke.exports.h("g",{},y,Ke.exports.h("circle",Yl(Yl({},c),{cx:i,cy:l,r:f-5})))},v.extendKey="EndEventView",v}(Ke.exports.CircleNode),ZC={type:"bpmn:endEvent",view:KC,model:WC},ub=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ci=globalThis&&globalThis.__assign||function(){return Ci=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Ci.apply(this,arguments)},JC=function(m){ub(v,m);function v(u,c){var i=this;return u.id||(u.id="Gateway_"+qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return v.extendKey="ExclusiveGatewayModel",v}(Ke.exports.PolygonNodeModel),QC=function(m){ub(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.points,b=u.getNodeStyle();return Ke.exports.h("g",{transform:"matrix(1 0 0 1 "+(c-l/2)+" "+(i-f/2)+")"},Ke.exports.h("polygon",Ci(Ci({},b),{x:c,y:i,points:y})),Ke.exports.h("path",Ci({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},b)))},v.extendKey="ExclusiveGatewayNode",v}(Ke.exports.PolygonNode),qC={type:"bpmn:exclusiveGateway",view:QC,model:JC},lb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Vl=globalThis&&globalThis.__assign||function(){return Vl=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Vl.apply(this,arguments)},e2=function(m){lb(v,m);function v(u,c){var i=this;return u.id||(u.id="Activity_"+qo()),i=m.call(this,u,c)||this,i}return v.extendKey="UserTaskModel",v}(Ke.exports.RectNodeModel),t2=function(m){lb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.getNodeStyle();return Ke.exports.h("svg",{x:c-l/2+5,y:i-f/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ke.exports.h("path",{fill:y.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.radius,b=u.getNodeStyle();return Ke.exports.h("g",{},[Ke.exports.h("rect",Vl(Vl({},b),{x:c-l/2,y:i-f/2,rx:y,ry:y,width:l,height:f})),this.getLabelShape()])},v.extendKey="UserTaskNode",v}(Ke.exports.RectNode),r2={type:"bpmn:userTask",view:t2,model:e2},sb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),od=globalThis&&globalThis.__assign||function(){return od=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},od.apply(this,arguments)},n2=function(m){sb(v,m);function v(u,c){var i=this;return u.id||(u.id="Activity_"+qo()),i=m.call(this,u,c)||this,i}return v.extendKey="ServiceTaskModel",v}(Ke.exports.RectNodeModel),o2=function(m){sb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.getNodeStyle();return Ke.exports.h("svg",{x:c-l/2+5,y:i-f/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ke.exports.h("path",{fill:y.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.radius,b=u.getNodeStyle();return Ke.exports.h("g",{},[Ke.exports.h("rect",od({x:c-l/2,y:i-f/2,rx:y,ry:y,width:l,height:f},b)),this.getLabelShape()])},v.extendKey="ServiceTaskNode",v}(Ke.exports.RectNode),i2={type:"bpmn:serviceTask",view:o2,model:n2},fb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),a2=function(m){fb(v,m);function v(u,c){var i=this;return u.id||(u.id="Flow_"+qo()),i=m.call(this,u,c)||this,i}return v.extendKey="SequenceFlowModel",v}(Ke.exports.PolylineEdgeModel),u2=function(m){fb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.extendKey="SequenceFlowEdge",v}(Ke.exports.PolylineEdge),l2={type:"bpmn:sequenceFlow",view:u2,model:a2},wm={width:40,height:40},Am={width:40,height:40},Nm={width:40,height:40},Dm={width:100,height:80},jm={width:100,height:80},s2={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},f2=function(){function m(v){var u=v.lf;u.setTheme(s2),u.register(VC),u.register(ZC),u.register(qC),u.register(r2),u.register(i2),u.options.customBpmnEdge||(u.register(l2),u.setDefaultEdgeType("bpmn:sequenceFlow"))}return m.pluginName="bpmnElement",m}(),c2=function(){function m(v){var u=this,c=v.lf;this.lf=c,this.customCssRules="",this.useGlobalRules=!0,c.getSnapshot=function(i,l){u.getSnapshot(i,l)},c.getSnapshotBlob=function(i){return u.getSnapshotBlob(i)},c.getSnapshotBase64=function(i){return u.getSnapshotBase64(i)}}return m.prototype.getSvgRootElement=function(v){var u=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,v.graphModel.nodes.forEach(function(i){var l=i.x,f=i.width,y=i.y,b=i.height,x=l-f/2,S=y-b/2;x<u.offsetX&&(u.offsetX=x-5),S<u.offsetY&&(u.offsetY=S-5)}),v.graphModel.edges.forEach(function(i){i.pointsList&&i.pointsList.forEach(function(l){var f=l.x,y=l.y;f<u.offsetX&&(u.offsetX=f-5),y<u.offsetY&&(u.offsetY=y-5)})});var c=v.container.querySelector(".lf-canvas-overlay");return c},m.prototype.triggerDownload=function(v){var u=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",v),c.setAttribute("target","_blank"),c.dispatchEvent(u)},m.prototype.removeAnchor=function(v){for(var u=v.childNodes,c=v.childNodes&&v.childNodes.length,i=0;i<c;i++){var l=u[i],f=l.classList&&Array.from(l.classList)||[];f.indexOf("lf-anchor")>-1&&(v.removeChild(v.childNodes[i]),c--,i--)}},m.prototype.getSnapshot=function(v,u){var c=this;this.fileName=v||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,u).then(function(l){var f=l.toDataURL("image/png").replace("image/png","image/octet-stream");c.triggerDownload(f)})},m.prototype.getSnapshotBase64=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(l){var f=l.toDataURL("image/png");i({data:f,width:l.width,height:l.height})})})},m.prototype.getSnapshotBlob=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(l){l.toBlob(function(f){i({data:f,width:l.width,height:l.height})},"image/png")})})},m.prototype.getClassRules=function(){var v="";if(this.useGlobalRules)for(var u=document.styleSheets,c=0;c<u.length;c++)for(var i=u[c],l=0;l<i.cssRules.length;l++)v+=i.cssRules[l].cssText;return this.customCssRules&&(v+=this.customCssRules),v},m.prototype.getCanvasData=function(v,u){var c=this,i=v.cloneNode(!0),l=i.lastChild,f=l.childNodes&&l.childNodes.length;if(f)for(var y=0;y<f;y++){var b=l.childNodes[y],x=b.classList&&Array.from(b.classList);if(x&&x.indexOf("lf-base")<0)l.removeChild(l.childNodes[y]),f--,y--;else{var S=l.childNodes[y];S&&S.childNodes.forEach(function(L){var U=L;c.removeAnchor(U.firstChild)})}}i.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var P=window.devicePixelRatio||1,A=document.createElement("canvas"),N=this.lf.graphModel.rootEl.querySelector(".lf-base"),R=N.getBoundingClientRect(),I=this.lf.graphModel,B=I.transformModel,k=B.SCALE_X,W=B.SCALE_Y,Y=Math.ceil(R.width/k),ie=Math.ceil(R.height/W);A.style.width=Y+"px",A.style.height=ie+"px",A.width=Y*P+80,A.height=ie*P+80;var te=A.getContext("2d");te.clearRect(0,0,A.width,A.height),te.scale(P,P),u?(te.fillStyle=u,te.fillRect(0,0,Y*P+80,ie*P+80)):te.clearRect(0,0,Y,ie);var q=new Image,Q=document.createElement("style");Q.innerHTML=this.getClassRules();var le=document.createElement("foreignObject");return le.appendChild(Q),i.appendChild(le),new Promise(function(L){q.onload=function(){te.drawImage(q,0,0),L(A)};var U="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),T=U.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");q.src=T})},m.pluginName="snapshot",m}(),d2=new an([32,32,1]);function Cm(){return d2.next()}var dr=function(){};dr.ObjTree=function(){return this};dr.ObjTree.VERSION="0.23";dr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;dr.ObjTree.prototype.attr_prefix="-";dr.ObjTree.prototype.parseXML=function(m){var v;if(window.DOMParser){var u=new DOMParser,c=u.parseFromString(m,"application/xml");if(!c)return;v=c.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(m),v=u.documentElement);if(!!v)return this.parseDOM(v)};dr.ObjTree.prototype.parseHTTP=function(m,v,u){var c={};for(var i in v)c[i]=v[i];if(c.method||(typeof c.postBody>"u"&&typeof c.postbody>"u"&&typeof c.parameters>"u"?c.method="get":c.method="post"),u){c.asynchronous=!0;var l=this,f=u,y=c.onComplete;c.onComplete=function(S){var P;S&&S.responseXML&&S.responseXML.documentElement&&(P=l.parseDOM(S.responseXML.documentElement)),f(P,S),y&&y(S)}}else c.asynchronous=!1;var b;if(typeof HTTP<"u"&&HTTP.Request){c.uri=m;var x=new HTTP.Request(c);x&&(b=x.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var x=new Ajax.Request(m,c);x&&(b=x.transport)}if(u)return b;if(b&&b.responseXML&&b.responseXML.documentElement)return this.parseDOM(b.responseXML.documentElement)};dr.ObjTree.prototype.parseDOM=function(m){if(!!m){if(this.__force_array={},this.force_array)for(var v=0;v<this.force_array.length;v++)this.__force_array[this.force_array[v]]=1;var u=this.parseElement(m);if(this.__force_array[m.nodeName]&&(u=[u]),m.nodeType!=11){var c={};c[m.nodeName]=u,u=c}return u}};dr.ObjTree.prototype.parseElement=function(m){if(m.nodeType!=7){if(m.nodeType==3||m.nodeType==4){var v=m.nodeValue.match(/[^\x00-\x20]/);return v==null?void 0:m.nodeValue}var u,c={};if(m.attributes&&m.attributes.length){u={};for(var i=0;i<m.attributes.length;i++){var l=m.attributes[i].nodeName;if(typeof l=="string"){var f=m.attributes[i].nodeValue;!f||(l=this.attr_prefix+l,typeof c[l]>"u"&&(c[l]=0),c[l]++,this.addNode(u,l,c[l],f))}}}if(m.childNodes&&m.childNodes.length){var y=!0;u&&(y=!1);for(var i=0;i<m.childNodes.length&&y;i++){var b=m.childNodes[i].nodeType;b==3||b==4||(y=!1)}if(y){u||(u="");for(var i=0;i<m.childNodes.length;i++)u+=m.childNodes[i].nodeValue}else{u||(u={});for(var i=0;i<m.childNodes.length;i++){var l=m.childNodes[i].nodeName;if(typeof l=="string"){var f=this.parseElement(m.childNodes[i]);!f||(typeof c[l]>"u"&&(c[l]=0),c[l]++,this.addNode(u,l,c[l],f))}}}}return u}};dr.ObjTree.prototype.addNode=function(m,v,u,c){this.__force_array[v]?(u==1&&(m[v]=[]),m[v][m[v].length]=c):u==1?m[v]=c:u==2?m[v]=[m[v],c]:m[v][m[v].length]=c};dr.ObjTree.prototype.writeXML=function(m){var v=this.hash_to_xml(null,m);return this.xmlDecl+v};dr.ObjTree.prototype.hash_to_xml=function(m,v){var u=[],c=[];for(var i in v)if(!!v.hasOwnProperty(i)){var l=v[i];i.charAt(0)!=this.attr_prefix?typeof l>"u"||l==null?u[u.length]="<"+i+" />":typeof l=="object"&&l.constructor==Array?u[u.length]=this.array_to_xml(i,l):typeof l=="object"?u[u.length]=this.hash_to_xml(i,l):u[u.length]=this.scalar_to_xml(i,l):c[c.length]=" "+i.substring(1)+'="'+this.xml_escape(l)+'"'}var f=c.join(""),y=u.join("");return typeof m>"u"||m==null||(u.length>0?y.match(/\n/)?y="<"+m+f+`>
`+y+"</"+m+`>
`:y="<"+m+f+">"+y+"</"+m+`>
`:y="<"+m+f+` />
`),y};dr.ObjTree.prototype.array_to_xml=function(m,v){for(var u=[],c=0;c<v.length;c++){var i=v[c];typeof i>"u"||i==null?u[u.length]="<"+m+" />":typeof i=="object"&&i.constructor==Array?u[u.length]=this.array_to_xml(m,i):typeof i=="object"?u[u.length]=this.hash_to_xml(m,i):u[u.length]=this.scalar_to_xml(m,i)}return u.join("")};dr.ObjTree.prototype.scalar_to_xml=function(m,v){return m=="#text"?this.xml_escape(v):"<"+m+">"+this.xml_escape(v)+"</"+m+`>
`};dr.ObjTree.prototype.xml_escape=function(m){return m.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Ql=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},un;(function(m){m.START="bpmn:startEvent",m.END="bpmn:endEvent",m.GATEWAY="bpmn:exclusiveGateway",m.USER="bpmn:userTask",m.SYSTEM="bpmn:serviceTask",m.FLOW="bpmn:sequenceFlow"})(un||(un={}));var cb=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function id(m){var v={};return Object.entries(m).forEach(function(u){var c=Ql(u,2),i=c[0],l=c[1];typeof l!="object"?i.indexOf("-")===0?v[i]=l:v["-"+i]=l:v[i]=id(l)}),v}function fd(m){var v={};return Object.entries(m).forEach(function(u){var c=Ql(u,2),i=c[0],l=c[1];typeof l=="string"?i.indexOf("-")===0?v[i.substr(1)]=l:v[i]=l:typeof l=="object"?v[i]=fd(l):v[i]=l}),v}function p2(m,v){var u=new Map;v.nodes.forEach(function(i){var l,f={"-id":i.id};if(!((l=i.text)===null||l===void 0)&&l.value&&(f["-name"]=i.text.value),i.properties){var y=id(i.properties);Object.assign(f,y)}u.set(i.id,f),m[i.type]?Array.isArray(m[i.type])?m[i.type].push(f):m[i.type]=[m[i.type],f]:m[i.type]=f});var c=v.edges.map(function(i){var l,f,y=u.get(i.targetNodeId);y["bpmn:incoming"]?Array.isArray(y["bpmn:incoming"])?y["bpmn:incoming"].push(i.id):y["bpmn:incoming"]=[y["bpmn:incoming"],i.id]:y["bpmn:incoming"]=i.id;var b=u.get(i.sourceNodeId);b["bpmn:outgoing"]?Array.isArray(b["bpmn:outgoing"])?b["bpmn:outgoing"].push(i.id):b["bpmn:outgoing"]=[b["bpmn:outgoing"],i.id]:b["bpmn:outgoing"]=i.id;var x={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((l=i.text)===null||l===void 0)&&l.value&&(x["-name"]=(f=i.text)===null||f===void 0?void 0:f.value),i.properties){var S=id(i.properties);Object.assign(x,S)}return x});m[un.FLOW]=c}function h2(m,v){m["bpmndi:BPMNEdge"]=v.edges.map(function(u){var c,i=u.id,l=u.pointsList.map(function(y){var b=y.x,x=y.y;return{"-x":b,"-y":x}}),f={"-id":i+"_di","-bpmnElement":i,"di:waypoint":l};return!((c=u.text)===null||c===void 0)&&c.value&&(f["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),f}),m["bpmndi:BPMNShape"]=v.nodes.map(function(u){var c,i=u.id,l=100,f=80,y=u.x,b=u.y,x=co.shapeConfigMap.get(u.type);x&&(l=x.width,f=x.height),y-=l/2,b-=f/2;var S={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":y,"-y":b,"-width":l,"-height":f}};return!((c=u.text)===null||c===void 0)&&c.value&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),S})}function v2(m){var v=[],u=[],c=m["bpmn:definitions"];if(c){var i=c["bpmn:process"];Object.keys(i).forEach(function(l){if(l.indexOf("bpmn:")===0){var f=i[l];if(l===un.FLOW){var y=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=g2(f,y)}else{var b=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];v=v.concat(y2(f,b,l))}}})}return{nodes:v,edges:u}}function y2(m,v,u){var c=[];if(Array.isArray(m))m.forEach(function(f){var y;Array.isArray(v)?y=v.find(function(x){return x["-bpmnElement"]===f["-id"]}):y=v;var b=Rm(y,u,f);c.push(b)});else{var i=void 0;Array.isArray(v)?i=v.find(function(f){return f["-bpmnElement"]===m["-id"]}):i=v;var l=Rm(i,u,m);c.push(l)}return c}function Rm(m,v,u){var c=Number(m["dc:Bounds"]["-x"]),i=Number(m["dc:Bounds"]["-y"]),l=u["-name"],f=co.shapeConfigMap.get(v);f&&(c+=f.width/2,i+=f.height/2);var y;Object.entries(u).forEach(function(P){var A=Ql(P,2),N=A[0],R=A[1];cb.indexOf(N)===-1&&(y||(y={}),y[N]=R)}),y&&(y=fd(y));var b;if(l&&(b={x:c,y:i,value:l},m["bpmndi:BPMNLabel"]&&m["bpmndi:BPMNLabel"]["dc:Bounds"])){var x=m["bpmndi:BPMNLabel"]["dc:Bounds"];b.x=Number(x["-x"])+Number(x["-width"])/2,b.y=Number(x["-y"])+Number(x["-height"])/2}var S={id:m["-bpmnElement"],type:v,x:c,y:i,properties:y};return b&&(S.text=b),S}function g2(m,v){var u=[];if(Array.isArray(m))m.forEach(function(i){var l;Array.isArray(v)?l=v.find(function(f){return f["-bpmnElement"]===i["-id"]}):l=v,u.push(Im(l,i))});else{var c=void 0;Array.isArray(v)?c=v.find(function(i){return i["-bpmnElement"]===m["-id"]}):c=v,u.push(Im(c,m))}return u}function Im(m,v){var u,c=v["-name"];if(c){var i=m["bpmndi:BPMNLabel"]["dc:Bounds"],l=0;c.split(`
`).forEach(function(b){l<b.length&&(l=b.length)}),u={value:c,x:Number(i["-x"])+l*10/2,y:Number(i["-y"])+7}}var f;Object.entries(v).forEach(function(b){var x=Ql(b,2),S=x[0],P=x[1];cb.indexOf(S)===-1&&(f||(f={}),f[S]=P)}),f&&(f=fd(f));var y={id:v["-id"],type:un.FLOW,pointsList:m["di:waypoint"].map(function(b){return{x:Number(b["-x"]),y:Number(b["-y"])}}),sourceNodeId:v["-sourceRef"],targetNodeId:v["-targetRef"],properties:f};return u&&(y.text=u),y}var co={pluginName:"bpmn-adapter",install:function(m){m.adapterIn=this.adapterIn,m.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(m,v){this.shapeConfigMap.set(m,v)},adapterOut:function(m){var v={"-id":"Process_"+Cm(),"-isExecutable":"false"};p2(v,m);var u={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};h2(u,m);var c={"bpmn:definitions":{"-id":"Definitions_"+Cm(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":v,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u}}};return c},adapterIn:function(m){if(m)return v2(m)}};co.shapeConfigMap.set(un.START,{width:wm.width,height:wm.height});co.shapeConfigMap.set(un.END,{width:Am.width,height:Am.height});co.shapeConfigMap.set(un.GATEWAY,{width:Nm.width,height:Nm.height});co.shapeConfigMap.set(un.SYSTEM,{width:Dm.width,height:Dm.height});co.shapeConfigMap.set(un.USER,{width:jm.width,height:jm.height});var _m=globalThis&&globalThis.__assign||function(){return _m=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},_m.apply(this,arguments)};globalThis&&globalThis.__read;var Bm;(function(m){m.HORIZONTAL="horizontal",m.VERTICAL="vertical"})(Bm||(Bm={}));var m2=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var b2=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var O2=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},E2=globalThis&&globalThis.__spread||function(){for(var m=[],v=0;v<arguments.length;v++)m=m.concat(O2(arguments[v]));return m},Ai="lf:defaultNodeMenu",Ni="lf:defaultEdgeMenu",Di="lf:defaultGraphMenu",Lm="lf:defaultSelectionMenu",x2=function(){function m(v){var u=this,c=v.lf;this.__menuDOM=document.createElement("ul"),this.lf=c,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){u.setMenuConfig(i)},this.lf.addMenuConfig=function(i){u.addMenuConfig(i)},this.lf.setMenuByType=function(i){u.setMenuByType(i)}}return m.prototype.init=function(){var v=this,u=[{text:"\u5220\u9664",callback:function(l){v.lf.deleteNode(l.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(l){v.lf.graphModel.editText(l.id)}},{text:"\u590D\u5236",callback:function(l){v.lf.cloneNode(l.id)}}];this.menuTypeMap.set(Ai,u);var c=[{text:"\u5220\u9664",callback:function(l){v.lf.deleteEdge(l.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(l){v.lf.graphModel.editText(l.id)}}];this.menuTypeMap.set(Ni,c),this.menuTypeMap.set(Di,[]);var i=[{text:"\u5220\u9664",callback:function(l){v.lf.clearSelectElements(),l.edges.forEach(function(f){return v.lf.deleteEdge(f.id)}),l.nodes.forEach(function(f){return v.lf.deleteNode(f.id)})}}];this.menuTypeMap.set(Lm,i)},m.prototype.render=function(v,u){var c=this;this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var l=i.target;Array.from(l.classList).indexOf("lf-menu-item")===-1&&Array.from(l.classList).indexOf("lf-menu")===-1;)l=l.parentElement;Array.from(l.classList).indexOf("lf-menu-item")>-1?(l.onclickCallback(c.__currentData),c.__menuDOM.style.display="none",c.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(i){var l=i.data,f=i.position,y=f.domOverlayPosition,b=y.x,x=y.y,S=l.id,P=c.lf.graphModel.getNodeModelById(S),A=[],N=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?A=P.menu:N?A=N:A=c.menuTypeMap.get(Ai),c.__currentData=l,c.showMenu(b,x,A)}),this.lf.on("edge:contextmenu",function(i){var l=i.data,f=i.position,y=f.domOverlayPosition,b=y.x,x=y.y,S=l.id,P=c.lf.graphModel.getEdgeModelById(S),A=[],N=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?A=P.menu:N?A=N:A=c.menuTypeMap.get(Ni),c.__currentData=l,c.showMenu(b,x,A)}),this.lf.on("blank:contextmenu",function(i){var l=i.position,f=c.menuTypeMap.get(Di),y=l.domOverlayPosition,b=y.x,x=y.y;c.showMenu(b,x,f)}),this.lf.on("selection:contextmenu",function(i){var l=i.data,f=i.position,y=c.menuTypeMap.get(Lm),b=f.domOverlayPosition,x=b.x,S=b.y;c.__currentData=l,c.showMenu(x,S,y)}),this.lf.on("node:mousedown",function(){c.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){c.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){c.__menuDOM.style.display="none"})},m.prototype.destroy=function(){var v;(v=this===null||this===void 0?void 0:this.__container)===null||v===void 0||v.removeChild(this.__menuDOM),this.__menuDOM=null},m.prototype.showMenu=function(v,u,c){if(!(!c||!c.length)){var i=this.__menuDOM;i.innerHTML="",i.append.apply(i,E2(this.__getMenuDom(c))),i.children.length&&(i.style.display="block",i.style.top=u+"px",i.style.left=v+"px")}},m.prototype.setMenuByType=function(v){!v.type||!v.menu||this.menuTypeMap.set(v.type,v.menu)},m.prototype.__getMenuDom=function(v){var u=[];return v&&v.length>0&&v.forEach(function(c){var i=document.createElement("li");if(c.className?i.className="lf-menu-item "+c.className:i.className="lf-menu-item",c.icon===!0){var l=document.createElement("span");l.className="lf-menu-item-icon",i.appendChild(l)}var f=document.createElement("span");f.className="lf-menu-item-text",c.text&&(f.innerText=c.text),i.appendChild(f),i.onclickCallback=c.callback,u.push(i)}),u},m.prototype.setMenuConfig=function(v){!v||(v.nodeMenu!==void 0&&this.menuTypeMap.set(Ai,v.nodeMenu?v.nodeMenu:[]),v.edgeMenu!==void 0&&this.menuTypeMap.set(Ni,v.edgeMenu?v.edgeMenu:[]),v.graphMenu!==void 0&&this.menuTypeMap.set(Di,v.graphMenu?v.graphMenu:[]))},m.prototype.addMenuConfig=function(v){if(!!v){if(Array.isArray(v.nodeMenu)){var u=this.menuTypeMap.get(Ai);this.menuTypeMap.set(Ai,u.concat(v.nodeMenu))}if(Array.isArray(v.edgeMenu)){var u=this.menuTypeMap.get(Ni);this.menuTypeMap.set(Ni,u.concat(v.edgeMenu))}if(Array.isArray(v.graphMenu)){var u=this.menuTypeMap.get(Di);this.menuTypeMap.set(Di,u.concat(v.graphMenu))}}},m.prototype.changeMenuItem=function(v,u){if(v==="add")this.addMenuConfig(u);else if(v==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},m.pluginName="menu",m}();globalThis&&globalThis.__read;globalThis&&globalThis.__values;var db=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Zo=globalThis&&globalThis.__assign||function(){return Zo=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Zo.apply(this,arguments)},kn=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};(function(m){db(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.pointFilter=function(u){for(var c=u,i=1;i<c.length-1;){var l=kn(c[i-1],2),f=l[0],y=l[1],b=kn(c[i],2),x=b[0],S=b[1],P=kn(c[i+1],2),A=P[0],N=P[1];f===x&&x===A||y===S&&S===N?c.splice(i,1):i++}return c},v.prototype.getEdge=function(){for(var u=this.props.model,c=u.points,i=u.isAnimation,l=u.arrowConfig,f=u.radius,y=f===void 0?5:f,b=u.getEdgeStyle(),x=u.getEdgeAnimationStyle(),S=this.pointFilter(c.split(" ").map(function(K){return K.split(",").map(function(se){return Number(se)})})),P=kn(S[0],2),A=P[0],N=P[1],R="M"+A+" "+N,I=1;I<S.length-1;I++){var B=kn(S[I-1],2),k=B[0],W=B[1],Y=kn(S[I],2),ie=Y[0],te=Y[1],q=kn(S[I+1],2),Q=q[0],le=q[1];if(ie===k&&te!==W){var L=te>W?te-y:te+y;R=R+" L "+ie+" "+L}if(te===W&&ie!==k){var U=ie>k?ie-y:ie+y;R=R+" L "+U+" "+te}if(R=R+" Q "+ie+" "+te,ie===Q&&te!==le){var L=te>le?te-y:te+y;R=R+" "+ie+" "+L}if(te===le&&ie!==Q){var U=ie>Q?ie-y:ie+y;R=R+" "+U+" "+te}}var T=kn(S[S.length-1],2),M=T[0],D=T[1];R=R+" L "+M+" "+D;var X=Zo(Zo(Zo({d:R,style:i?x:{}},b),l),{fill:"none"});return Ke.exports.h("path",Zo({d:R},X))},v})(Ke.exports.PolylineEdge);(function(m){db(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v})(Ke.exports.PolylineEdgeModel);var cd,Ht,pb,Ri,zm,hb={},vb=[],S2=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Gn(m,v){for(var u in v)m[u]=v[u];return m}function yb(m){var v=m.parentNode;v&&v.removeChild(m)}function Ii(m,v,u){var c,i,l,f={};for(l in v)l=="key"?c=v[l]:l=="ref"?i=v[l]:f[l]=v[l];if(arguments.length>2&&(f.children=arguments.length>3?cd.call(arguments,2):u),typeof m=="function"&&m.defaultProps!=null)for(l in m.defaultProps)f[l]===void 0&&(f[l]=m.defaultProps[l]);return Ul(m,f,c,i,null)}function Ul(m,v,u,c,i){var l={type:m,props:v,key:u,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++pb:i};return i==null&&Ht.vnode!=null&&Ht.vnode(l),l}function dd(m){return m.children}function Qo(m,v){this.props=m,this.context=v}function Bi(m,v){if(v==null)return m.__?Bi(m.__,m.__.__k.indexOf(m)+1):null;for(var u;v<m.__k.length;v++)if((u=m.__k[v])!=null&&u.__e!=null)return u.__e;return typeof m.type=="function"?Bi(m):null}function gb(m){var v,u;if((m=m.__)!=null&&m.__c!=null){for(m.__e=m.__c.base=null,v=0;v<m.__k.length;v++)if((u=m.__k[v])!=null&&u.__e!=null){m.__e=m.__c.base=u.__e;break}return gb(m)}}function Fm(m){(!m.__d&&(m.__d=!0)&&Ri.push(m)&&!Wl.__r++||zm!==Ht.debounceRendering)&&((zm=Ht.debounceRendering)||setTimeout)(Wl)}function Wl(){for(var m;Wl.__r=Ri.length;)m=Ri.sort(function(v,u){return v.__v.__b-u.__v.__b}),Ri=[],m.some(function(v){var u,c,i,l,f,y;v.__d&&(f=(l=(u=v).__v).__e,(y=u.__P)&&(c=[],(i=Gn({},l)).__v=l.__v+1,Eb(y,l,i,u.__n,y.ownerSVGElement!==void 0,l.__h!=null?[f]:null,c,f==null?Bi(l):f,l.__h),T2(c,l),l.__e!=f&&gb(l)))})}function mb(m,v,u,c,i,l,f,y,b,x){var S,P,A,N,R,I,B,k=c&&c.__k||vb,W=k.length;for(u.__k=[],S=0;S<v.length;S++)if((N=u.__k[S]=(N=v[S])==null||typeof N=="boolean"?null:typeof N=="string"||typeof N=="number"||typeof N=="bigint"?Ul(null,N,null,null,N):Array.isArray(N)?Ul(dd,{children:N},null,null,null):N.__b>0?Ul(N.type,N.props,N.key,N.ref?N.ref:null,N.__v):N)!=null){if(N.__=u,N.__b=u.__b+1,(A=k[S])===null||A&&N.key==A.key&&N.type===A.type)k[S]=void 0;else for(P=0;P<W;P++){if((A=k[P])&&N.key==A.key&&N.type===A.type){k[P]=void 0;break}A=null}Eb(m,N,A=A||hb,i,l,f,y,b,x),R=N.__e,(P=N.ref)&&A.ref!=P&&(B||(B=[]),A.ref&&B.push(A.ref,null,N),B.push(P,N.__c||R,N)),R!=null?(I==null&&(I=R),typeof N.type=="function"&&N.__k===A.__k?N.__d=b=bb(N,b,m):b=Ob(m,N,A,k,R,b),typeof u.type=="function"&&(u.__d=b)):b&&A.__e==b&&b.parentNode!=m&&(b=Bi(A))}for(u.__e=I,S=W;S--;)k[S]!=null&&Sb(k[S],k[S]);if(B)for(S=0;S<B.length;S++)xb(B[S],B[++S],B[++S])}function bb(m,v,u){for(var c,i=m.__k,l=0;i&&l<i.length;l++)(c=i[l])&&(c.__=m,v=typeof c.type=="function"?bb(c,v,u):Ob(u,c,c,i,c.__e,v));return v}function Ob(m,v,u,c,i,l){var f,y,b;if(v.__d!==void 0)f=v.__d,v.__d=void 0;else if(u==null||i!=l||i.parentNode==null)e:if(l==null||l.parentNode!==m)m.appendChild(i),f=null;else{for(y=l,b=0;(y=y.nextSibling)&&b<c.length;b+=2)if(y==i)break e;m.insertBefore(i,l),f=l}return f!==void 0?f:i.nextSibling}function P2(m,v,u,c,i){var l;for(l in u)l==="children"||l==="key"||l in v||Kl(m,l,null,u[l],c);for(l in v)i&&typeof v[l]!="function"||l==="children"||l==="key"||l==="value"||l==="checked"||u[l]===v[l]||Kl(m,l,v[l],u[l],c)}function Hm(m,v,u){v[0]==="-"?m.setProperty(v,u):m[v]=u==null?"":typeof u!="number"||S2.test(v)?u:u+"px"}function Kl(m,v,u,c,i){var l;e:if(v==="style")if(typeof u=="string")m.style.cssText=u;else{if(typeof c=="string"&&(m.style.cssText=c=""),c)for(v in c)u&&v in u||Hm(m.style,v,"");if(u)for(v in u)c&&u[v]===c[v]||Hm(m.style,v,u[v])}else if(v[0]==="o"&&v[1]==="n")l=v!==(v=v.replace(/Capture$/,"")),v=v.toLowerCase()in m?v.toLowerCase().slice(2):v.slice(2),m.l||(m.l={}),m.l[v+l]=u,u?c||m.addEventListener(v,l?Gm:km,l):m.removeEventListener(v,l?Gm:km,l);else if(v!=="dangerouslySetInnerHTML"){if(i)v=v.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(v!=="href"&&v!=="list"&&v!=="form"&&v!=="tabIndex"&&v!=="download"&&v in m)try{m[v]=u==null?"":u;break e}catch{}typeof u=="function"||(u==null||u===!1&&v.indexOf("-")==-1?m.removeAttribute(v):m.setAttribute(v,u))}}function km(m){this.l[m.type+!1](Ht.event?Ht.event(m):m)}function Gm(m){this.l[m.type+!0](Ht.event?Ht.event(m):m)}function Eb(m,v,u,c,i,l,f,y,b){var x,S,P,A,N,R,I,B,k,W,Y,ie,te,q=v.type;if(v.constructor!==void 0)return null;u.__h!=null&&(b=u.__h,y=v.__e=u.__e,v.__h=null,l=[y]),(x=Ht.__b)&&x(v);try{e:if(typeof q=="function"){for(B=v.props,k=(x=q.contextType)&&c[x.__c],W=x?k?k.props.value:x.__:c,u.__c?I=(S=v.__c=u.__c).__=S.__E:("prototype"in q&&q.prototype.render?v.__c=S=new q(B,W):(v.__c=S=new Qo(B,W),S.constructor=q,S.render=w2),k&&k.sub(S),S.props=B,S.state||(S.state={}),S.context=W,S.__n=c,P=S.__d=!0,S.__h=[],S._sb=[]),S.__s==null&&(S.__s=S.state),q.getDerivedStateFromProps!=null&&(S.__s==S.state&&(S.__s=Gn({},S.__s)),Gn(S.__s,q.getDerivedStateFromProps(B,S.__s))),A=S.props,N=S.state,x=0;x<S._sb.length;x++)S.__h.push(S._sb[x]),S._sb=[];if(P)q.getDerivedStateFromProps==null&&S.componentWillMount!=null&&S.componentWillMount(),S.componentDidMount!=null&&S.__h.push(S.componentDidMount);else{if(q.getDerivedStateFromProps==null&&B!==A&&S.componentWillReceiveProps!=null&&S.componentWillReceiveProps(B,W),!S.__e&&S.shouldComponentUpdate!=null&&S.shouldComponentUpdate(B,S.__s,W)===!1||v.__v===u.__v){S.props=B,S.state=S.__s,v.__v!==u.__v&&(S.__d=!1),S.__v=v,v.__e=u.__e,v.__k=u.__k,v.__k.forEach(function(Q){Q&&(Q.__=v)}),S.__h.length&&f.push(S);break e}S.componentWillUpdate!=null&&S.componentWillUpdate(B,S.__s,W),S.componentDidUpdate!=null&&S.__h.push(function(){S.componentDidUpdate(A,N,R)})}if(S.context=W,S.props=B,S.__v=v,S.__P=m,Y=Ht.__r,ie=0,"prototype"in q&&q.prototype.render)S.state=S.__s,S.__d=!1,Y&&Y(v),x=S.render(S.props,S.state,S.context);else do S.__d=!1,Y&&Y(v),x=S.render(S.props,S.state,S.context),S.state=S.__s;while(S.__d&&++ie<25);S.state=S.__s,S.getChildContext!=null&&(c=Gn(Gn({},c),S.getChildContext())),P||S.getSnapshotBeforeUpdate==null||(R=S.getSnapshotBeforeUpdate(A,N)),te=x!=null&&x.type===dd&&x.key==null?x.props.children:x,mb(m,Array.isArray(te)?te:[te],v,u,c,i,l,f,y,b),S.base=v.__e,v.__h=null,S.__h.length&&f.push(S),I&&(S.__E=S.__=null),S.__e=!1}else l==null&&v.__v===u.__v?(v.__k=u.__k,v.__e=u.__e):v.__e=M2(u.__e,v,u,c,i,l,f,b);(x=Ht.diffed)&&x(v)}catch(Q){v.__v=null,(b||l!=null)&&(v.__e=y,v.__h=!!b,l[l.indexOf(y)]=null),Ht.__e(Q,v,u)}}function T2(m,v){Ht.__c&&Ht.__c(v,m),m.some(function(u){try{m=u.__h,u.__h=[],m.some(function(c){c.call(u)})}catch(c){Ht.__e(c,u.__v)}})}function M2(m,v,u,c,i,l,f,y){var b,x,S,P=u.props,A=v.props,N=v.type,R=0;if(N==="svg"&&(i=!0),l!=null){for(;R<l.length;R++)if((b=l[R])&&"setAttribute"in b==!!N&&(N?b.localName===N:b.nodeType===3)){m=b,l[R]=null;break}}if(m==null){if(N===null)return document.createTextNode(A);m=i?document.createElementNS("http://www.w3.org/2000/svg",N):document.createElement(N,A.is&&A),l=null,y=!1}if(N===null)P===A||y&&m.data===A||(m.data=A);else{if(l=l&&cd.call(m.childNodes),x=(P=u.props||hb).dangerouslySetInnerHTML,S=A.dangerouslySetInnerHTML,!y){if(l!=null)for(P={},R=0;R<m.attributes.length;R++)P[m.attributes[R].name]=m.attributes[R].value;(S||x)&&(S&&(x&&S.__html==x.__html||S.__html===m.innerHTML)||(m.innerHTML=S&&S.__html||""))}if(P2(m,A,P,i,y),S)v.__k=[];else if(R=v.props.children,mb(m,Array.isArray(R)?R:[R],v,u,c,i&&N!=="foreignObject",l,f,l?l[0]:u.__k&&Bi(u,0),y),l!=null)for(R=l.length;R--;)l[R]!=null&&yb(l[R]);y||("value"in A&&(R=A.value)!==void 0&&(R!==m.value||N==="progress"&&!R||N==="option"&&R!==P.value)&&Kl(m,"value",R,P.value,!1),"checked"in A&&(R=A.checked)!==void 0&&R!==m.checked&&Kl(m,"checked",R,P.checked,!1))}return m}function xb(m,v,u){try{typeof m=="function"?m(v):m.current=v}catch(c){Ht.__e(c,u)}}function Sb(m,v,u){var c,i;if(Ht.unmount&&Ht.unmount(m),(c=m.ref)&&(c.current&&c.current!==m.__e||xb(c,null,v)),(c=m.__c)!=null){if(c.componentWillUnmount)try{c.componentWillUnmount()}catch(l){Ht.__e(l,v)}c.base=c.__P=null,m.__c=void 0}if(c=m.__k)for(i=0;i<c.length;i++)c[i]&&Sb(c[i],v,u||typeof m.type!="function");u||m.__e==null||yb(m.__e),m.__=m.__e=m.__d=void 0}function w2(m,v,u){return this.constructor(m,u)}cd=vb.slice,Ht={__e:function(m,v,u,c){for(var i,l,f;v=v.__;)if((i=v.__c)&&!i.__)try{if((l=i.constructor)&&l.getDerivedStateFromError!=null&&(i.setState(l.getDerivedStateFromError(m)),f=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(m,c||{}),f=i.__d),f)return i.__E=i}catch(y){m=y}throw m}},pb=0,Qo.prototype.setState=function(m,v){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Gn({},this.state),typeof m=="function"&&(m=m(Gn({},u),this.props)),m&&Gn(u,m),m!=null&&this.__v&&(v&&this._sb.push(v),Fm(this))},Qo.prototype.forceUpdate=function(m){this.__v&&(this.__e=!0,m&&this.__h.push(m),Fm(this))},Qo.prototype.render=dd,Ri=[],Wl.__r=0;var _i=globalThis&&globalThis.__assign||function(){return _i=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},_i.apply(this,arguments)};function pd(m){var v=m.x,u=m.y,c=m.width,i=m.height,l=m.radius,f=m.className,y=v-c/2,b=u-i/2,x=_i(_i({width:10,height:10,cx:0,cy:0,rx:l||0,ry:l||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+f},m),{x:y,y:b});return Ke.exports.h("rect",_i({},x))}pd.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Jo;(function(m){m.NODE="node",m.CIRCLE_NODE="circle-node",m.POLYGON_NODE="polygon-node",m.RECT_NODE="rect-node",m.HTML_NODE="html-node",m.TEXT_NODE="text-node",m.ELLIPSE_NODE="ellipse-node",m.DIAMOND_NODE="diamond-node",m.EDGE="edge",m.LINE_EDGE="line-edge",m.POLYLINE_EDGE="polyline-edge",m.BEZIER_EDGE="bezier-edge",m.GRAPH="graph"})(Jo||(Jo={}));function Xl(m){var v=m.x,u=m.y,c=m.width,i=m.height;return{minX:v-c/2,minY:u-i/2,maxX:v+c/2,maxY:u+i/2}}function $m(m){var v=Xl(m),u=m.radius,c=v.minX,i=v.minY,l=v.maxX,f=v.maxY;return[{x:c+u,y:i+u},{x:l-u,y:i+u},{x:l-u,y:f-u},{x:c+u,y:f-u}]}function Um(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=v.x,l=v.y,f={x:i,y:l},y=u.radius,b=Xl(u),x=Xl(c);if(i===b.minX){f.x=x.minX;var S=(l-u.y)/(u.height/2-y);S?f.y=c.y+(c.height/2-y)*S:f.y=c.y}else if(i===b.maxX){f.x=x.maxX;var S=(l-u.y)/(u.height/2-y);S?f.y=c.y+(c.height/2-y)*S:f.y=c.y}else if(l===b.minY){f.y=x.minY;var S=(i-u.x)/(u.width/2-y);S?f.x=c.x+(c.width/2-y)*S:f.x=c.x}else if(l===b.maxY){f.y=x.maxY;var S=(i-u.x)/(u.width/2-y);S?f.x=c.x+(c.width/2-y)*S:f.x=c.x}else{var P=$m(u),A=$m(c),N=Xl(u),R=N.minX,I=N.minY,B=N.maxX,k=N.maxY,W=-1;if(i-R<y&&l-I<y?W=0:B-i<y&&l-I<y?W=1:B-i<y&&k-l<y?W=2:i-R<y&&I-l<y&&(W=3),W>-1){var Y=Math.atan2(l-P[W].y,i-P[W].x);f.x=A[W].x+y*Math.cos(Y),f.y=A[W].y+y*Math.sin(Y)}}return f}function Xm(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=c.rx,l=c.ry,f=v,y=(v.y-u.y)/(v.x-u.x),b=i,x=l,S,P;return y>=1/0?(S=0,P=x):y<=-1/0?(S=0,P=-x):v.x-u.x>0?(S=b*x/Math.sqrt(x*x+b*b*y*y),P=b*x*y/Math.sqrt(x*x+b*b*y*y)):(S=-(b*x)/Math.sqrt(x*x+b*b*y*y),P=-(b*x*y)/Math.sqrt(x*x+b*b*y*y)),f={x:S+c.x,y:P+c.y},f}function Ym(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=v,l,f,y=v.x-u.x,b=v.y-u.y,x=u.rx,S=u.ry,P=Math.sqrt((x-Math.abs(y))*(x-Math.abs(y))+b*b)/Math.sqrt(x*x+S*S),A=c.rx,N=c.ry,R=Math.sqrt((A*A+N*N)*P*P*(A*A/(A*A+N*N))),I=R*(N/A);return y>=0?l=A-R:l=R-A,b>0?f=I:f=-I,i={x:l+c.x,y:f+c.y},i}var A2=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),lo=globalThis&&globalThis.__assign||function(){return lo=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},lo.apply(this,arguments)},N2=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},D2=Ke.exports.LogicFlowUtil.StepDrag,j2=function(m){A2(v,m);function v(u){var c=m.call(this)||this;return c.updatePosition=function(i){var l=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.x,x=y.y;c.nodeModel.x=b+l/2,c.nodeModel.y=x+f/2,c.nodeModel.moveText(l/2,f/2)},c.getResize=function(i){var l=i.index,f=i.deltaX,y=i.deltaY,b=i.width,x=i.height,S=i.pct,P=S===void 0?1:S,A={width:b,height:x};switch(l){case 0:A.width=b-f*P,A.height=x-y*P;break;case 1:A.width=b+f*P,A.height=x-y*P;break;case 2:A.width=b+f,A.height=x+y*P;break;case 3:A.width=b-f*P,A.height=x+y*P;break}return A},c.updateRect=function(i){var l=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,x=y.x,S=y.y,P=y.width,A=y.height,N=y.radius,R=c.index,I=c.getResize({index:R,deltaX:l,deltaY:f,width:P,height:A,pct:1}),B=c.nodeModel,k=B.minWidth,W=B.minHeight,Y=B.maxWidth,ie=B.maxHeight;if(I.width<k||I.width>Y||I.height<W||I.height>ie){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:l,deltaY:f}),c.nodeModel.width=I.width,c.nodeModel.height=I.height,c.nodeModel.setProperties({nodeSize:{width:I.width,height:I.height}});var te=c.getNodeEdges(b),q={x,y:S,width:P,height:A,radius:N},Q={x:c.nodeModel.x,y:c.nodeModel.y,width:c.nodeModel.width,height:c.nodeModel.height,radius:N},le={point:"",beforeNode:q,afterNode:Q},L;te.sourceEdges.forEach(function(U){le.point=U.startPoint,L=Um(le),U.updateStartPoint(L)}),te.targetEdges.forEach(function(U){le.point=U.endPoint,L=Um(le),U.updateEndPoint(L)}),c.eventEmit({beforeNode:q,afterNode:Q})},c.updateEllipse=function(i){var l=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,x=y.rx,S=y.ry,P=y.x,A=y.y,N=c.index,R=x,I=S,B=c.getResize({index:N,deltaX:l,deltaY:f,width:R,height:I,pct:1/2}),k=c.nodeModel,W=k.minWidth,Y=k.minHeight,ie=k.maxWidth,te=k.maxHeight;if(B.width<W/2||B.width>ie/2||B.height<Y/2||B.height>te/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:l,deltaY:f}),c.nodeModel.rx=c.nodeModel.rx+l/2,c.nodeModel.ry=c.nodeModel.ry+f/2,c.nodeModel.setProperties({nodeSize:{rx:B.width,ry:B.height}});var q=c.getNodeEdges(b),Q={x:P,y:A},le={rx:B.width,ry:B.height,x:c.nodeModel.x,y:c.nodeModel.y},L={point:{},beforeNode:Q,afterNode:le},U;q.sourceEdges.forEach(function(T){L.point=T.startPoint,U=Xm(L),T.updateStartPoint(U)}),q.targetEdges.forEach(function(T){L.point=T.endPoint,U=Xm(L),T.updateEndPoint(U)}),c.eventEmit({beforeNode:lo(lo({},Q),{rx:x,ry:S}),afterNode:le})},c.updateDiamond=function(i){var l=i.deltaX,f=i.deltaY,y=c.nodeModel,b=y.id,x=y.rx,S=y.ry,P=y.x,A=y.y,N=c.index,R=x,I=S,B=c.getResize({index:N,deltaX:l,deltaY:f,width:R,height:I,pct:1/2}),k=c.nodeModel,W=k.minWidth,Y=k.minHeight,ie=k.maxWidth,te=k.maxHeight;if(B.width<W/2||B.width>ie/2||B.height<Y/2||B.height>te/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:l,deltaY:f}),c.nodeModel.rx=c.nodeModel.rx+l/2,c.nodeModel.ry=c.nodeModel.ry+f/2,c.nodeModel.setProperties({nodeSize:{rx:B.width,ry:B.height}});var q={x:P,y:A,rx:x,ry:S},Q={rx:B.width,ry:B.height,x:c.nodeModel.x,y:c.nodeModel.y},le={point:{},beforeNode:q,afterNode:Q},L,U=c.getNodeEdges(b);U.sourceEdges.forEach(function(T){le.point=T.startPoint,L=Ym(le),T.updateStartPoint(L)}),U.targetEdges.forEach(function(T){le.point=T.endPoint,L=Ym(le),T.updateEndPoint(L)}),c.eventEmit({beforeNode:q,afterNode:Q})},c.eventEmit=function(i){var l=i.beforeNode,f=i.afterNode,y=c.nodeModel,b=y.id,x=y.modelType,S=y.type,P=lo({id:b,modelType:x,type:S},l),A=lo({id:b,modelType:x,type:S},f);c.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:A})},c.onDraging=function(i){var l,f=i.deltaX,y=i.deltaY,b=c.graphModel.transformModel,x=c.nodeModel.modelType;l=N2(b.fixDeltaXY(f,y),2),f=l[0],y=l[1],x===Jo.RECT_NODE||x===Jo.HTML_NODE?c.updateRect({deltaX:f,deltaY:y}):x===Jo.ELLIPSE_NODE?c.updateEllipse({deltaX:f,deltaY:y}):x===Jo.DIAMOND_NODE&&c.updateDiamond({deltaX:f,deltaY:y})},c.onDragEnd=function(){var i=c.graphModel.gridSize,l=i===void 0?1:i,f=l*Math.round(c.nodeModel.x/l),y=l*Math.round(c.nodeModel.y/l);c.nodeModel.moveTo(f,y)},c.index=u.index,c.nodeModel=u.model,c.graphModel=u.graphModel,c.state={},c.dragHandler=new D2({onDraging:c.onDraging,onDragEnd:c.onDragEnd,step:1}),c}return v.prototype.getNodeEdges=function(u){for(var c=this.graphModel,i=c.edges,l=[],f=[],y=0;y<i.length;y++){var b=i[y];b.sourceNodeId===u?l.push(b):i[y].targetNodeId===u&&f.push(b)}return{sourceEdges:l,targetEdges:f}},v.prototype.render=function(){var u=this.props,c=u.x,i=u.y,l=u.index,f=u.model,y=f.getControlPointStyle();return Ii("g",{className:"lf-resize-control-"+l},Ii(pd,lo({className:"lf-node-control"},{x:c,y:i},y,{onMouseDown:this.dragHandler.handleMouseDown})))},v}(Qo),C2=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Zl=globalThis&&globalThis.__assign||function(){return Zl=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Zl.apply(this,arguments)},ql=function(m){C2(v,m);function v(){var u=m.call(this)||this;return u.state={},u}return v.prototype.getResizeControl=function(){var u=this.props,c=u.model,i=u.graphModel,l=c.x,f=c.y,y=c.width,b=c.height,x={minX:l-y/2,minY:f-b/2,maxX:l+y/2,maxY:f+b/2},S=x.minX,P=x.minY,A=x.maxX,N=x.maxY,R=[{x:S,y:P},{x:A,y:P},{x:A,y:N},{x:S,y:N}];return R.map(function(I,B){return Ii(j2,Zl({index:B},I,{model:c,graphModel:i}))})},v.prototype.getGroupSolid=function(){var u=this.props.model,c=u.x,i=u.y,l=u.width,f=u.height,y=u.getResizeOutlineStyle();return Ii(pd,Zl({fill:"none"},y,{x:c,y:i,width:l,height:f}))},v.prototype.render=function(){return Ii("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},v}(Qo),Pb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),R2=function(m){Pb(v,m);function v(u,c){var i=m.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.width=l.width,i.height=l.height),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.resize=function(u,c){console.log(u,c)},v}(Ke.exports.RectNodeModel),I2=function(m){Pb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ke.exports.h(ql,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return Ke.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v}(Ke.exports.RectNode),Tb={type:"rect",view:I2,model:R2},Mb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(m){Mb(v,m);function v(u,c){var i=m.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.rx=l.rx,i.ry=l.ry),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v})(Ke.exports.EllipseNodeModel);(function(m){Mb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ke.exports.h(ql,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model,i=u.graphModel.editConfigModel.isSilentMode;return Ke.exports.h("g",null,this.getResizeShape(),c.isSelected&&!i?this.getControlGroup():"")},v})(Ke.exports.EllipseNode);var ad=globalThis&&globalThis.__assign||function(){return ad=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},ad.apply(this,arguments)};function _2(m){var v=m.fillOpacity,u=v===void 0?1:v,c=m.strokeWidth,i=c===void 0?1:c,l=m.strokeOpacity,f=l===void 0?1:l,y=m.fill,b=y===void 0?"transparent":y,x=m.stroke,S=x===void 0?"#000":x,P=m.points,A=m.className,N=A===void 0?"lf-basic-shape":A,R={fill:b,fillOpacity:u,strokeWidth:i,stroke:S,strokeOpacity:f,points:"",className:N};return R.points=P.map(function(I){return I.join(",")}).join(" "),Ke.exports.h("polygon",ad({},R))}var wb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),ud=globalThis&&globalThis.__assign||function(){return ud=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},ud.apply(this,arguments)};(function(m){wb(v,m);function v(u,c){var i=m.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.rx=l.rx,i.ry=l.ry),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v})(Ke.exports.DiamondNodeModel);(function(m){wb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ke.exports.h(ql,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){var u=this.props.model,c=u.points,i=u.getNodeStyle();return Ke.exports.h("g",null,Ke.exports.h(_2,ud({},i,{points:c})))},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return Ke.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(Ke.exports.DiamondNode);var Ab=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(m){Ab(v,m);function v(u,c){var i=m.call(this,u,c)||this,l=i.properties.nodeSize;return l&&(i.width=l.width,i.height=l.height),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v})(Ke.exports.HtmlNodeModel);(function(m){Ab(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ke.exports.h(ql,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return Ke.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(Ke.exports.HtmlNode);var Nb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var l in i)i.hasOwnProperty(l)&&(c[l]=i[l])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Jl=globalThis&&globalThis.__assign||function(){return Jl=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Jl.apply(this,arguments)},B2=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l},Vm=globalThis&&globalThis.__spread||function(){for(var m=[],v=0;v<arguments.length;v++)m=m.concat(B2(arguments[v]));return m},Wm=500,Km=300;(function(m){Nb(v,m);function v(){var u=m!==null&&m.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=Wm,u.unfoldedHight=Km,u}return v.prototype.initNodeData=function(u){var c=this;m.prototype.initNodeData.call(this,u);var i=[];Array.isArray(u.children)&&(i=u.children),this.children=new Set(i),this.width=Wm,this.height=Km,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){c.isFolded&&c.foldGroup(c.isFolded)})},v.prototype.getResizeOutlineStyle=function(){var u=m.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},v.prototype.foldGroup=function(u){var c=this;this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(l){var f=c.graphModel.getElement(l);f.visible=!u,i=i.concat(f.incoming.edges.concat(f.outgoing.edges))}),this.foldEdge(u,i)},v.prototype.getAnchorStyle=function(u){var c=m.prototype.getAnchorStyle.call(this,u);return c.stroke="transparent",c.fill="transparent",c.hover.fill="transparent",c.hover.stroke="transparent",c},v.prototype.foldEdge=function(u,c){var i=this;c.forEach(function(l,f){var y=l.id,b=l.sourceNodeId,x=l.targetNodeId,S=l.startPoint,P=l.endPoint,A=l.type,N=l.properties,R=l.text,I={id:y+"__"+f,sourceNodeId:b,targetNodeId:x,startPoint:S,endPoint:P,type:A,properties:N,text:R==null?void 0:R.value};l.virtual&&i.graphModel.deleteEdgeById(l.id);var B=i.graphModel.group.getNodeGroup(x);B||(B=i.graphModel.getNodeModelById(x));var k=i.graphModel.group.getNodeGroup(b);k||(k=i.graphModel.getNodeModelById(b)),u&&l.visible!==!1&&(i.children.has(b)||i.id===b?(I.startPoint=void 0,I.sourceNodeId=i.id):(I.endPoint=void 0,I.targetNodeId=i.id),(B.id!==i.id||k.id!==i.id)&&i.createVirtualEdge(I),l.visible=!1),!u&&l.visible===!1&&(B&&B.isGroup&&B.isFolded?(I.targetNodeId=B.id,I.endPoint=void 0,i.createVirtualEdge(I)):k&&k.isGroup&&k.isFolded?(I.sourceNodeId=k.id,I.startPoint=void 0,i.createVirtualEdge(I)):l.visible=!0)})},v.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var c=this.graphModel.addEdge(u);c.virtual=!0,c.text.editable=!1,c.isFoldedEdge=!0},v.prototype.isInRange=function(u){var c=u.x1,i=u.y1,l=u.x2,f=u.y2;return c>=this.x-this.width/2&&l<=this.x+this.width/2&&i>=this.y-this.height/2&&f<=this.y+this.height/2},v.prototype.isAllowMoveTo=function(u){var c=u.x1,i=u.y1,l=u.x2,f=u.y2;return{x:c>=this.x-this.width/2&&l<=this.x+this.width/2,y:i>=this.y-this.height/2&&f<=this.y+this.height/2}},v.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},v.prototype.addChild=function(u){this.children.add(u)},v.prototype.removeChild=function(u){this.children.delete(u)},v.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},v.prototype.getData=function(){var u=m.prototype.getData.call(this);u.children=Vm(this.children);var c=u.properties;return delete c.groupAddable,delete c.isFolded,u},v.prototype.getHistoryData=function(){var u=m.prototype.getData.call(this);u.children=Vm(this.children);var c=u.properties;return delete c.groupAddable,c.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},v.prototype.isAllowAppendIn=function(u){return!0},v})(Tb.model);(function(m){Nb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props.model,c=u.resizable,i=u.properties;return c&&!i.isFolded?m.prototype.getControlGroup.call(this):null},v.prototype.getAddedableShape=function(){var u=this.props.model,c=u.width,i=u.height,l=u.x,f=u.y,y=u.radius,b=u.properties;if(!b.groupAddable)return null;var x=this.props.model.getNodeStyle().strokeWidth,S=this.props.model.getAddableOutlineStyle(),P=c+x+8,A=i+x+8;return Ke.exports.h("rect",Jl(Jl({},S),{width:P,height:A,x:l-P/2,y:f-A/2,rx:y,ry:y}))},v.prototype.getFoldIcon=function(){var u=this.props.model,c=u.x-u.width/2+5,i=u.y-u.height/2+5;if(!u.foldable)return null;var l=Ke.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" M"+(c+7)+","+(i+2)+" "+(c+7)+","+(i+10):"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" "});return Ke.exports.h("g",{},[Ke.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),l])},v.prototype.getResizeShape=function(){return Ke.exports.h("g",{},[this.getAddedableShape(),m.prototype.getResizeShape.call(this),this.getFoldIcon()])},v})(Tb.view);var L2=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;var Zm=globalThis&&globalThis.__assign||function(){return Zm=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Zm.apply(this,arguments)},Jm=globalThis&&globalThis.__assign||function(){return Jm=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Jm.apply(this,arguments)},z2=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,l=[],f;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)l.push(i.value)}catch(y){f={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(f)throw f.error}}return l};globalThis&&globalThis.__spread;const F2={class:"control-container"},H2=["title","onMouseenter"],k2=["disabled","onClick"],G2=Li({__name:"Control",props:{lf:{default:null},catTurboData:{type:Boolean}},emits:["catData"],setup(m,{emit:v}){const u=m,c=Sm("controlButton3",null),i=Sm("controlButton4",null);let l=so(-1),f=so([{icon:"icon-zoom-out-hs",text:"\u7F29\u5C0F",size:"18",disabled:!1},{icon:"icon-enlarge-hs",text:"\u653E\u5927",size:"18",disabled:!1},{icon:"icon-full-screen-hs",text:"\u9002\u5E94",size:"15",disabled:!1},{icon:"icon-previous-hs",text:"\u4E0A\u4E00\u6B65",size:"15",disabled:!0},{icon:"icon-next-step-hs",text:"\u4E0B\u4E00\u6B65",size:"17",disabled:!0},{icon:"icon-download-hs",text:"\u4E0B\u8F7D\u56FE\u7247",size:"17",disabled:!1},{icon:"icon-watch-hs",text:"\u67E5\u770B\u6570\u636E",size:"17",disabled:!1}]);const y=(x,S)=>{["zoom","zoom","resetZoom","undo","redo","getSnapshot"].forEach((P,A)=>{let N=u.lf;S===1&&N.zoom(!0),S===6&&v("catData"),S===A&&N[P]()})},b=x=>{l.value=x};return qm(()=>{u.lf.on("history:change",({data:{undoAble:x,redoAble:S}})=>{zt(f)[3].disabled=zt(c).disabled=!x,zt(f)[4].disabled=zt(i).disabled=!S})}),(x,S)=>{const P=ji("el-tooltip");return on(),fo("div",F2,[gn("ul",null,[(on(!0),fo(eb,null,tb(zt(f),(A,N)=>(on(),fo("li",{key:N,title:A.text,class:"dark:text-bg_color",onMouseenter:Pm(R=>b(N),["prevent"]),onMouseleave:S[0]||(S[0]=Pm(R=>rb(l)?l.value=-1:l=-1,["prevent"]))},[Wo(P,{content:A.text,visible:zt(l)===N,placement:"right"},{default:Ko(()=>[gn("button",{ref_for:!0,ref:"controlButton"+N,disabled:A.disabled,style:Tm({cursor:A.disabled===!1?"pointer":"not-allowed",color:A.disabled===!1?"":"#00000040"}),onClick:R=>y(A,N)},[gn("span",{class:nb("iconfont "+A.icon),style:Tm({fontSize:`${A.size}px`})},null,6)],12,k2)]),_:2},1032,["content","visible"])],40,H2))),128))])])}}});const $2=ld(G2,[["__scopeId","data-v-db62ec8c"]]),U2={class:"node-panel"},X2=["onMousedown"],Y2={key:0,class:"shape"},V2={class:"node-label"},W2=Li({__name:"NodePanel",props:{lf:{default:null},nodeList:{default:null}},setup(m){const v=m;let u=so({a:"efrwe",b:"wewe"});const c=i=>{v.lf.dnd.startDrag({type:i.type,properties:zt(u)})};return(i,l)=>(on(),fo("div",U2,[(on(!0),fo(eb,null,tb(v.nodeList,f=>(on(),fo("div",{class:"node-item dark:text-bg_color",key:f.text,onMousedown:y=>c(f)},[gn("div",{class:nb(["node-item-icon",f.class])},[f.type==="user"||f.type==="time"?(on(),fo("div",Y2)):ob("",!0)],2),gn("span",V2,RC(f.text),1)],40,X2))),128))]))}});const K2=ld(W2,[["__scopeId","data-v-325c29f6"]]);var Db={exports:{}};(function(m,v){(function(u,c){m.exports=c(zC)})(IC,function(u){return function(){var c={789:function(y){y.exports=u}},i={};function l(y){var b=i[y];if(b!==void 0)return b.exports;var x=i[y]={exports:{}};return c[y](x,x.exports,l),x.exports}l.d=function(y,b){for(var x in b)l.o(b,x)&&!l.o(y,x)&&Object.defineProperty(y,x,{enumerable:!0,get:b[x]})},l.o=function(y,b){return Object.prototype.hasOwnProperty.call(y,b)},l.r=function(y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})};var f={};return function(){function y(T,M){(M==null||M>T.length)&&(M=T.length);for(var D=0,X=new Array(M);D<M;D++)X[D]=T[D];return X}function b(T,M){if(T){if(typeof T=="string")return y(T,M);var D=Object.prototype.toString.call(T).slice(8,-1);return D==="Object"&&T.constructor&&(D=T.constructor.name),D==="Map"||D==="Set"?Array.from(T):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?y(T,M):void 0}}function x(T){return function(M){if(Array.isArray(M))return y(M)}(T)||function(M){if(typeof Symbol<"u"&&M[Symbol.iterator]!=null||M["@@iterator"]!=null)return Array.from(M)}(T)||b(T)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S(T,M,D){return M in T?Object.defineProperty(T,M,{value:D,enumerable:!0,configurable:!0,writable:!0}):T[M]=D,T}l.r(f),l.d(f,{default:function(){return U}});var P=l(789),A=(0,P.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var T=this.data,M=this.onClick;return(0,P.createVNode)("span",{class:"vjs-tree-brackets",onClick:M},[T])}}),N=(0,P.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(T,M){var D=M.emit;return{uiType:(0,P.computed)(function(){return T.isMultiple?"checkbox":"radio"}),model:(0,P.computed)({get:function(){return T.checked},set:function(X){return D("update:modelValue",X)}})}},render:function(){var T=this.uiType,M=this.model,D=this.$emit;return(0,P.createVNode)("label",{class:["vjs-check-controller",M?"is-checked":""],onClick:function(X){return X.stopPropagation()}},[(0,P.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(T)},null),(0,P.createVNode)("input",{checked:M,class:"vjs-check-controller-original is-".concat(T),type:T,onChange:function(){return D("change",M)}},null)])}}),R=(0,P.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var T=this.nodeType,M=this.onClick,D=T==="objectStart"||T==="arrayStart";return D||T==="objectCollapsed"||T==="arrayCollapsed"?(0,P.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(D?"open":"close"),onClick:M},[(0,P.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,P.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});function I(T){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},I(T)}function B(T){return Object.prototype.toString.call(T).slice(8,-1).toLowerCase()}function k(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,X=arguments.length>3?arguments[3]:void 0,K=X||{},se=K.key,be=K.index,me=K.type,ge=me===void 0?"content":me,Ee=K.showComma,Oe=Ee!==void 0&&Ee,Ae=K.length,ze=Ae===void 0?1:Ae,Ye=B(T);if(Ye==="array"){var Ie=W(T.map(function(Be,_,F){return k(Be,"".concat(M,"[").concat(_,"]"),D+1,{index:_,showComma:_!==F.length-1,length:ze,type:ge})}));return[k("[",M,D,{showComma:!1,key:se,length:T.length,type:"arrayStart"})[0]].concat(Ie,k("]",M,D,{showComma:Oe,length:T.length,type:"arrayEnd"})[0])}if(Ye==="object"){var Pe=Object.keys(T),_e=W(Pe.map(function(Be,_,F){return k(T[Be],/^[a-zA-Z_]\w*$/.test(Be)?"".concat(M,".").concat(Be):"".concat(M,'["').concat(Be,'"]'),D+1,{key:Be,showComma:_!==F.length-1,length:ze,type:ge})}));return[k("{",M,D,{showComma:!1,key:se,index:be,length:Pe.length,type:"objectStart"})[0]].concat(_e,k("}",M,D,{showComma:Oe,length:Pe.length,type:"objectEnd"})[0])}return[{content:T,level:D,key:se,index:be,path:M,showComma:Oe,length:ze,type:ge}]}function W(T){if(typeof Array.prototype.flat=="function")return T.flat();for(var M=x(T),D=[];M.length;){var X=M.shift();Array.isArray(X)?M.unshift.apply(M,x(X)):D.push(X)}return D}function Y(T){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(T===null)return T;if(T instanceof Date)return new Date(T);if(T instanceof RegExp)return new RegExp(T);if(I(T)!=="object")return T;if(M.get(T))return M.get(T);if(Array.isArray(T)){var D=T.map(function(se){return Y(se,M)});return M.set(T,D),D}var X={};for(var K in T)X[K]=Y(T[K],M);return M.set(T,X),X}function ie(T,M){var D=Object.keys(T);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(T);M&&(X=X.filter(function(K){return Object.getOwnPropertyDescriptor(T,K).enumerable})),D.push.apply(D,X)}return D}function te(T){for(var M=1;M<arguments.length;M++){var D=arguments[M]!=null?arguments[M]:{};M%2?ie(Object(D),!0).forEach(function(X){S(T,X,D[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(D)):ie(Object(D)).forEach(function(X){Object.defineProperty(T,X,Object.getOwnPropertyDescriptor(D,X))})}return T}var q={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}},Q=(0,P.defineComponent)({name:"TreeNode",props:te(te({},q),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(T,M){var D=M.emit,X=(0,P.computed)(function(){return B(T.node.content)}),K=(0,P.computed)(function(){return"vjs-value vjs-value-".concat(X.value)}),se=(0,P.computed)(function(){return T.showDoubleQuotes?'"'.concat(T.node.key,'"'):T.node.key}),be=(0,P.computed)(function(){return T.selectableType==="multiple"}),me=(0,P.computed)(function(){return T.selectableType==="single"}),ge=(0,P.computed)(function(){return T.nodeSelectable(T.node)&&(be.value||me.value)}),Ee=(0,P.reactive)({editing:!1}),Oe=function(_){var F,V,fe=(V=(F=_.target)===null||F===void 0?void 0:F.value)==="null"?null:V==="undefined"?void 0:V==="true"||V!=="false"&&(V[0]+V[V.length-1]==='""'||V[0]+V[V.length-1]==="''"?V.slice(1,-1):typeof Number(V)=="number"&&!isNaN(Number(V))||V==="NaN"?Number(V):V);D("valueChange",fe,T.node.path)},Ae=(0,P.computed)(function(){var _,F,V=((_=(F=T.node)===null||F===void 0?void 0:F.content)!==null&&_!==void 0?_:"")+"";return X.value==="string"?'"'.concat(V,'"'):V}),ze=function(){var _=T.renderNodeValue;return _?_({node:T.node,defaultValue:Ae.value}):Ae.value},Ye=function(){D("bracketsClick",!T.collapsed,T.node.path)},Ie=function(){D("iconClick",!T.collapsed,T.node.path)},Pe=function(){D("selectedChange",T.node)},_e=function(){D("nodeClick",T.node),ge.value&&T.selectOnClickNode&&D("selectedChange",T.node)},Be=function(_){if(T.editable&&!Ee.editing){Ee.editing=!0;var F=function V(fe){var ve;fe.target!==_.target&&((ve=fe.target)===null||ve===void 0?void 0:ve.parentElement)!==_.target&&(Ee.editing=!1,document.removeEventListener("click",V))};document.removeEventListener("click",F),document.addEventListener("click",F)}};return function(){var _,F=T.node;return(0,P.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":T.showSelectController,"has-carets":T.showIcon,"is-highlight":T.highlightSelectedNode&&T.checked},onClick:_e,style:T.style},[T.showLineNumber&&(0,P.createVNode)("span",{class:"vjs-node-index"},[F.id+1]),T.showSelectController&&ge.value&&F.type!=="objectEnd"&&F.type!=="arrayEnd"&&(0,P.createVNode)(N,{isMultiple:be.value,checked:T.checked,onChange:Pe},null),(0,P.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(F.level)).map(function(V,fe){return(0,P.createVNode)("div",{key:fe,class:{"vjs-indent-unit":!0,"has-line":T.showLine}},null)}),T.showIcon&&(0,P.createVNode)(R,{nodeType:F.type,onClick:Ie},null)]),F.key&&(0,P.createVNode)("span",{class:"vjs-key"},[(_=T.renderNodeKey,_?_({node:T.node,defaultKey:se.value||""}):se.value),(0,P.createVNode)("span",null,[(0,P.createTextVNode)(":")])]),(0,P.createVNode)("span",null,[F.type!=="content"&&F.content?(0,P.createVNode)(A,{data:F.content.toString(),onClick:Ye},null):(0,P.createVNode)("span",{class:K.value,onClick:!T.editable||T.editableTrigger&&T.editableTrigger!=="click"?void 0:Be,onDblclick:T.editable&&T.editableTrigger==="dblclick"?Be:void 0},[T.editable&&Ee.editing?(0,P.createVNode)("input",{value:Ae.value,onChange:Oe,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):ze()]),F.showComma&&(0,P.createVNode)("span",null,[","]),T.showLength&&T.collapsed&&(0,P.createVNode)("span",{class:"vjs-comment"},[(0,P.createTextVNode)(" // "),F.length,(0,P.createTextVNode)(" items ")])])])}}});function le(T,M){var D=Object.keys(T);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(T);M&&(X=X.filter(function(K){return Object.getOwnPropertyDescriptor(T,K).enumerable})),D.push.apply(D,X)}return D}function L(T){for(var M=1;M<arguments.length;M++){var D=arguments[M]!=null?arguments[M]:{};M%2?le(Object(D),!0).forEach(function(X){S(T,X,D[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(D)):le(Object(D)).forEach(function(X){Object.defineProperty(T,X,Object.getOwnPropertyDescriptor(D,X))})}return T}var U=(0,P.defineComponent)({name:"Tree",props:L(L({},q),{},{data:{type:Object,default:null},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function}}),slots:["renderNodeKey","renderNodeValue"],emits:["nodeClick","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(T,M){var D=M.emit,X=M.slots,K=(0,P.ref)(),se=(0,P.computed)(function(){return k(T.data,T.rootPath)}),be=(0,P.reactive)({translateY:0,visibleData:null,hiddenPaths:se.value.reduce(function(_,F){var V,fe=F.level>=T.deep,ve=(V=T.pathCollapsible)===null||V===void 0?void 0:V.call(T,F);return F.type!=="objectStart"&&F.type!=="arrayStart"||!fe&&!ve?_:L(L({},_),{},S({},F.path,1))},{})}),me=(0,P.computed)(function(){for(var _=null,F=[],V=se.value.length,fe=0;fe<V;fe++){var ve=L(L({},se.value[fe]),{},{id:fe}),de=be.hiddenPaths[ve.path];if(_&&_.path===ve.path){var Le=_.type==="objectStart",Je=L(L(L({},ve),_),{},{showComma:ve.showComma,content:Le?"{...}":"[...]",type:Le?"objectCollapsed":"arrayCollapsed"});_=null,F.push(Je)}else{if(de&&!_){_=ve;continue}if(_)continue;F.push(ve)}}return F}),ge=(0,P.computed)(function(){var _=T.selectedValue;return _&&T.selectableType==="multiple"&&Array.isArray(_)?_:[_]}),Ee=(0,P.computed)(function(){return!T.selectableType||T.selectOnClickNode||T.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),Oe=function(){var _=me.value;if(T.virtual){var F,V=T.height/T.itemHeight,fe=((F=K.value)===null||F===void 0?void 0:F.scrollTop)||0,ve=Math.floor(fe/T.itemHeight),de=ve<0?0:ve+V>_.length?_.length-V:ve;de<0&&(de=0);var Le=de+V;be.translateY=de*T.itemHeight,be.visibleData=_.filter(function(Je,Xe){return Xe>=de&&Xe<Le})}else be.visibleData=_},Ae=function(){Oe()},ze=function(_){var F,V,fe=_.path,ve=T.selectableType;if(ve==="multiple"){var de=ge.value.findIndex(function(Ve){return Ve===fe}),Le=x(ge.value);de!==-1?Le.splice(de,1):Le.push(fe),D("update:selectedValue",Le),D("selectedChange",Le,x(ge.value))}else if(ve==="single"&&ge.value[0]!==fe){var Je=(F=ge.value,V=1,function(Ve){if(Array.isArray(Ve))return Ve}(F)||function(Ve,ye){var it=Ve==null?null:typeof Symbol<"u"&&Ve[Symbol.iterator]||Ve["@@iterator"];if(it!=null){var qe,Fe,Qe=[],xt=!0,lt=!1;try{for(it=it.call(Ve);!(xt=(qe=it.next()).done)&&(Qe.push(qe.value),!ye||Qe.length!==ye);xt=!0);}catch(mt){lt=!0,Fe=mt}finally{try{xt||it.return==null||it.return()}finally{if(lt)throw Fe}}return Qe}}(F,V)||b(F,V)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0],Xe=fe;D("update:selectedValue",Xe),D("selectedChange",Xe,Je)}},Ye=function(_){D("nodeClick",_)},Ie=function(_,F){if(_)be.hiddenPaths=L(L({},be.hiddenPaths),{},S({},F,1));else{var V=L({},be.hiddenPaths);delete V[F],be.hiddenPaths=V}},Pe=function(_,F){T.collapsedOnClickBrackets&&Ie(_,F),D("bracketsClick",_)},_e=function(_,F){Ie(_,F),D("iconClick",_)},Be=function(_,F){var V=Y(T.data),fe=T.rootPath;new Function("data","val","data".concat(F.slice(fe.length),"=val"))(V,_),D("update:data",V)};return(0,P.watchEffect)(function(){Ee.value&&function(_){throw new Error("[VueJSONPretty] ".concat(_))}(Ee.value)}),(0,P.watchEffect)(function(){me.value&&Oe()}),function(){var _,F,V=(_=T.renderNodeKey)!==null&&_!==void 0?_:X.renderNodeKey,fe=(F=T.renderNodeValue)!==null&&F!==void 0?F:X.renderNodeValue,ve=be.visibleData&&be.visibleData.map(function(de){return(0,P.createVNode)(Q,{key:de.id,node:de,collapsed:!!be.hiddenPaths[de.path],showDoubleQuotes:T.showDoubleQuotes,showLength:T.showLength,checked:ge.value.includes(de.path),selectableType:T.selectableType,showLine:T.showLine,showLineNumber:T.showLineNumber,showSelectController:T.showSelectController,selectOnClickNode:T.selectOnClickNode,nodeSelectable:T.nodeSelectable,highlightSelectedNode:T.highlightSelectedNode,editable:T.editable,editableTrigger:T.editableTrigger,showIcon:T.showIcon,renderNodeKey:V,renderNodeValue:fe,onNodeClick:Ye,onBracketsClick:Pe,onIconClick:_e,onSelectedChange:ze,onValueChange:Be,style:T.itemHeight&&T.itemHeight!==20?{lineHeight:"".concat(T.itemHeight,"px")}:{}},null)});return(0,P.createVNode)("div",{ref:K,class:{"vjs-tree":!0,"is-virtual":T.virtual},onScroll:T.virtual?Ae:void 0,style:T.showLineNumber?L({paddingLeft:"".concat(12*Number(me.value.length.toString().length),"px")},T.style):T.style},[T.virtual?(0,P.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(T.height,"px")}},[(0,P.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(me.value.length*T.itemHeight,"px")}},[(0,P.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(be.translateY,"px)")}},[ve])])]):ve])}}})}(),f}()})})(Db);const Z2=Qm(Db.exports);const J2=Li({__name:"DataDialog",props:{graphData:Object},setup(m){const v=m;return(u,c)=>(on(),nd(zt(Z2),{path:"res",deep:3,showLength:!0,data:v.graphData},null,8,["data"]))}}),Q2=sd($2),q2=sd(K2),eR=sd(J2),tR={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function rR(m){const{incoming:v,outgoing:u,properties:c,key:i}=m,{text:l,startPoint:f,endPoint:y,pointsList:b,logicFlowType:x}=c,S={id:i,type:x,sourceNodeId:v[0],targetNodeId:u[0],text:l,startPoint:f,endPoint:y,pointsList:b,properties:{}},P=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(m.properties).forEach(A=>{P.indexOf(A)===-1&&(S.properties[A]=m.properties[A])}),S}function nR(m){const{properties:v,key:u}=m,{x:c,y:i,text:l,logicFlowType:f}=v,y={id:u,type:f,x:c,y:i,text:l,properties:{}},b=["x","y","text","logicFlowType"];return Object.keys(m.properties).forEach(x=>{b.indexOf(x)===-1&&(y.properties[x]=m.properties[x])}),y}function oR(m){const v={nodes:[],edges:[]},u=m.flowElementList;return u&&u.length>0&&u.forEach(c=>{if(c.type===tR.SEQUENCE_FLOW){const i=rR(c);v.edges.push(i)}else{const i=nR(c);v.nodes.push(i)}}),v}const iR=m=>(_C("data-v-d0ad9326"),m=m(),BC(),m),aR={class:"card-header"},uR={class:"font-medium"},lR={class:"logic-flow-view"},sR=iR(()=>gn("div",{id:"LF-Turbo"},null,-1)),fR=Li({name:"FlowChart"}),cR=Li({...fR,setup(m){let v=so(null),u=so(null),c=so(!1),i=so({grid:!0,background:{color:"#f7f9ff"},keyboard:{enabled:!0}}),l=kC;function f(){$l.use(c2),$l.use(f2),$l.use(x2);const x=new $l({...zt(i),container:document.querySelector("#LF-Turbo")});v.value=x,zt(v).setDefaultEdgeType("bpmn:sequenceFlow"),y()}function y(){const x=oR(HC);v.value.render(x)}function b(){u.value=zt(v).getGraphData(),c.value=!0}return qm(()=>{f()}),(x,S)=>{const P=ji("el-link"),A=ji("el-scrollbar"),N=ji("el-dialog"),R=ji("el-card");return on(),nd(R,null,{header:Ko(()=>[gn("div",aR,[gn("span",uR,[Mm(" \u6D41\u7A0B\u56FE\u7EC4\u4EF6\uFF0C\u91C7\u7528\u5F00\u6E90\u7684 "),Wo(P,{href:"http://logic-flow.org/",target:"_blank",icon:zt(LC)("set-up"),style:{"font-size":"16px",margin:"0 4px 5px"}},{default:Ko(()=>[Mm(" LogicFlow ")]),_:1},8,["icon"])])])]),default:Ko(()=>[gn("div",lR,[zt(v)?(on(),nd(zt(Q2),{key:0,class:"demo-control",lf:zt(v),catTurboData:!1,onCatData:b},null,8,["lf"])):ob("",!0),Wo(zt(q2),{lf:zt(v),nodeList:zt(l)},null,8,["lf","nodeList"]),sR,Wo(N,{customClass:"flow-dialog",title:"\u6570\u636E",modelValue:zt(c),"onUpdate:modelValue":S[0]||(S[0]=I=>rb(c)?c.value=I:c=I),width:"50%"},{default:Ko(()=>[Wo(A,null,{default:Ko(()=>[Wo(zt(eR),{graphData:zt(u)},null,8,["graphData"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})}}});const vR=ld(cR,[["__scopeId","data-v-d0ad9326"]]);export{vR as default};
